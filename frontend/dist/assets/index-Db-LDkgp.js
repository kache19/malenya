(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hh={exports:{}},Qs={},mh={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x1;function XM(){if(x1)return mt;x1=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function b(O,H,fe){this.props=O,this.context=H,this.refs=x,this.updater=fe||w}b.prototype.isReactComponent={},b.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},b.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=b.prototype;function A(O,H,fe){this.props=O,this.context=H,this.refs=x,this.updater=fe||w}var T=A.prototype=new E;T.constructor=A,_(T,b.prototype),T.isPureReactComponent=!0;var P=Array.isArray,N=Object.prototype.hasOwnProperty,C={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(O,H,fe){var G,pe={},me=null,ne=null;if(H!=null)for(G in H.ref!==void 0&&(ne=H.ref),H.key!==void 0&&(me=""+H.key),H)N.call(H,G)&&!I.hasOwnProperty(G)&&(pe[G]=H[G]);var ve=arguments.length-2;if(ve===1)pe.children=fe;else if(1<ve){for(var re=Array(ve),ge=0;ge<ve;ge++)re[ge]=arguments[ge+2];pe.children=re}if(O&&O.defaultProps)for(G in ve=O.defaultProps,ve)pe[G]===void 0&&(pe[G]=ve[G]);return{$$typeof:e,type:O,key:me,ref:ne,props:pe,_owner:C.current}}function L(O,H){return{$$typeof:e,type:O.type,key:H,ref:O.ref,props:O.props,_owner:O._owner}}function W(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function q(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return H[fe]})}var D=/\/+/g;function B(O,H){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):H.toString(36)}function ee(O,H,fe,G,pe){var me=typeof O;(me==="undefined"||me==="boolean")&&(O=null);var ne=!1;if(O===null)ne=!0;else switch(me){case"string":case"number":ne=!0;break;case"object":switch(O.$$typeof){case e:case t:ne=!0}}if(ne)return ne=O,pe=pe(ne),O=G===""?"."+B(ne,0):G,P(pe)?(fe="",O!=null&&(fe=O.replace(D,"$&/")+"/"),ee(pe,H,fe,"",function(ge){return ge})):pe!=null&&(W(pe)&&(pe=L(pe,fe+(!pe.key||ne&&ne.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+O)),H.push(pe)),1;if(ne=0,G=G===""?".":G+":",P(O))for(var ve=0;ve<O.length;ve++){me=O[ve];var re=G+B(me,ve);ne+=ee(me,H,fe,re,pe)}else if(re=v(O),typeof re=="function")for(O=re.call(O),ve=0;!(me=O.next()).done;)me=me.value,re=G+B(me,ve++),ne+=ee(me,H,fe,re,pe);else if(me==="object")throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return ne}function Q(O,H,fe){if(O==null)return O;var G=[],pe=0;return ee(O,G,"","",function(me){return H.call(fe,me,pe++)}),G}function ae(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var oe={current:null},J={transition:null},F={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:J,ReactCurrentOwner:C};function X(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:Q,forEach:function(O,H,fe){Q(O,function(){H.apply(this,arguments)},fe)},count:function(O){var H=0;return Q(O,function(){H++}),H},toArray:function(O){return Q(O,function(H){return H})||[]},only:function(O){if(!W(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},mt.Component=b,mt.Fragment=n,mt.Profiler=o,mt.PureComponent=A,mt.StrictMode=r,mt.Suspense=f,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,mt.act=X,mt.cloneElement=function(O,H,fe){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var G=_({},O.props),pe=O.key,me=O.ref,ne=O._owner;if(H!=null){if(H.ref!==void 0&&(me=H.ref,ne=C.current),H.key!==void 0&&(pe=""+H.key),O.type&&O.type.defaultProps)var ve=O.type.defaultProps;for(re in H)N.call(H,re)&&!I.hasOwnProperty(re)&&(G[re]=H[re]===void 0&&ve!==void 0?ve[re]:H[re])}var re=arguments.length-2;if(re===1)G.children=fe;else if(1<re){ve=Array(re);for(var ge=0;ge<re;ge++)ve[ge]=arguments[ge+2];G.children=ve}return{$$typeof:e,type:O.type,key:pe,ref:me,props:G,_owner:ne}},mt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},mt.createElement=R,mt.createFactory=function(O){var H=R.bind(null,O);return H.type=O,H},mt.createRef=function(){return{current:null}},mt.forwardRef=function(O){return{$$typeof:d,render:O}},mt.isValidElement=W,mt.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:ae}},mt.memo=function(O,H){return{$$typeof:p,type:O,compare:H===void 0?null:H}},mt.startTransition=function(O){var H=J.transition;J.transition={};try{O()}finally{J.transition=H}},mt.unstable_act=X,mt.useCallback=function(O,H){return oe.current.useCallback(O,H)},mt.useContext=function(O){return oe.current.useContext(O)},mt.useDebugValue=function(){},mt.useDeferredValue=function(O){return oe.current.useDeferredValue(O)},mt.useEffect=function(O,H){return oe.current.useEffect(O,H)},mt.useId=function(){return oe.current.useId()},mt.useImperativeHandle=function(O,H,fe){return oe.current.useImperativeHandle(O,H,fe)},mt.useInsertionEffect=function(O,H){return oe.current.useInsertionEffect(O,H)},mt.useLayoutEffect=function(O,H){return oe.current.useLayoutEffect(O,H)},mt.useMemo=function(O,H){return oe.current.useMemo(O,H)},mt.useReducer=function(O,H,fe){return oe.current.useReducer(O,H,fe)},mt.useRef=function(O){return oe.current.useRef(O)},mt.useState=function(O){return oe.current.useState(O)},mt.useSyncExternalStore=function(O,H,fe){return oe.current.useSyncExternalStore(O,H,fe)},mt.useTransition=function(){return oe.current.useTransition()},mt.version="18.3.1",mt}var b1;function W0(){return b1||(b1=1,mh.exports=XM()),mh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w1;function ZM(){if(w1)return Qs;w1=1;var e=W0(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,m={},v=null,w=null;p!==void 0&&(v=""+p),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(w=f.ref);for(g in f)r.call(f,g)&&!l.hasOwnProperty(g)&&(m[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)m[g]===void 0&&(m[g]=f[g]);return{$$typeof:t,type:d,key:v,ref:w,props:m,_owner:o.current}}return Qs.Fragment=n,Qs.jsx=u,Qs.jsxs=u,Qs}var S1;function QM(){return S1||(S1=1,hh.exports=ZM()),hh.exports}var i=QM(),M=W0();const z=_t(M);var _c={},gh={exports:{}},Fn={},yh={exports:{}},vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N1;function eR(){return N1||(N1=1,(function(e){function t(J,F){var X=J.length;J.push(F);e:for(;0<X;){var O=X-1>>>1,H=J[O];if(0<o(H,F))J[O]=F,J[X]=H,X=O;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var F=J[0],X=J.pop();if(X!==F){J[0]=X;e:for(var O=0,H=J.length,fe=H>>>1;O<fe;){var G=2*(O+1)-1,pe=J[G],me=G+1,ne=J[me];if(0>o(pe,X))me<H&&0>o(ne,pe)?(J[O]=ne,J[me]=X,O=me):(J[O]=pe,J[G]=X,O=G);else if(me<H&&0>o(ne,X))J[O]=ne,J[me]=X,O=me;else break e}}return F}function o(J,F){var X=J.sortIndex-F.sortIndex;return X!==0?X:J.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,m=null,v=3,w=!1,_=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(J){for(var F=n(p);F!==null;){if(F.callback===null)r(p);else if(F.startTime<=J)r(p),F.sortIndex=F.expirationTime,t(f,F);else break;F=n(p)}}function P(J){if(x=!1,T(J),!_)if(n(f)!==null)_=!0,ae(N);else{var F=n(p);F!==null&&oe(P,F.startTime-J)}}function N(J,F){_=!1,x&&(x=!1,E(R),R=-1),w=!0;var X=v;try{for(T(F),m=n(f);m!==null&&(!(m.expirationTime>F)||J&&!q());){var O=m.callback;if(typeof O=="function"){m.callback=null,v=m.priorityLevel;var H=O(m.expirationTime<=F);F=e.unstable_now(),typeof H=="function"?m.callback=H:m===n(f)&&r(f),T(F)}else r(f);m=n(f)}if(m!==null)var fe=!0;else{var G=n(p);G!==null&&oe(P,G.startTime-F),fe=!1}return fe}finally{m=null,v=X,w=!1}}var C=!1,I=null,R=-1,L=5,W=-1;function q(){return!(e.unstable_now()-W<L)}function D(){if(I!==null){var J=e.unstable_now();W=J;var F=!0;try{F=I(!0,J)}finally{F?B():(C=!1,I=null)}}else C=!1}var B;if(typeof A=="function")B=function(){A(D)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,Q=ee.port2;ee.port1.onmessage=D,B=function(){Q.postMessage(null)}}else B=function(){b(D,0)};function ae(J){I=J,C||(C=!0,B())}function oe(J,F){R=b(function(){J(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){_||w||(_=!0,ae(N))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(J){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var X=v;v=F;try{return J()}finally{v=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,F){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var X=v;v=J;try{return F()}finally{v=X}},e.unstable_scheduleCallback=function(J,F,X){var O=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?O+X:O):X=O,J){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=X+H,J={id:g++,callback:F,priorityLevel:J,startTime:X,expirationTime:H,sortIndex:-1},X>O?(J.sortIndex=X,t(p,J),n(f)===null&&J===n(p)&&(x?(E(R),R=-1):x=!0,oe(P,X-O))):(J.sortIndex=H,t(f,J),_||w||(_=!0,ae(N))),J},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(J){var F=v;return function(){var X=v;v=F;try{return J.apply(this,arguments)}finally{v=X}}}})(vh)),vh}var _1;function tR(){return _1||(_1=1,yh.exports=eR()),yh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function nR(){if(A1)return Fn;A1=1;var e=W0(),t=tR();function n(a){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(a,s){u(a,s),u(a+"Capture",s)}function u(a,s){for(o[a]=s,a=0;a<s.length;a++)r.add(s[a])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},m={};function v(a){return f.call(m,a)?!0:f.call(g,a)?!1:p.test(a)?m[a]=!0:(g[a]=!0,!1)}function w(a,s,c,h){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,s,c,h){if(s===null||typeof s>"u"||w(a,s,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function x(a,s,c,h,y,S,j){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=a,this.type=s,this.sanitizeURL=S,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var s=a[0];b[s]=new x(s,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function A(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var s=a.replace(E,A);b[s]=new x(s,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var s=a.replace(E,A);b[s]=new x(s,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var s=a.replace(E,A);b[s]=new x(s,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function T(a,s,c,h){var y=b.hasOwnProperty(s)?b[s]:null;(y!==null?y.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(_(s,c,y,h)&&(c=null),h||y===null?v(s)&&(c===null?a.removeAttribute(s):a.setAttribute(s,""+c)):y.mustUseProperty?a[y.propertyName]=c===null?y.type===3?!1:"":c:(s=y.attributeName,h=y.attributeNamespace,c===null?a.removeAttribute(s):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,h?a.setAttributeNS(h,s,c):a.setAttribute(s,c))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),q=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),J=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=J&&a[J]||a["@@iterator"],typeof a=="function"?a:null)}var X=Object.assign,O;function H(a){if(O===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+a}var fe=!1;function G(a,s){if(!a||fe)return"";fe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(de){var h=de}Reflect.construct(a,[],s)}else{try{s.call()}catch(de){h=de}a.call(s.prototype)}else{try{throw Error()}catch(de){h=de}a()}}catch(de){if(de&&h&&typeof de.stack=="string"){for(var y=de.stack.split(`
`),S=h.stack.split(`
`),j=y.length-1,U=S.length-1;1<=j&&0<=U&&y[j]!==S[U];)U--;for(;1<=j&&0<=U;j--,U--)if(y[j]!==S[U]){if(j!==1||U!==1)do if(j--,U--,0>U||y[j]!==S[U]){var K=`
`+y[j].replace(" at new "," at ");return a.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",a.displayName)),K}while(1<=j&&0<=U);break}}}finally{fe=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?H(a):""}function pe(a){switch(a.tag){case 5:return H(a.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return a=G(a.type,!1),a;case 11:return a=G(a.type.render,!1),a;case 1:return a=G(a.type,!0),a;default:return""}}function me(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case I:return"Fragment";case C:return"Portal";case L:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case q:return(a.displayName||"Context")+".Consumer";case W:return(a._context.displayName||"Context")+".Provider";case D:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case Q:return s=a.displayName||null,s!==null?s:me(a.type)||"Memo";case ae:s=a._payload,a=a._init;try{return me(a(s))}catch{}}return null}function ne(a){var s=a.type;switch(a.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=s.render,a=a.displayName||a.name||"",s.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ve(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function re(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ge(a){var s=re(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),h=""+a[s];if(!a.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,S=c.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(j){h=""+j,S.call(this,j)}}),Object.defineProperty(a,s,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(j){h=""+j},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function xe(a){a._valueTracker||(a._valueTracker=ge(a))}function $(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var c=s.getValue(),h="";return a&&(h=re(a)?a.checked?"true":"false":a.value),a=h,a!==c?(s.setValue(a),!0):!1}function Ae(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Se(a,s){var c=s.checked;return X({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??a._wrapperState.initialChecked})}function Re(a,s){var c=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;c=ve(s.value!=null?s.value:c),a._wrapperState={initialChecked:h,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Y(a,s){s=s.checked,s!=null&&T(a,"checked",s,!1)}function le(a,s){Y(a,s);var c=ve(s.value),h=s.type;if(c!=null)h==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if(h==="submit"||h==="reset"){a.removeAttribute("value");return}s.hasOwnProperty("value")?he(a,s.type,c):s.hasOwnProperty("defaultValue")&&he(a,s.type,ve(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(a.defaultChecked=!!s.defaultChecked)}function te(a,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+a._wrapperState.initialValue,c||s===a.value||(a.value=s),a.defaultValue=s}c=a.name,c!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,c!==""&&(a.name=c)}function he(a,s,c){(s!=="number"||Ae(a.ownerDocument)!==a)&&(c==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}var Te=Array.isArray;function Ee(a,s,c,h){if(a=a.options,s){s={};for(var y=0;y<c.length;y++)s["$"+c[y]]=!0;for(c=0;c<a.length;c++)y=s.hasOwnProperty("$"+a[c].value),a[c].selected!==y&&(a[c].selected=y),y&&h&&(a[c].defaultSelected=!0)}else{for(c=""+ve(c),s=null,y=0;y<a.length;y++){if(a[y].value===c){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function Ue(a,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},s,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function je(a,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(n(92));if(Te(c)){if(1<c.length)throw Error(n(93));c=c[0]}s=c}s==null&&(s=""),c=s}a._wrapperState={initialValue:ve(c)}}function ot(a,s){var c=ve(s.value),h=ve(s.defaultValue);c!=null&&(c=""+c,c!==a.value&&(a.value=c),s.defaultValue==null&&a.defaultValue!==c&&(a.defaultValue=c)),h!=null&&(a.defaultValue=""+h)}function Be(a){var s=a.textContent;s===a._wrapperState.initialValue&&s!==""&&s!==null&&(a.value=s)}function wt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(a,s){return a==null||a==="http://www.w3.org/1999/xhtml"?wt(s):a==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Yt,ce=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,h,y){MSApp.execUnsafeLocalFunction(function(){return a(s,c,h,y)})}:a})(function(a,s){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=s;else{for(Yt=Yt||document.createElement("div"),Yt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Yt.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;s.firstChild;)a.appendChild(s.firstChild)}});function Ge(a,s){if(s){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=s;return}}a.textContent=s}var Ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},At=["Webkit","ms","Moz","O"];Object.keys(Ye).forEach(function(a){At.forEach(function(s){s=s+a.charAt(0).toUpperCase()+a.substring(1),Ye[s]=Ye[a]})});function Lt(a,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||Ye.hasOwnProperty(a)&&Ye[a]?(""+s).trim():s+"px"}function De(a,s){a=a.style;for(var c in s)if(s.hasOwnProperty(c)){var h=c.indexOf("--")===0,y=Lt(c,s[c],h);c==="float"&&(c="cssFloat"),h?a.setProperty(c,y):a[c]=y}}var Xt=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(a,s){if(s){if(Xt[a]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function _n(a,s){if(a.indexOf("-")===-1)return typeof s.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pt=null;function kn(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Mr=null,An=null,Gn=null;function $t(a){if(a=$s(a)){if(typeof Mr!="function")throw Error(n(280));var s=a.stateNode;s&&(s=$u(s),Mr(a.stateNode,a.type,s))}}function da(a){An?Gn?Gn.push(a):Gn=[a]:An=a}function Yr(){if(An){var a=An,s=Gn;if(Gn=An=null,$t(a),s)for(a=0;a<s.length;a++)$t(s[a])}}function V(a,s){return a(s)}function Le(){}var Oe=!1;function rt(a,s,c){if(Oe)return a(s,c);Oe=!0;try{return V(a,s,c)}finally{Oe=!1,(An!==null||Gn!==null)&&(Le(),Yr())}}function Je(a,s){var c=a.stateNode;if(c===null)return null;var h=$u(c);if(h===null)return null;c=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,s,typeof c));return c}var qt=!1;if(d)try{var it={};Object.defineProperty(it,"passive",{get:function(){qt=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{qt=!1}function Mn(a,s,c,h,y,S,j,U,K){var de=Array.prototype.slice.call(arguments,3);try{s.apply(c,de)}catch(_e){this.onError(_e)}}var ft=!1,Tn=null,Rr=!1,Xa=null,Or={onError:function(a){ft=!0,Tn=a}};function Rf(a,s,c,h,y,S,j,U,K){ft=!1,Tn=null,Mn.apply(Or,arguments)}function Of(a,s,c,h,y,S,j,U,K){if(Rf.apply(this,arguments),ft){if(ft){var de=Tn;ft=!1,Tn=null}else throw Error(n(198));Rr||(Rr=!0,Xa=de)}}function Xr(a){var s=a,c=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(c=s.return),a=s.return;while(a)}return s.tag===3?c:null}function fu(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function pu(a){if(Xr(a)!==a)throw Error(n(188))}function Df(a){var s=a.alternate;if(!s){if(s=Xr(a),s===null)throw Error(n(188));return s!==a?null:a}for(var c=a,h=s;;){var y=c.return;if(y===null)break;var S=y.alternate;if(S===null){if(h=y.return,h!==null){c=h;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===c)return pu(y),a;if(S===h)return pu(y),s;S=S.sibling}throw Error(n(188))}if(c.return!==h.return)c=y,h=S;else{for(var j=!1,U=y.child;U;){if(U===c){j=!0,c=y,h=S;break}if(U===h){j=!0,h=y,c=S;break}U=U.sibling}if(!j){for(U=S.child;U;){if(U===c){j=!0,c=S,h=y;break}if(U===h){j=!0,h=S,c=y;break}U=U.sibling}if(!j)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:s}function hu(a){return a=Df(a),a!==null?mu(a):null}function mu(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var s=mu(a);if(s!==null)return s;a=a.sibling}return null}var gu=t.unstable_scheduleCallback,yu=t.unstable_cancelCallback,Lf=t.unstable_shouldYield,Pi=t.unstable_requestPaint,Tt=t.unstable_now,vu=t.unstable_getCurrentPriorityLevel,xs=t.unstable_ImmediatePriority,xu=t.unstable_UserBlockingPriority,Za=t.unstable_NormalPriority,bu=t.unstable_LowPriority,bs=t.unstable_IdlePriority,fa=null,Hn=null;function wu(a){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(fa,a,void 0,(a.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:Pe,k=Math.log,ie=Math.LN2;function Pe(a){return a>>>=0,a===0?32:31-(k(a)/ie|0)|0}var be=64,we=4194304;function nt(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function ct(a,s){var c=a.pendingLanes;if(c===0)return 0;var h=0,y=a.suspendedLanes,S=a.pingedLanes,j=c&268435455;if(j!==0){var U=j&~y;U!==0?h=nt(U):(S&=j,S!==0&&(h=nt(S)))}else j=c&~y,j!==0?h=nt(j):S!==0&&(h=nt(S));if(h===0)return 0;if(s!==0&&s!==h&&(s&y)===0&&(y=h&-h,S=s&-s,y>=S||y===16&&(S&4194240)!==0))return s;if((h&4)!==0&&(h|=c&16),s=a.entangledLanes,s!==0)for(a=a.entanglements,s&=h;0<s;)c=31-Rn(s),y=1<<c,h|=a[c],s&=~y;return h}function ht(a,s){switch(a){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wn(a,s){for(var c=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,S=a.pendingLanes;0<S;){var j=31-Rn(S),U=1<<j,K=y[j];K===-1?((U&c)===0||(U&h)!==0)&&(y[j]=ht(U,s)):K<=s&&(a.expiredLanes|=U),S&=~U}}function Zr(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function ws(){var a=be;return be<<=1,(be&4194240)===0&&(be=64),a}function Qa(a){for(var s=[],c=0;31>c;c++)s.push(a);return s}function Gt(a,s,c){a.pendingLanes|=s,s!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,s=31-Rn(s),a[s]=c}function xr(a,s){var c=a.pendingLanes&~s;a.pendingLanes=s,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=s,a.mutableReadLanes&=s,a.entangledLanes&=s,s=a.entanglements;var h=a.eventTimes;for(a=a.expirationTimes;0<c;){var y=31-Rn(c),S=1<<y;s[y]=0,h[y]=-1,a[y]=-1,c&=~S}}function Qr(a,s){var c=a.entangledLanes|=s;for(a=a.entanglements;c;){var h=31-Rn(c),y=1<<h;y&s|a[h]&s&&(a[h]|=s),c&=~y}}var vt=0;function ei(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Su,$f,Qx,eb,tb,qf=!1,Nu=[],ji=null,Ii=null,ki=null,Ss=new Map,Ns=new Map,Mi=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nb(a,s){switch(a){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Ss.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(s.pointerId)}}function _s(a,s,c,h,y,S){return a===null||a.nativeEvent!==S?(a={blockedOn:s,domEventName:c,eventSystemFlags:h,nativeEvent:S,targetContainers:[y]},s!==null&&(s=$s(s),s!==null&&$f(s)),a):(a.eventSystemFlags|=h,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function bk(a,s,c,h,y){switch(s){case"focusin":return ji=_s(ji,a,s,c,h,y),!0;case"dragenter":return Ii=_s(Ii,a,s,c,h,y),!0;case"mouseover":return ki=_s(ki,a,s,c,h,y),!0;case"pointerover":var S=y.pointerId;return Ss.set(S,_s(Ss.get(S)||null,a,s,c,h,y)),!0;case"gotpointercapture":return S=y.pointerId,Ns.set(S,_s(Ns.get(S)||null,a,s,c,h,y)),!0}return!1}function rb(a){var s=pa(a.target);if(s!==null){var c=Xr(s);if(c!==null){if(s=c.tag,s===13){if(s=fu(c),s!==null){a.blockedOn=s,tb(a.priority,function(){Qx(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function _u(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var c=Uf(a.domEventName,a.eventSystemFlags,s[0],a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);pt=h,c.target.dispatchEvent(h),pt=null}else return s=$s(c),s!==null&&$f(s),a.blockedOn=c,!1;s.shift()}return!0}function ib(a,s,c){_u(a)&&c.delete(s)}function wk(){qf=!1,ji!==null&&_u(ji)&&(ji=null),Ii!==null&&_u(Ii)&&(Ii=null),ki!==null&&_u(ki)&&(ki=null),Ss.forEach(ib),Ns.forEach(ib)}function As(a,s){a.blockedOn===s&&(a.blockedOn=null,qf||(qf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,wk)))}function Ts(a){function s(y){return As(y,a)}if(0<Nu.length){As(Nu[0],a);for(var c=1;c<Nu.length;c++){var h=Nu[c];h.blockedOn===a&&(h.blockedOn=null)}}for(ji!==null&&As(ji,a),Ii!==null&&As(Ii,a),ki!==null&&As(ki,a),Ss.forEach(s),Ns.forEach(s),c=0;c<Mi.length;c++)h=Mi[c],h.blockedOn===a&&(h.blockedOn=null);for(;0<Mi.length&&(c=Mi[0],c.blockedOn===null);)rb(c),c.blockedOn===null&&Mi.shift()}var eo=P.ReactCurrentBatchConfig,Au=!0;function Sk(a,s,c,h){var y=vt,S=eo.transition;eo.transition=null;try{vt=1,Ff(a,s,c,h)}finally{vt=y,eo.transition=S}}function Nk(a,s,c,h){var y=vt,S=eo.transition;eo.transition=null;try{vt=4,Ff(a,s,c,h)}finally{vt=y,eo.transition=S}}function Ff(a,s,c,h){if(Au){var y=Uf(a,s,c,h);if(y===null)ip(a,s,h,Tu,c),nb(a,h);else if(bk(y,a,s,c,h))h.stopPropagation();else if(nb(a,h),s&4&&-1<xk.indexOf(a)){for(;y!==null;){var S=$s(y);if(S!==null&&Su(S),S=Uf(a,s,c,h),S===null&&ip(a,s,h,Tu,c),S===y)break;y=S}y!==null&&h.stopPropagation()}else ip(a,s,h,null,c)}}var Tu=null;function Uf(a,s,c,h){if(Tu=null,a=kn(h),a=pa(a),a!==null)if(s=Xr(a),s===null)a=null;else if(c=s.tag,c===13){if(a=fu(s),a!==null)return a;a=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null);return Tu=a,null}function ab(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case xs:return 1;case xu:return 4;case Za:case bu:return 16;case bs:return 536870912;default:return 16}default:return 16}}var Ri=null,Bf=null,Cu=null;function ob(){if(Cu)return Cu;var a,s=Bf,c=s.length,h,y="value"in Ri?Ri.value:Ri.textContent,S=y.length;for(a=0;a<c&&s[a]===y[a];a++);var j=c-a;for(h=1;h<=j&&s[c-h]===y[S-h];h++);return Cu=y.slice(a,1<h?1-h:void 0)}function Eu(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Pu(){return!0}function sb(){return!1}function Kn(a){function s(c,h,y,S,j){this._reactName=c,this._targetInst=y,this.type=h,this.nativeEvent=S,this.target=j,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(c=a[U],this[U]=c?c(S):S[U]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Pu:sb,this.isPropagationStopped=sb,this}return X(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),s}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zf=Kn(to),Cs=X({},to,{view:0,detail:0}),_k=Kn(Cs),Vf,Gf,Es,ju=X({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Es&&(Es&&a.type==="mousemove"?(Vf=a.screenX-Es.screenX,Gf=a.screenY-Es.screenY):Gf=Vf=0,Es=a),Vf)},movementY:function(a){return"movementY"in a?a.movementY:Gf}}),lb=Kn(ju),Ak=X({},ju,{dataTransfer:0}),Tk=Kn(Ak),Ck=X({},Cs,{relatedTarget:0}),Hf=Kn(Ck),Ek=X({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=Kn(Ek),jk=X({},to,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ik=Kn(jk),kk=X({},to,{data:0}),ub=Kn(kk),Mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ok={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dk(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Ok[a])?!!s[a]:!1}function Wf(){return Dk}var Lk=X({},Cs,{key:function(a){if(a.key){var s=Mk[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Eu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Rk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wf,charCode:function(a){return a.type==="keypress"?Eu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Eu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$k=Kn(Lk),qk=X({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cb=Kn(qk),Fk=X({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wf}),Uk=Kn(Fk),Bk=X({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),zk=Kn(Bk),Vk=X({},ju,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Kn(Vk),Hk=[9,13,27,32],Kf=d&&"CompositionEvent"in window,Ps=null;d&&"documentMode"in document&&(Ps=document.documentMode);var Wk=d&&"TextEvent"in window&&!Ps,db=d&&(!Kf||Ps&&8<Ps&&11>=Ps),fb=" ",pb=!1;function hb(a,s){switch(a){case"keyup":return Hk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mb(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var no=!1;function Kk(a,s){switch(a){case"compositionend":return mb(s);case"keypress":return s.which!==32?null:(pb=!0,fb);case"textInput":return a=s.data,a===fb&&pb?null:a;default:return null}}function Jk(a,s){if(no)return a==="compositionend"||!Kf&&hb(a,s)?(a=ob(),Cu=Bf=Ri=null,no=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return db&&s.locale!=="ko"?null:s.data;default:return null}}var Yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gb(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Yk[a.type]:s==="textarea"}function yb(a,s,c,h){da(h),s=Ou(s,"onChange"),0<s.length&&(c=new zf("onChange","change",null,c,h),a.push({event:c,listeners:s}))}var js=null,Is=null;function Xk(a){Ob(a,0)}function Iu(a){var s=so(a);if($(s))return a}function Zk(a,s){if(a==="change")return s}var vb=!1;if(d){var Jf;if(d){var Yf="oninput"in document;if(!Yf){var xb=document.createElement("div");xb.setAttribute("oninput","return;"),Yf=typeof xb.oninput=="function"}Jf=Yf}else Jf=!1;vb=Jf&&(!document.documentMode||9<document.documentMode)}function bb(){js&&(js.detachEvent("onpropertychange",wb),Is=js=null)}function wb(a){if(a.propertyName==="value"&&Iu(Is)){var s=[];yb(s,Is,a,kn(a)),rt(Xk,s)}}function Qk(a,s,c){a==="focusin"?(bb(),js=s,Is=c,js.attachEvent("onpropertychange",wb)):a==="focusout"&&bb()}function eM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Iu(Is)}function tM(a,s){if(a==="click")return Iu(s)}function nM(a,s){if(a==="input"||a==="change")return Iu(s)}function rM(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var br=typeof Object.is=="function"?Object.is:rM;function ks(a,s){if(br(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var c=Object.keys(a),h=Object.keys(s);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var y=c[h];if(!f.call(s,y)||!br(a[y],s[y]))return!1}return!0}function Sb(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Nb(a,s){var c=Sb(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=s&&h>=s)return{node:c,offset:s-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Sb(c)}}function _b(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?_b(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function Ab(){for(var a=window,s=Ae();s instanceof a.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)a=s.contentWindow;else break;s=Ae(a.document)}return s}function Xf(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}function iM(a){var s=Ab(),c=a.focusedElem,h=a.selectionRange;if(s!==c&&c&&c.ownerDocument&&_b(c.ownerDocument.documentElement,c)){if(h!==null&&Xf(c)){if(s=h.start,a=h.end,a===void 0&&(a=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(a,c.value.length);else if(a=(s=c.ownerDocument||document)&&s.defaultView||window,a.getSelection){a=a.getSelection();var y=c.textContent.length,S=Math.min(h.start,y);h=h.end===void 0?S:Math.min(h.end,y),!a.extend&&S>h&&(y=h,h=S,S=y),y=Nb(c,S);var j=Nb(c,h);y&&j&&(a.rangeCount!==1||a.anchorNode!==y.node||a.anchorOffset!==y.offset||a.focusNode!==j.node||a.focusOffset!==j.offset)&&(s=s.createRange(),s.setStart(y.node,y.offset),a.removeAllRanges(),S>h?(a.addRange(s),a.extend(j.node,j.offset)):(s.setEnd(j.node,j.offset),a.addRange(s)))}}for(s=[],a=c;a=a.parentNode;)a.nodeType===1&&s.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)a=s[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var aM=d&&"documentMode"in document&&11>=document.documentMode,ro=null,Zf=null,Ms=null,Qf=!1;function Tb(a,s,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Qf||ro==null||ro!==Ae(h)||(h=ro,"selectionStart"in h&&Xf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ms&&ks(Ms,h)||(Ms=h,h=Ou(Zf,"onSelect"),0<h.length&&(s=new zf("onSelect","select",null,s,c),a.push({event:s,listeners:h}),s.target=ro)))}function ku(a,s){var c={};return c[a.toLowerCase()]=s.toLowerCase(),c["Webkit"+a]="webkit"+s,c["Moz"+a]="moz"+s,c}var io={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},ep={},Cb={};d&&(Cb=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Mu(a){if(ep[a])return ep[a];if(!io[a])return a;var s=io[a],c;for(c in s)if(s.hasOwnProperty(c)&&c in Cb)return ep[a]=s[c];return a}var Eb=Mu("animationend"),Pb=Mu("animationiteration"),jb=Mu("animationstart"),Ib=Mu("transitionend"),kb=new Map,Mb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(a,s){kb.set(a,s),l(s,[a])}for(var tp=0;tp<Mb.length;tp++){var np=Mb[tp],oM=np.toLowerCase(),sM=np[0].toUpperCase()+np.slice(1);Oi(oM,"on"+sM)}Oi(Eb,"onAnimationEnd"),Oi(Pb,"onAnimationIteration"),Oi(jb,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Ib,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rs));function Rb(a,s,c){var h=a.type||"unknown-event";a.currentTarget=c,Of(h,s,void 0,a),a.currentTarget=null}function Ob(a,s){s=(s&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],y=h.event;h=h.listeners;e:{var S=void 0;if(s)for(var j=h.length-1;0<=j;j--){var U=h[j],K=U.instance,de=U.currentTarget;if(U=U.listener,K!==S&&y.isPropagationStopped())break e;Rb(y,U,de),S=K}else for(j=0;j<h.length;j++){if(U=h[j],K=U.instance,de=U.currentTarget,U=U.listener,K!==S&&y.isPropagationStopped())break e;Rb(y,U,de),S=K}}}if(Rr)throw a=Xa,Rr=!1,Xa=null,a}function Rt(a,s){var c=s[cp];c===void 0&&(c=s[cp]=new Set);var h=a+"__bubble";c.has(h)||(Db(s,a,2,!1),c.add(h))}function rp(a,s,c){var h=0;s&&(h|=4),Db(c,a,h,s)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Os(a){if(!a[Ru]){a[Ru]=!0,r.forEach(function(c){c!=="selectionchange"&&(lM.has(c)||rp(c,!1,a),rp(c,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Ru]||(s[Ru]=!0,rp("selectionchange",!1,s))}}function Db(a,s,c,h){switch(ab(s)){case 1:var y=Sk;break;case 4:y=Nk;break;default:y=Ff}c=y.bind(null,s,c,a),y=void 0,!qt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(s,c,{capture:!0,passive:y}):a.addEventListener(s,c,!0):y!==void 0?a.addEventListener(s,c,{passive:y}):a.addEventListener(s,c,!1)}function ip(a,s,c,h,y){var S=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var j=h.tag;if(j===3||j===4){var U=h.stateNode.containerInfo;if(U===y||U.nodeType===8&&U.parentNode===y)break;if(j===4)for(j=h.return;j!==null;){var K=j.tag;if((K===3||K===4)&&(K=j.stateNode.containerInfo,K===y||K.nodeType===8&&K.parentNode===y))return;j=j.return}for(;U!==null;){if(j=pa(U),j===null)return;if(K=j.tag,K===5||K===6){h=S=j;continue e}U=U.parentNode}}h=h.return}rt(function(){var de=S,_e=kn(c),Ce=[];e:{var Ne=kb.get(a);if(Ne!==void 0){var Fe=zf,He=a;switch(a){case"keypress":if(Eu(c)===0)break e;case"keydown":case"keyup":Fe=$k;break;case"focusin":He="focus",Fe=Hf;break;case"focusout":He="blur",Fe=Hf;break;case"beforeblur":case"afterblur":Fe=Hf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=lb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=Tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=Uk;break;case Eb:case Pb:case jb:Fe=Pk;break;case Ib:Fe=zk;break;case"scroll":Fe=_k;break;case"wheel":Fe=Gk;break;case"copy":case"cut":case"paste":Fe=Ik;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=cb}var We=(s&4)!==0,Kt=!We&&a==="scroll",se=We?Ne!==null?Ne+"Capture":null:Ne;We=[];for(var Z=de,ue;Z!==null;){ue=Z;var ke=ue.stateNode;if(ue.tag===5&&ke!==null&&(ue=ke,se!==null&&(ke=Je(Z,se),ke!=null&&We.push(Ds(Z,ke,ue)))),Kt)break;Z=Z.return}0<We.length&&(Ne=new Fe(Ne,He,null,c,_e),Ce.push({event:Ne,listeners:We}))}}if((s&7)===0){e:{if(Ne=a==="mouseover"||a==="pointerover",Fe=a==="mouseout"||a==="pointerout",Ne&&c!==pt&&(He=c.relatedTarget||c.fromElement)&&(pa(He)||He[ti]))break e;if((Fe||Ne)&&(Ne=_e.window===_e?_e:(Ne=_e.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Fe?(He=c.relatedTarget||c.toElement,Fe=de,He=He?pa(He):null,He!==null&&(Kt=Xr(He),He!==Kt||He.tag!==5&&He.tag!==6)&&(He=null)):(Fe=null,He=de),Fe!==He)){if(We=lb,ke="onMouseLeave",se="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(We=cb,ke="onPointerLeave",se="onPointerEnter",Z="pointer"),Kt=Fe==null?Ne:so(Fe),ue=He==null?Ne:so(He),Ne=new We(ke,Z+"leave",Fe,c,_e),Ne.target=Kt,Ne.relatedTarget=ue,ke=null,pa(_e)===de&&(We=new We(se,Z+"enter",He,c,_e),We.target=ue,We.relatedTarget=Kt,ke=We),Kt=ke,Fe&&He)t:{for(We=Fe,se=He,Z=0,ue=We;ue;ue=ao(ue))Z++;for(ue=0,ke=se;ke;ke=ao(ke))ue++;for(;0<Z-ue;)We=ao(We),Z--;for(;0<ue-Z;)se=ao(se),ue--;for(;Z--;){if(We===se||se!==null&&We===se.alternate)break t;We=ao(We),se=ao(se)}We=null}else We=null;Fe!==null&&Lb(Ce,Ne,Fe,We,!1),He!==null&&Kt!==null&&Lb(Ce,Kt,He,We,!0)}}e:{if(Ne=de?so(de):window,Fe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Ne.type==="file")var Ke=Zk;else if(gb(Ne))if(vb)Ke=nM;else{Ke=eM;var Ze=Qk}else(Fe=Ne.nodeName)&&Fe.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(Ke=tM);if(Ke&&(Ke=Ke(a,de))){yb(Ce,Ke,c,_e);break e}Ze&&Ze(a,Ne,de),a==="focusout"&&(Ze=Ne._wrapperState)&&Ze.controlled&&Ne.type==="number"&&he(Ne,"number",Ne.value)}switch(Ze=de?so(de):window,a){case"focusin":(gb(Ze)||Ze.contentEditable==="true")&&(ro=Ze,Zf=de,Ms=null);break;case"focusout":Ms=Zf=ro=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Tb(Ce,c,_e);break;case"selectionchange":if(aM)break;case"keydown":case"keyup":Tb(Ce,c,_e)}var Qe;if(Kf)e:{switch(a){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else no?hb(a,c)&&(at="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(at="onCompositionStart");at&&(db&&c.locale!=="ko"&&(no||at!=="onCompositionStart"?at==="onCompositionEnd"&&no&&(Qe=ob()):(Ri=_e,Bf="value"in Ri?Ri.value:Ri.textContent,no=!0)),Ze=Ou(de,at),0<Ze.length&&(at=new ub(at,a,null,c,_e),Ce.push({event:at,listeners:Ze}),Qe?at.data=Qe:(Qe=mb(c),Qe!==null&&(at.data=Qe)))),(Qe=Wk?Kk(a,c):Jk(a,c))&&(de=Ou(de,"onBeforeInput"),0<de.length&&(_e=new ub("onBeforeInput","beforeinput",null,c,_e),Ce.push({event:_e,listeners:de}),_e.data=Qe))}Ob(Ce,s)})}function Ds(a,s,c){return{instance:a,listener:s,currentTarget:c}}function Ou(a,s){for(var c=s+"Capture",h=[];a!==null;){var y=a,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=Je(a,c),S!=null&&h.unshift(Ds(a,S,y)),S=Je(a,s),S!=null&&h.push(Ds(a,S,y))),a=a.return}return h}function ao(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Lb(a,s,c,h,y){for(var S=s._reactName,j=[];c!==null&&c!==h;){var U=c,K=U.alternate,de=U.stateNode;if(K!==null&&K===h)break;U.tag===5&&de!==null&&(U=de,y?(K=Je(c,S),K!=null&&j.unshift(Ds(c,K,U))):y||(K=Je(c,S),K!=null&&j.push(Ds(c,K,U)))),c=c.return}j.length!==0&&a.push({event:s,listeners:j})}var uM=/\r\n?/g,cM=/\u0000|\uFFFD/g;function $b(a){return(typeof a=="string"?a:""+a).replace(uM,`
`).replace(cM,"")}function Du(a,s,c){if(s=$b(s),$b(a)!==s&&c)throw Error(n(425))}function Lu(){}var ap=null,op=null;function sp(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lp=typeof setTimeout=="function"?setTimeout:void 0,dM=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,fM=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(a){return qb.resolve(null).then(a).catch(pM)}:lp;function pM(a){setTimeout(function(){throw a})}function up(a,s){var c=s,h=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(h===0){a.removeChild(y),Ts(s);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=y}while(c);Ts(s)}function Di(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return a}function Fb(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return a;s--}else c==="/$"&&s++}a=a.previousSibling}return null}var oo=Math.random().toString(36).slice(2),Dr="__reactFiber$"+oo,Ls="__reactProps$"+oo,ti="__reactContainer$"+oo,cp="__reactEvents$"+oo,hM="__reactListeners$"+oo,mM="__reactHandles$"+oo;function pa(a){var s=a[Dr];if(s)return s;for(var c=a.parentNode;c;){if(s=c[ti]||c[Dr]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(a=Fb(a);a!==null;){if(c=a[Dr])return c;a=Fb(a)}return s}a=c,c=a.parentNode}return null}function $s(a){return a=a[Dr]||a[ti],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function so(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function $u(a){return a[Ls]||null}var dp=[],lo=-1;function Li(a){return{current:a}}function Ot(a){0>lo||(a.current=dp[lo],dp[lo]=null,lo--)}function Pt(a,s){lo++,dp[lo]=a.current,a.current=s}var $i={},vn=Li($i),On=Li(!1),ha=$i;function uo(a,s){var c=a.type.contextTypes;if(!c)return $i;var h=a.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in c)y[S]=s[S];return h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=s,a.__reactInternalMemoizedMaskedChildContext=y),y}function Dn(a){return a=a.childContextTypes,a!=null}function qu(){Ot(On),Ot(vn)}function Ub(a,s,c){if(vn.current!==$i)throw Error(n(168));Pt(vn,s),Pt(On,c)}function Bb(a,s,c){var h=a.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var y in h)if(!(y in s))throw Error(n(108,ne(a)||"Unknown",y));return X({},c,h)}function Fu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||$i,ha=vn.current,Pt(vn,a),Pt(On,On.current),!0}function zb(a,s,c){var h=a.stateNode;if(!h)throw Error(n(169));c?(a=Bb(a,s,ha),h.__reactInternalMemoizedMergedChildContext=a,Ot(On),Ot(vn),Pt(vn,a)):Ot(On),Pt(On,c)}var ni=null,Uu=!1,fp=!1;function Vb(a){ni===null?ni=[a]:ni.push(a)}function gM(a){Uu=!0,Vb(a)}function qi(){if(!fp&&ni!==null){fp=!0;var a=0,s=vt;try{var c=ni;for(vt=1;a<c.length;a++){var h=c[a];do h=h(!0);while(h!==null)}ni=null,Uu=!1}catch(y){throw ni!==null&&(ni=ni.slice(a+1)),gu(xs,qi),y}finally{vt=s,fp=!1}}return null}var co=[],fo=0,Bu=null,zu=0,ir=[],ar=0,ma=null,ri=1,ii="";function ga(a,s){co[fo++]=zu,co[fo++]=Bu,Bu=a,zu=s}function Gb(a,s,c){ir[ar++]=ri,ir[ar++]=ii,ir[ar++]=ma,ma=a;var h=ri;a=ii;var y=32-Rn(h)-1;h&=~(1<<y),c+=1;var S=32-Rn(s)+y;if(30<S){var j=y-y%5;S=(h&(1<<j)-1).toString(32),h>>=j,y-=j,ri=1<<32-Rn(s)+y|c<<y|h,ii=S+a}else ri=1<<S|c<<y|h,ii=a}function pp(a){a.return!==null&&(ga(a,1),Gb(a,1,0))}function hp(a){for(;a===Bu;)Bu=co[--fo],co[fo]=null,zu=co[--fo],co[fo]=null;for(;a===ma;)ma=ir[--ar],ir[ar]=null,ii=ir[--ar],ir[ar]=null,ri=ir[--ar],ir[ar]=null}var Jn=null,Yn=null,Ft=!1,wr=null;function Hb(a,s){var c=ur(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=a,s=a.deletions,s===null?(a.deletions=[c],a.flags|=16):s.push(c)}function Wb(a,s){switch(a.tag){case 5:var c=a.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(a.stateNode=s,Jn=a,Yn=Di(s.firstChild),!0):!1;case 6:return s=a.pendingProps===""||s.nodeType!==3?null:s,s!==null?(a.stateNode=s,Jn=a,Yn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=ma!==null?{id:ri,overflow:ii}:null,a.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=ur(18,null,null,0),c.stateNode=s,c.return=a,a.child=c,Jn=a,Yn=null,!0):!1;default:return!1}}function mp(a){return(a.mode&1)!==0&&(a.flags&128)===0}function gp(a){if(Ft){var s=Yn;if(s){var c=s;if(!Wb(a,s)){if(mp(a))throw Error(n(418));s=Di(c.nextSibling);var h=Jn;s&&Wb(a,s)?Hb(h,c):(a.flags=a.flags&-4097|2,Ft=!1,Jn=a)}}else{if(mp(a))throw Error(n(418));a.flags=a.flags&-4097|2,Ft=!1,Jn=a}}}function Kb(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Jn=a}function Vu(a){if(a!==Jn)return!1;if(!Ft)return Kb(a),Ft=!0,!1;var s;if((s=a.tag!==3)&&!(s=a.tag!==5)&&(s=a.type,s=s!=="head"&&s!=="body"&&!sp(a.type,a.memoizedProps)),s&&(s=Yn)){if(mp(a))throw Jb(),Error(n(418));for(;s;)Hb(a,s),s=Di(s.nextSibling)}if(Kb(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"){if(s===0){Yn=Di(a.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}a=a.nextSibling}Yn=null}}else Yn=Jn?Di(a.stateNode.nextSibling):null;return!0}function Jb(){for(var a=Yn;a;)a=Di(a.nextSibling)}function po(){Yn=Jn=null,Ft=!1}function yp(a){wr===null?wr=[a]:wr.push(a)}var yM=P.ReactCurrentBatchConfig;function qs(a,s,c){if(a=c.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,a));var y=h,S=""+a;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===S?s.ref:(s=function(j){var U=y.refs;j===null?delete U[S]:U[S]=j},s._stringRef=S,s)}if(typeof a!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,a))}return a}function Gu(a,s){throw a=Object.prototype.toString.call(s),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a))}function Yb(a){var s=a._init;return s(a._payload)}function Xb(a){function s(se,Z){if(a){var ue=se.deletions;ue===null?(se.deletions=[Z],se.flags|=16):ue.push(Z)}}function c(se,Z){if(!a)return null;for(;Z!==null;)s(se,Z),Z=Z.sibling;return null}function h(se,Z){for(se=new Map;Z!==null;)Z.key!==null?se.set(Z.key,Z):se.set(Z.index,Z),Z=Z.sibling;return se}function y(se,Z){return se=Wi(se,Z),se.index=0,se.sibling=null,se}function S(se,Z,ue){return se.index=ue,a?(ue=se.alternate,ue!==null?(ue=ue.index,ue<Z?(se.flags|=2,Z):ue):(se.flags|=2,Z)):(se.flags|=1048576,Z)}function j(se){return a&&se.alternate===null&&(se.flags|=2),se}function U(se,Z,ue,ke){return Z===null||Z.tag!==6?(Z=lh(ue,se.mode,ke),Z.return=se,Z):(Z=y(Z,ue),Z.return=se,Z)}function K(se,Z,ue,ke){var Ke=ue.type;return Ke===I?_e(se,Z,ue.props.children,ke,ue.key):Z!==null&&(Z.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===ae&&Yb(Ke)===Z.type)?(ke=y(Z,ue.props),ke.ref=qs(se,Z,ue),ke.return=se,ke):(ke=mc(ue.type,ue.key,ue.props,null,se.mode,ke),ke.ref=qs(se,Z,ue),ke.return=se,ke)}function de(se,Z,ue,ke){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ue.containerInfo||Z.stateNode.implementation!==ue.implementation?(Z=uh(ue,se.mode,ke),Z.return=se,Z):(Z=y(Z,ue.children||[]),Z.return=se,Z)}function _e(se,Z,ue,ke,Ke){return Z===null||Z.tag!==7?(Z=_a(ue,se.mode,ke,Ke),Z.return=se,Z):(Z=y(Z,ue),Z.return=se,Z)}function Ce(se,Z,ue){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=lh(""+Z,se.mode,ue),Z.return=se,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return ue=mc(Z.type,Z.key,Z.props,null,se.mode,ue),ue.ref=qs(se,null,Z),ue.return=se,ue;case C:return Z=uh(Z,se.mode,ue),Z.return=se,Z;case ae:var ke=Z._init;return Ce(se,ke(Z._payload),ue)}if(Te(Z)||F(Z))return Z=_a(Z,se.mode,ue,null),Z.return=se,Z;Gu(se,Z)}return null}function Ne(se,Z,ue,ke){var Ke=Z!==null?Z.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ke!==null?null:U(se,Z,""+ue,ke);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:return ue.key===Ke?K(se,Z,ue,ke):null;case C:return ue.key===Ke?de(se,Z,ue,ke):null;case ae:return Ke=ue._init,Ne(se,Z,Ke(ue._payload),ke)}if(Te(ue)||F(ue))return Ke!==null?null:_e(se,Z,ue,ke,null);Gu(se,ue)}return null}function Fe(se,Z,ue,ke,Ke){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return se=se.get(ue)||null,U(Z,se,""+ke,Ke);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case N:return se=se.get(ke.key===null?ue:ke.key)||null,K(Z,se,ke,Ke);case C:return se=se.get(ke.key===null?ue:ke.key)||null,de(Z,se,ke,Ke);case ae:var Ze=ke._init;return Fe(se,Z,ue,Ze(ke._payload),Ke)}if(Te(ke)||F(ke))return se=se.get(ue)||null,_e(Z,se,ke,Ke,null);Gu(Z,ke)}return null}function He(se,Z,ue,ke){for(var Ke=null,Ze=null,Qe=Z,at=Z=0,dn=null;Qe!==null&&at<ue.length;at++){Qe.index>at?(dn=Qe,Qe=null):dn=Qe.sibling;var xt=Ne(se,Qe,ue[at],ke);if(xt===null){Qe===null&&(Qe=dn);break}a&&Qe&&xt.alternate===null&&s(se,Qe),Z=S(xt,Z,at),Ze===null?Ke=xt:Ze.sibling=xt,Ze=xt,Qe=dn}if(at===ue.length)return c(se,Qe),Ft&&ga(se,at),Ke;if(Qe===null){for(;at<ue.length;at++)Qe=Ce(se,ue[at],ke),Qe!==null&&(Z=S(Qe,Z,at),Ze===null?Ke=Qe:Ze.sibling=Qe,Ze=Qe);return Ft&&ga(se,at),Ke}for(Qe=h(se,Qe);at<ue.length;at++)dn=Fe(Qe,se,at,ue[at],ke),dn!==null&&(a&&dn.alternate!==null&&Qe.delete(dn.key===null?at:dn.key),Z=S(dn,Z,at),Ze===null?Ke=dn:Ze.sibling=dn,Ze=dn);return a&&Qe.forEach(function(Ki){return s(se,Ki)}),Ft&&ga(se,at),Ke}function We(se,Z,ue,ke){var Ke=F(ue);if(typeof Ke!="function")throw Error(n(150));if(ue=Ke.call(ue),ue==null)throw Error(n(151));for(var Ze=Ke=null,Qe=Z,at=Z=0,dn=null,xt=ue.next();Qe!==null&&!xt.done;at++,xt=ue.next()){Qe.index>at?(dn=Qe,Qe=null):dn=Qe.sibling;var Ki=Ne(se,Qe,xt.value,ke);if(Ki===null){Qe===null&&(Qe=dn);break}a&&Qe&&Ki.alternate===null&&s(se,Qe),Z=S(Ki,Z,at),Ze===null?Ke=Ki:Ze.sibling=Ki,Ze=Ki,Qe=dn}if(xt.done)return c(se,Qe),Ft&&ga(se,at),Ke;if(Qe===null){for(;!xt.done;at++,xt=ue.next())xt=Ce(se,xt.value,ke),xt!==null&&(Z=S(xt,Z,at),Ze===null?Ke=xt:Ze.sibling=xt,Ze=xt);return Ft&&ga(se,at),Ke}for(Qe=h(se,Qe);!xt.done;at++,xt=ue.next())xt=Fe(Qe,se,at,xt.value,ke),xt!==null&&(a&&xt.alternate!==null&&Qe.delete(xt.key===null?at:xt.key),Z=S(xt,Z,at),Ze===null?Ke=xt:Ze.sibling=xt,Ze=xt);return a&&Qe.forEach(function(YM){return s(se,YM)}),Ft&&ga(se,at),Ke}function Kt(se,Z,ue,ke){if(typeof ue=="object"&&ue!==null&&ue.type===I&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case N:e:{for(var Ke=ue.key,Ze=Z;Ze!==null;){if(Ze.key===Ke){if(Ke=ue.type,Ke===I){if(Ze.tag===7){c(se,Ze.sibling),Z=y(Ze,ue.props.children),Z.return=se,se=Z;break e}}else if(Ze.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===ae&&Yb(Ke)===Ze.type){c(se,Ze.sibling),Z=y(Ze,ue.props),Z.ref=qs(se,Ze,ue),Z.return=se,se=Z;break e}c(se,Ze);break}else s(se,Ze);Ze=Ze.sibling}ue.type===I?(Z=_a(ue.props.children,se.mode,ke,ue.key),Z.return=se,se=Z):(ke=mc(ue.type,ue.key,ue.props,null,se.mode,ke),ke.ref=qs(se,Z,ue),ke.return=se,se=ke)}return j(se);case C:e:{for(Ze=ue.key;Z!==null;){if(Z.key===Ze)if(Z.tag===4&&Z.stateNode.containerInfo===ue.containerInfo&&Z.stateNode.implementation===ue.implementation){c(se,Z.sibling),Z=y(Z,ue.children||[]),Z.return=se,se=Z;break e}else{c(se,Z);break}else s(se,Z);Z=Z.sibling}Z=uh(ue,se.mode,ke),Z.return=se,se=Z}return j(se);case ae:return Ze=ue._init,Kt(se,Z,Ze(ue._payload),ke)}if(Te(ue))return He(se,Z,ue,ke);if(F(ue))return We(se,Z,ue,ke);Gu(se,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,Z!==null&&Z.tag===6?(c(se,Z.sibling),Z=y(Z,ue),Z.return=se,se=Z):(c(se,Z),Z=lh(ue,se.mode,ke),Z.return=se,se=Z),j(se)):c(se,Z)}return Kt}var ho=Xb(!0),Zb=Xb(!1),Hu=Li(null),Wu=null,mo=null,vp=null;function xp(){vp=mo=Wu=null}function bp(a){var s=Hu.current;Ot(Hu),a._currentValue=s}function wp(a,s,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),a===c)break;a=a.return}}function go(a,s){Wu=a,vp=mo=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&s)!==0&&(Ln=!0),a.firstContext=null)}function or(a){var s=a._currentValue;if(vp!==a)if(a={context:a,memoizedValue:s,next:null},mo===null){if(Wu===null)throw Error(n(308));mo=a,Wu.dependencies={lanes:0,firstContext:a}}else mo=mo.next=a;return s}var ya=null;function Sp(a){ya===null?ya=[a]:ya.push(a)}function Qb(a,s,c,h){var y=s.interleaved;return y===null?(c.next=c,Sp(s)):(c.next=y.next,y.next=c),s.interleaved=c,ai(a,h)}function ai(a,s){a.lanes|=s;var c=a.alternate;for(c!==null&&(c.lanes|=s),c=a,a=a.return;a!==null;)a.childLanes|=s,c=a.alternate,c!==null&&(c.childLanes|=s),c=a,a=a.return;return c.tag===3?c.stateNode:null}var Fi=!1;function Np(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ew(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function oi(a,s){return{eventTime:a,lane:s,tag:0,payload:null,callback:null,next:null}}function Ui(a,s,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(yt&2)!==0){var y=h.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),h.pending=s,ai(a,c)}return y=h.interleaved,y===null?(s.next=s,Sp(h)):(s.next=y.next,y.next=s),h.interleaved=s,ai(a,c)}function Ku(a,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,Qr(a,c)}}function tw(a,s){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var y=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var j={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};S===null?y=S=j:S=S.next=j,c=c.next}while(c!==null);S===null?y=S=s:S=S.next=s}else y=S=s;c={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:h.shared,effects:h.effects},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=s:a.next=s,c.lastBaseUpdate=s}function Ju(a,s,c,h){var y=a.updateQueue;Fi=!1;var S=y.firstBaseUpdate,j=y.lastBaseUpdate,U=y.shared.pending;if(U!==null){y.shared.pending=null;var K=U,de=K.next;K.next=null,j===null?S=de:j.next=de,j=K;var _e=a.alternate;_e!==null&&(_e=_e.updateQueue,U=_e.lastBaseUpdate,U!==j&&(U===null?_e.firstBaseUpdate=de:U.next=de,_e.lastBaseUpdate=K))}if(S!==null){var Ce=y.baseState;j=0,_e=de=K=null,U=S;do{var Ne=U.lane,Fe=U.eventTime;if((h&Ne)===Ne){_e!==null&&(_e=_e.next={eventTime:Fe,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var He=a,We=U;switch(Ne=s,Fe=c,We.tag){case 1:if(He=We.payload,typeof He=="function"){Ce=He.call(Fe,Ce,Ne);break e}Ce=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=We.payload,Ne=typeof He=="function"?He.call(Fe,Ce,Ne):He,Ne==null)break e;Ce=X({},Ce,Ne);break e;case 2:Fi=!0}}U.callback!==null&&U.lane!==0&&(a.flags|=64,Ne=y.effects,Ne===null?y.effects=[U]:Ne.push(U))}else Fe={eventTime:Fe,lane:Ne,tag:U.tag,payload:U.payload,callback:U.callback,next:null},_e===null?(de=_e=Fe,K=Ce):_e=_e.next=Fe,j|=Ne;if(U=U.next,U===null){if(U=y.shared.pending,U===null)break;Ne=U,U=Ne.next,Ne.next=null,y.lastBaseUpdate=Ne,y.shared.pending=null}}while(!0);if(_e===null&&(K=Ce),y.baseState=K,y.firstBaseUpdate=de,y.lastBaseUpdate=_e,s=y.shared.interleaved,s!==null){y=s;do j|=y.lane,y=y.next;while(y!==s)}else S===null&&(y.shared.lanes=0);ba|=j,a.lanes=j,a.memoizedState=Ce}}function nw(a,s,c){if(a=s.effects,s.effects=null,a!==null)for(s=0;s<a.length;s++){var h=a[s],y=h.callback;if(y!==null){if(h.callback=null,h=c,typeof y!="function")throw Error(n(191,y));y.call(h)}}}var Fs={},Lr=Li(Fs),Us=Li(Fs),Bs=Li(Fs);function va(a){if(a===Fs)throw Error(n(174));return a}function _p(a,s){switch(Pt(Bs,s),Pt(Us,a),Pt(Lr,Fs),a=s.nodeType,a){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:st(null,"");break;default:a=a===8?s.parentNode:s,s=a.namespaceURI||null,a=a.tagName,s=st(s,a)}Ot(Lr),Pt(Lr,s)}function yo(){Ot(Lr),Ot(Us),Ot(Bs)}function rw(a){va(Bs.current);var s=va(Lr.current),c=st(s,a.type);s!==c&&(Pt(Us,a),Pt(Lr,c))}function Ap(a){Us.current===a&&(Ot(Lr),Ot(Us))}var zt=Li(0);function Yu(a){for(var s=a;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Tp=[];function Cp(){for(var a=0;a<Tp.length;a++)Tp[a]._workInProgressVersionPrimary=null;Tp.length=0}var Xu=P.ReactCurrentDispatcher,Ep=P.ReactCurrentBatchConfig,xa=0,Vt=null,tn=null,un=null,Zu=!1,zs=!1,Vs=0,vM=0;function xn(){throw Error(n(321))}function Pp(a,s){if(s===null)return!1;for(var c=0;c<s.length&&c<a.length;c++)if(!br(a[c],s[c]))return!1;return!0}function jp(a,s,c,h,y,S){if(xa=S,Vt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Xu.current=a===null||a.memoizedState===null?SM:NM,a=c(h,y),zs){S=0;do{if(zs=!1,Vs=0,25<=S)throw Error(n(301));S+=1,un=tn=null,s.updateQueue=null,Xu.current=_M,a=c(h,y)}while(zs)}if(Xu.current=tc,s=tn!==null&&tn.next!==null,xa=0,un=tn=Vt=null,Zu=!1,s)throw Error(n(300));return a}function Ip(){var a=Vs!==0;return Vs=0,a}function $r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?Vt.memoizedState=un=a:un=un.next=a,un}function sr(){if(tn===null){var a=Vt.alternate;a=a!==null?a.memoizedState:null}else a=tn.next;var s=un===null?Vt.memoizedState:un.next;if(s!==null)un=s,tn=a;else{if(a===null)throw Error(n(310));tn=a,a={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},un===null?Vt.memoizedState=un=a:un=un.next=a}return un}function Gs(a,s){return typeof s=="function"?s(a):s}function kp(a){var s=sr(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var h=tn,y=h.baseQueue,S=c.pending;if(S!==null){if(y!==null){var j=y.next;y.next=S.next,S.next=j}h.baseQueue=y=S,c.pending=null}if(y!==null){S=y.next,h=h.baseState;var U=j=null,K=null,de=S;do{var _e=de.lane;if((xa&_e)===_e)K!==null&&(K=K.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),h=de.hasEagerState?de.eagerState:a(h,de.action);else{var Ce={lane:_e,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};K===null?(U=K=Ce,j=h):K=K.next=Ce,Vt.lanes|=_e,ba|=_e}de=de.next}while(de!==null&&de!==S);K===null?j=h:K.next=U,br(h,s.memoizedState)||(Ln=!0),s.memoizedState=h,s.baseState=j,s.baseQueue=K,c.lastRenderedState=h}if(a=c.interleaved,a!==null){y=a;do S=y.lane,Vt.lanes|=S,ba|=S,y=y.next;while(y!==a)}else y===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Mp(a){var s=sr(),c=s.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var h=c.dispatch,y=c.pending,S=s.memoizedState;if(y!==null){c.pending=null;var j=y=y.next;do S=a(S,j.action),j=j.next;while(j!==y);br(S,s.memoizedState)||(Ln=!0),s.memoizedState=S,s.baseQueue===null&&(s.baseState=S),c.lastRenderedState=S}return[S,h]}function iw(){}function aw(a,s){var c=Vt,h=sr(),y=s(),S=!br(h.memoizedState,y);if(S&&(h.memoizedState=y,Ln=!0),h=h.queue,Rp(lw.bind(null,c,h,a),[a]),h.getSnapshot!==s||S||un!==null&&un.memoizedState.tag&1){if(c.flags|=2048,Hs(9,sw.bind(null,c,h,y,s),void 0,null),cn===null)throw Error(n(349));(xa&30)!==0||ow(c,s,y)}return y}function ow(a,s,c){a.flags|=16384,a={getSnapshot:s,value:c},s=Vt.updateQueue,s===null?(s={lastEffect:null,stores:null},Vt.updateQueue=s,s.stores=[a]):(c=s.stores,c===null?s.stores=[a]:c.push(a))}function sw(a,s,c,h){s.value=c,s.getSnapshot=h,uw(s)&&cw(a)}function lw(a,s,c){return c(function(){uw(s)&&cw(a)})}function uw(a){var s=a.getSnapshot;a=a.value;try{var c=s();return!br(a,c)}catch{return!0}}function cw(a){var s=ai(a,1);s!==null&&Ar(s,a,1,-1)}function dw(a){var s=$r();return typeof a=="function"&&(a=a()),s.memoizedState=s.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:a},s.queue=a,a=a.dispatch=wM.bind(null,Vt,a),[s.memoizedState,a]}function Hs(a,s,c,h){return a={tag:a,create:s,destroy:c,deps:h,next:null},s=Vt.updateQueue,s===null?(s={lastEffect:null,stores:null},Vt.updateQueue=s,s.lastEffect=a.next=a):(c=s.lastEffect,c===null?s.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,s.lastEffect=a)),a}function fw(){return sr().memoizedState}function Qu(a,s,c,h){var y=$r();Vt.flags|=a,y.memoizedState=Hs(1|s,c,void 0,h===void 0?null:h)}function ec(a,s,c,h){var y=sr();h=h===void 0?null:h;var S=void 0;if(tn!==null){var j=tn.memoizedState;if(S=j.destroy,h!==null&&Pp(h,j.deps)){y.memoizedState=Hs(s,c,S,h);return}}Vt.flags|=a,y.memoizedState=Hs(1|s,c,S,h)}function pw(a,s){return Qu(8390656,8,a,s)}function Rp(a,s){return ec(2048,8,a,s)}function hw(a,s){return ec(4,2,a,s)}function mw(a,s){return ec(4,4,a,s)}function gw(a,s){if(typeof s=="function")return a=a(),s(a),function(){s(null)};if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function yw(a,s,c){return c=c!=null?c.concat([a]):null,ec(4,4,gw.bind(null,s,a),c)}function Op(){}function vw(a,s){var c=sr();s=s===void 0?null:s;var h=c.memoizedState;return h!==null&&s!==null&&Pp(s,h[1])?h[0]:(c.memoizedState=[a,s],a)}function xw(a,s){var c=sr();s=s===void 0?null:s;var h=c.memoizedState;return h!==null&&s!==null&&Pp(s,h[1])?h[0]:(a=a(),c.memoizedState=[a,s],a)}function bw(a,s,c){return(xa&21)===0?(a.baseState&&(a.baseState=!1,Ln=!0),a.memoizedState=c):(br(c,s)||(c=ws(),Vt.lanes|=c,ba|=c,a.baseState=!0),s)}function xM(a,s){var c=vt;vt=c!==0&&4>c?c:4,a(!0);var h=Ep.transition;Ep.transition={};try{a(!1),s()}finally{vt=c,Ep.transition=h}}function ww(){return sr().memoizedState}function bM(a,s,c){var h=Gi(a);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Sw(a))Nw(s,c);else if(c=Qb(a,s,c,h),c!==null){var y=En();Ar(c,a,h,y),_w(c,s,h)}}function wM(a,s,c){var h=Gi(a),y={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Sw(a))Nw(s,y);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=s.lastRenderedReducer,S!==null))try{var j=s.lastRenderedState,U=S(j,c);if(y.hasEagerState=!0,y.eagerState=U,br(U,j)){var K=s.interleaved;K===null?(y.next=y,Sp(s)):(y.next=K.next,K.next=y),s.interleaved=y;return}}catch{}finally{}c=Qb(a,s,y,h),c!==null&&(y=En(),Ar(c,a,h,y),_w(c,s,h))}}function Sw(a){var s=a.alternate;return a===Vt||s!==null&&s===Vt}function Nw(a,s){zs=Zu=!0;var c=a.pending;c===null?s.next=s:(s.next=c.next,c.next=s),a.pending=s}function _w(a,s,c){if((c&4194240)!==0){var h=s.lanes;h&=a.pendingLanes,c|=h,s.lanes=c,Qr(a,c)}}var tc={readContext:or,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},SM={readContext:or,useCallback:function(a,s){return $r().memoizedState=[a,s===void 0?null:s],a},useContext:or,useEffect:pw,useImperativeHandle:function(a,s,c){return c=c!=null?c.concat([a]):null,Qu(4194308,4,gw.bind(null,s,a),c)},useLayoutEffect:function(a,s){return Qu(4194308,4,a,s)},useInsertionEffect:function(a,s){return Qu(4,2,a,s)},useMemo:function(a,s){var c=$r();return s=s===void 0?null:s,a=a(),c.memoizedState=[a,s],a},useReducer:function(a,s,c){var h=$r();return s=c!==void 0?c(s):s,h.memoizedState=h.baseState=s,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:s},h.queue=a,a=a.dispatch=bM.bind(null,Vt,a),[h.memoizedState,a]},useRef:function(a){var s=$r();return a={current:a},s.memoizedState=a},useState:dw,useDebugValue:Op,useDeferredValue:function(a){return $r().memoizedState=a},useTransition:function(){var a=dw(!1),s=a[0];return a=xM.bind(null,a[1]),$r().memoizedState=a,[s,a]},useMutableSource:function(){},useSyncExternalStore:function(a,s,c){var h=Vt,y=$r();if(Ft){if(c===void 0)throw Error(n(407));c=c()}else{if(c=s(),cn===null)throw Error(n(349));(xa&30)!==0||ow(h,s,c)}y.memoizedState=c;var S={value:c,getSnapshot:s};return y.queue=S,pw(lw.bind(null,h,S,a),[a]),h.flags|=2048,Hs(9,sw.bind(null,h,S,c,s),void 0,null),c},useId:function(){var a=$r(),s=cn.identifierPrefix;if(Ft){var c=ii,h=ri;c=(h&~(1<<32-Rn(h)-1)).toString(32)+c,s=":"+s+"R"+c,c=Vs++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=vM++,s=":"+s+"r"+c.toString(32)+":";return a.memoizedState=s},unstable_isNewReconciler:!1},NM={readContext:or,useCallback:vw,useContext:or,useEffect:Rp,useImperativeHandle:yw,useInsertionEffect:hw,useLayoutEffect:mw,useMemo:xw,useReducer:kp,useRef:fw,useState:function(){return kp(Gs)},useDebugValue:Op,useDeferredValue:function(a){var s=sr();return bw(s,tn.memoizedState,a)},useTransition:function(){var a=kp(Gs)[0],s=sr().memoizedState;return[a,s]},useMutableSource:iw,useSyncExternalStore:aw,useId:ww,unstable_isNewReconciler:!1},_M={readContext:or,useCallback:vw,useContext:or,useEffect:Rp,useImperativeHandle:yw,useInsertionEffect:hw,useLayoutEffect:mw,useMemo:xw,useReducer:Mp,useRef:fw,useState:function(){return Mp(Gs)},useDebugValue:Op,useDeferredValue:function(a){var s=sr();return tn===null?s.memoizedState=a:bw(s,tn.memoizedState,a)},useTransition:function(){var a=Mp(Gs)[0],s=sr().memoizedState;return[a,s]},useMutableSource:iw,useSyncExternalStore:aw,useId:ww,unstable_isNewReconciler:!1};function Sr(a,s){if(a&&a.defaultProps){s=X({},s),a=a.defaultProps;for(var c in a)s[c]===void 0&&(s[c]=a[c]);return s}return s}function Dp(a,s,c,h){s=a.memoizedState,c=c(h,s),c=c==null?s:X({},s,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var nc={isMounted:function(a){return(a=a._reactInternals)?Xr(a)===a:!1},enqueueSetState:function(a,s,c){a=a._reactInternals;var h=En(),y=Gi(a),S=oi(h,y);S.payload=s,c!=null&&(S.callback=c),s=Ui(a,S,y),s!==null&&(Ar(s,a,y,h),Ku(s,a,y))},enqueueReplaceState:function(a,s,c){a=a._reactInternals;var h=En(),y=Gi(a),S=oi(h,y);S.tag=1,S.payload=s,c!=null&&(S.callback=c),s=Ui(a,S,y),s!==null&&(Ar(s,a,y,h),Ku(s,a,y))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var c=En(),h=Gi(a),y=oi(c,h);y.tag=2,s!=null&&(y.callback=s),s=Ui(a,y,h),s!==null&&(Ar(s,a,h,c),Ku(s,a,h))}};function Aw(a,s,c,h,y,S,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,S,j):s.prototype&&s.prototype.isPureReactComponent?!ks(c,h)||!ks(y,S):!0}function Tw(a,s,c){var h=!1,y=$i,S=s.contextType;return typeof S=="object"&&S!==null?S=or(S):(y=Dn(s)?ha:vn.current,h=s.contextTypes,S=(h=h!=null)?uo(a,y):$i),s=new s(c,S),a.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nc,a.stateNode=s,s._reactInternals=a,h&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=S),s}function Cw(a,s,c,h){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,h),s.state!==a&&nc.enqueueReplaceState(s,s.state,null)}function Lp(a,s,c,h){var y=a.stateNode;y.props=c,y.state=a.memoizedState,y.refs={},Np(a);var S=s.contextType;typeof S=="object"&&S!==null?y.context=or(S):(S=Dn(s)?ha:vn.current,y.context=uo(a,S)),y.state=a.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Dp(a,s,S,c),y.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(s=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),s!==y.state&&nc.enqueueReplaceState(y,y.state,null),Ju(a,c,y,h),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function vo(a,s){try{var c="",h=s;do c+=pe(h),h=h.return;while(h);var y=c}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:s,stack:y,digest:null}}function $p(a,s,c){return{value:a,source:null,stack:c??null,digest:s??null}}function qp(a,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var AM=typeof WeakMap=="function"?WeakMap:Map;function Ew(a,s,c){c=oi(-1,c),c.tag=3,c.payload={element:null};var h=s.value;return c.callback=function(){uc||(uc=!0,eh=h),qp(a,s)},c}function Pw(a,s,c){c=oi(-1,c),c.tag=3;var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var y=s.value;c.payload=function(){return h(y)},c.callback=function(){qp(a,s)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(c.callback=function(){qp(a,s),typeof h!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})}),c}function jw(a,s,c){var h=a.pingCache;if(h===null){h=a.pingCache=new AM;var y=new Set;h.set(s,y)}else y=h.get(s),y===void 0&&(y=new Set,h.set(s,y));y.has(c)||(y.add(c),a=qM.bind(null,a,s,c),s.then(a,a))}function Iw(a){do{var s;if((s=a.tag===13)&&(s=a.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return a;a=a.return}while(a!==null);return null}function kw(a,s,c,h,y){return(a.mode&1)===0?(a===s?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=oi(-1,1),s.tag=2,Ui(c,s,1))),c.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var TM=P.ReactCurrentOwner,Ln=!1;function Cn(a,s,c,h){s.child=a===null?Zb(s,null,c,h):ho(s,a.child,c,h)}function Mw(a,s,c,h,y){c=c.render;var S=s.ref;return go(s,y),h=jp(a,s,c,h,S,y),c=Ip(),a!==null&&!Ln?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~y,si(a,s,y)):(Ft&&c&&pp(s),s.flags|=1,Cn(a,s,h,y),s.child)}function Rw(a,s,c,h,y){if(a===null){var S=c.type;return typeof S=="function"&&!sh(S)&&S.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=S,Ow(a,s,S,h,y)):(a=mc(c.type,null,h,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(S=a.child,(a.lanes&y)===0){var j=S.memoizedProps;if(c=c.compare,c=c!==null?c:ks,c(j,h)&&a.ref===s.ref)return si(a,s,y)}return s.flags|=1,a=Wi(S,h),a.ref=s.ref,a.return=s,s.child=a}function Ow(a,s,c,h,y){if(a!==null){var S=a.memoizedProps;if(ks(S,h)&&a.ref===s.ref)if(Ln=!1,s.pendingProps=h=S,(a.lanes&y)!==0)(a.flags&131072)!==0&&(Ln=!0);else return s.lanes=a.lanes,si(a,s,y)}return Fp(a,s,c,h,y)}function Dw(a,s,c){var h=s.pendingProps,y=h.children,S=a!==null?a.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(bo,Xn),Xn|=c;else{if((c&1073741824)===0)return a=S!==null?S.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:a,cachePool:null,transitions:null},s.updateQueue=null,Pt(bo,Xn),Xn|=a,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=S!==null?S.baseLanes:c,Pt(bo,Xn),Xn|=h}else S!==null?(h=S.baseLanes|c,s.memoizedState=null):h=c,Pt(bo,Xn),Xn|=h;return Cn(a,s,y,c),s.child}function Lw(a,s){var c=s.ref;(a===null&&c!==null||a!==null&&a.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Fp(a,s,c,h,y){var S=Dn(c)?ha:vn.current;return S=uo(s,S),go(s,y),c=jp(a,s,c,h,S,y),h=Ip(),a!==null&&!Ln?(s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~y,si(a,s,y)):(Ft&&h&&pp(s),s.flags|=1,Cn(a,s,c,y),s.child)}function $w(a,s,c,h,y){if(Dn(c)){var S=!0;Fu(s)}else S=!1;if(go(s,y),s.stateNode===null)ic(a,s),Tw(s,c,h),Lp(s,c,h,y),h=!0;else if(a===null){var j=s.stateNode,U=s.memoizedProps;j.props=U;var K=j.context,de=c.contextType;typeof de=="object"&&de!==null?de=or(de):(de=Dn(c)?ha:vn.current,de=uo(s,de));var _e=c.getDerivedStateFromProps,Ce=typeof _e=="function"||typeof j.getSnapshotBeforeUpdate=="function";Ce||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(U!==h||K!==de)&&Cw(s,j,h,de),Fi=!1;var Ne=s.memoizedState;j.state=Ne,Ju(s,h,j,y),K=s.memoizedState,U!==h||Ne!==K||On.current||Fi?(typeof _e=="function"&&(Dp(s,c,_e,h),K=s.memoizedState),(U=Fi||Aw(s,c,U,h,Ne,K,de))?(Ce||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=K),j.props=h,j.state=K,j.context=de,h=U):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{j=s.stateNode,ew(a,s),U=s.memoizedProps,de=s.type===s.elementType?U:Sr(s.type,U),j.props=de,Ce=s.pendingProps,Ne=j.context,K=c.contextType,typeof K=="object"&&K!==null?K=or(K):(K=Dn(c)?ha:vn.current,K=uo(s,K));var Fe=c.getDerivedStateFromProps;(_e=typeof Fe=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(U!==Ce||Ne!==K)&&Cw(s,j,h,K),Fi=!1,Ne=s.memoizedState,j.state=Ne,Ju(s,h,j,y);var He=s.memoizedState;U!==Ce||Ne!==He||On.current||Fi?(typeof Fe=="function"&&(Dp(s,c,Fe,h),He=s.memoizedState),(de=Fi||Aw(s,c,de,h,Ne,He,K)||!1)?(_e||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(h,He,K),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(h,He,K)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||U===a.memoizedProps&&Ne===a.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Ne===a.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=He),j.props=h,j.state=He,j.context=K,h=de):(typeof j.componentDidUpdate!="function"||U===a.memoizedProps&&Ne===a.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||U===a.memoizedProps&&Ne===a.memoizedState||(s.flags|=1024),h=!1)}return Up(a,s,c,h,S,y)}function Up(a,s,c,h,y,S){Lw(a,s);var j=(s.flags&128)!==0;if(!h&&!j)return y&&zb(s,c,!1),si(a,s,S);h=s.stateNode,TM.current=s;var U=j&&typeof c.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,a!==null&&j?(s.child=ho(s,a.child,null,S),s.child=ho(s,null,U,S)):Cn(a,s,U,S),s.memoizedState=h.state,y&&zb(s,c,!0),s.child}function qw(a){var s=a.stateNode;s.pendingContext?Ub(a,s.pendingContext,s.pendingContext!==s.context):s.context&&Ub(a,s.context,!1),_p(a,s.containerInfo)}function Fw(a,s,c,h,y){return po(),yp(y),s.flags|=256,Cn(a,s,c,h),s.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function zp(a){return{baseLanes:a,cachePool:null,transitions:null}}function Uw(a,s,c){var h=s.pendingProps,y=zt.current,S=!1,j=(s.flags&128)!==0,U;if((U=j)||(U=a!==null&&a.memoizedState===null?!1:(y&2)!==0),U?(S=!0,s.flags&=-129):(a===null||a.memoizedState!==null)&&(y|=1),Pt(zt,y&1),a===null)return gp(s),a=s.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((s.mode&1)===0?s.lanes=1:a.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(j=h.children,a=h.fallback,S?(h=s.mode,S=s.child,j={mode:"hidden",children:j},(h&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=j):S=gc(j,h,0,null),a=_a(a,h,c,null),S.return=s,a.return=s,S.sibling=a,s.child=S,s.child.memoizedState=zp(c),s.memoizedState=Bp,a):Vp(s,j));if(y=a.memoizedState,y!==null&&(U=y.dehydrated,U!==null))return CM(a,s,j,h,U,y,c);if(S){S=h.fallback,j=s.mode,y=a.child,U=y.sibling;var K={mode:"hidden",children:h.children};return(j&1)===0&&s.child!==y?(h=s.child,h.childLanes=0,h.pendingProps=K,s.deletions=null):(h=Wi(y,K),h.subtreeFlags=y.subtreeFlags&14680064),U!==null?S=Wi(U,S):(S=_a(S,j,c,null),S.flags|=2),S.return=s,h.return=s,h.sibling=S,s.child=h,h=S,S=s.child,j=a.child.memoizedState,j=j===null?zp(c):{baseLanes:j.baseLanes|c,cachePool:null,transitions:j.transitions},S.memoizedState=j,S.childLanes=a.childLanes&~c,s.memoizedState=Bp,h}return S=a.child,a=S.sibling,h=Wi(S,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=c),h.return=s,h.sibling=null,a!==null&&(c=s.deletions,c===null?(s.deletions=[a],s.flags|=16):c.push(a)),s.child=h,s.memoizedState=null,h}function Vp(a,s){return s=gc({mode:"visible",children:s},a.mode,0,null),s.return=a,a.child=s}function rc(a,s,c,h){return h!==null&&yp(h),ho(s,a.child,null,c),a=Vp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function CM(a,s,c,h,y,S,j){if(c)return s.flags&256?(s.flags&=-257,h=$p(Error(n(422))),rc(a,s,j,h)):s.memoizedState!==null?(s.child=a.child,s.flags|=128,null):(S=h.fallback,y=s.mode,h=gc({mode:"visible",children:h.children},y,0,null),S=_a(S,y,j,null),S.flags|=2,h.return=s,S.return=s,h.sibling=S,s.child=h,(s.mode&1)!==0&&ho(s,a.child,null,j),s.child.memoizedState=zp(j),s.memoizedState=Bp,S);if((s.mode&1)===0)return rc(a,s,j,null);if(y.data==="$!"){if(h=y.nextSibling&&y.nextSibling.dataset,h)var U=h.dgst;return h=U,S=Error(n(419)),h=$p(S,h,void 0),rc(a,s,j,h)}if(U=(j&a.childLanes)!==0,Ln||U){if(h=cn,h!==null){switch(j&-j){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(h.suspendedLanes|j))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,ai(a,y),Ar(h,a,y,-1))}return oh(),h=$p(Error(n(421))),rc(a,s,j,h)}return y.data==="$?"?(s.flags|=128,s.child=a.child,s=FM.bind(null,a),y._reactRetry=s,null):(a=S.treeContext,Yn=Di(y.nextSibling),Jn=s,Ft=!0,wr=null,a!==null&&(ir[ar++]=ri,ir[ar++]=ii,ir[ar++]=ma,ri=a.id,ii=a.overflow,ma=s),s=Vp(s,h.children),s.flags|=4096,s)}function Bw(a,s,c){a.lanes|=s;var h=a.alternate;h!==null&&(h.lanes|=s),wp(a.return,s,c)}function Gp(a,s,c,h,y){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:y}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=h,S.tail=c,S.tailMode=y)}function zw(a,s,c){var h=s.pendingProps,y=h.revealOrder,S=h.tail;if(Cn(a,s,h.children,c),h=zt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Bw(a,c,s);else if(a.tag===19)Bw(a,c,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}if(Pt(zt,h),(s.mode&1)===0)s.memoizedState=null;else switch(y){case"forwards":for(c=s.child,y=null;c!==null;)a=c.alternate,a!==null&&Yu(a)===null&&(y=c),c=c.sibling;c=y,c===null?(y=s.child,s.child=null):(y=c.sibling,c.sibling=null),Gp(s,!1,y,c,S);break;case"backwards":for(c=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&Yu(a)===null){s.child=y;break}a=y.sibling,y.sibling=c,c=y,y=a}Gp(s,!0,c,null,S);break;case"together":Gp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ic(a,s){(s.mode&1)===0&&a!==null&&(a.alternate=null,s.alternate=null,s.flags|=2)}function si(a,s,c){if(a!==null&&(s.dependencies=a.dependencies),ba|=s.lanes,(c&s.childLanes)===0)return null;if(a!==null&&s.child!==a.child)throw Error(n(153));if(s.child!==null){for(a=s.child,c=Wi(a,a.pendingProps),s.child=c,c.return=s;a.sibling!==null;)a=a.sibling,c=c.sibling=Wi(a,a.pendingProps),c.return=s;c.sibling=null}return s.child}function EM(a,s,c){switch(s.tag){case 3:qw(s),po();break;case 5:rw(s);break;case 1:Dn(s.type)&&Fu(s);break;case 4:_p(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,y=s.memoizedProps.value;Pt(Hu,h._currentValue),h._currentValue=y;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Pt(zt,zt.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?Uw(a,s,c):(Pt(zt,zt.current&1),a=si(a,s,c),a!==null?a.sibling:null);Pt(zt,zt.current&1);break;case 19:if(h=(c&s.childLanes)!==0,(a.flags&128)!==0){if(h)return zw(a,s,c);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Pt(zt,zt.current),h)break;return null;case 22:case 23:return s.lanes=0,Dw(a,s,c)}return si(a,s,c)}var Vw,Hp,Gw,Hw;Vw=function(a,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)a.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Hp=function(){},Gw=function(a,s,c,h){var y=a.memoizedProps;if(y!==h){a=s.stateNode,va(Lr.current);var S=null;switch(c){case"input":y=Se(a,y),h=Se(a,h),S=[];break;case"select":y=X({},y,{value:void 0}),h=X({},h,{value:void 0}),S=[];break;case"textarea":y=Ue(a,y),h=Ue(a,h),S=[];break;default:typeof y.onClick!="function"&&typeof h.onClick=="function"&&(a.onclick=Lu)}rr(c,h);var j;c=null;for(de in y)if(!h.hasOwnProperty(de)&&y.hasOwnProperty(de)&&y[de]!=null)if(de==="style"){var U=y[de];for(j in U)U.hasOwnProperty(j)&&(c||(c={}),c[j]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(o.hasOwnProperty(de)?S||(S=[]):(S=S||[]).push(de,null));for(de in h){var K=h[de];if(U=y!=null?y[de]:void 0,h.hasOwnProperty(de)&&K!==U&&(K!=null||U!=null))if(de==="style")if(U){for(j in U)!U.hasOwnProperty(j)||K&&K.hasOwnProperty(j)||(c||(c={}),c[j]="");for(j in K)K.hasOwnProperty(j)&&U[j]!==K[j]&&(c||(c={}),c[j]=K[j])}else c||(S||(S=[]),S.push(de,c)),c=K;else de==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,U=U?U.__html:void 0,K!=null&&U!==K&&(S=S||[]).push(de,K)):de==="children"?typeof K!="string"&&typeof K!="number"||(S=S||[]).push(de,""+K):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(o.hasOwnProperty(de)?(K!=null&&de==="onScroll"&&Rt("scroll",a),S||U===K||(S=[])):(S=S||[]).push(de,K))}c&&(S=S||[]).push("style",c);var de=S;(s.updateQueue=de)&&(s.flags|=4)}},Hw=function(a,s,c,h){c!==h&&(s.flags|=4)};function Ws(a,s){if(!Ft)switch(a.tailMode){case"hidden":s=a.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function bn(a){var s=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(s)for(var y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags&14680064,h|=y.flags&14680064,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)c|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=c,s}function PM(a,s,c){var h=s.pendingProps;switch(hp(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(s),null;case 1:return Dn(s.type)&&qu(),bn(s),null;case 3:return h=s.stateNode,yo(),Ot(On),Ot(vn),Cp(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Vu(s)?s.flags|=4:a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,wr!==null&&(rh(wr),wr=null))),Hp(a,s),bn(s),null;case 5:Ap(s);var y=va(Bs.current);if(c=s.type,a!==null&&s.stateNode!=null)Gw(a,s,c,h,y),a.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(n(166));return bn(s),null}if(a=va(Lr.current),Vu(s)){h=s.stateNode,c=s.type;var S=s.memoizedProps;switch(h[Dr]=s,h[Ls]=S,a=(s.mode&1)!==0,c){case"dialog":Rt("cancel",h),Rt("close",h);break;case"iframe":case"object":case"embed":Rt("load",h);break;case"video":case"audio":for(y=0;y<Rs.length;y++)Rt(Rs[y],h);break;case"source":Rt("error",h);break;case"img":case"image":case"link":Rt("error",h),Rt("load",h);break;case"details":Rt("toggle",h);break;case"input":Re(h,S),Rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!S.multiple},Rt("invalid",h);break;case"textarea":je(h,S),Rt("invalid",h)}rr(c,S),y=null;for(var j in S)if(S.hasOwnProperty(j)){var U=S[j];j==="children"?typeof U=="string"?h.textContent!==U&&(S.suppressHydrationWarning!==!0&&Du(h.textContent,U,a),y=["children",U]):typeof U=="number"&&h.textContent!==""+U&&(S.suppressHydrationWarning!==!0&&Du(h.textContent,U,a),y=["children",""+U]):o.hasOwnProperty(j)&&U!=null&&j==="onScroll"&&Rt("scroll",h)}switch(c){case"input":xe(h),te(h,S,!0);break;case"textarea":xe(h),Be(h);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(h.onclick=Lu)}h=y,s.updateQueue=h,h!==null&&(s.flags|=4)}else{j=y.nodeType===9?y:y.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=wt(c)),a==="http://www.w3.org/1999/xhtml"?c==="script"?(a=j.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof h.is=="string"?a=j.createElement(c,{is:h.is}):(a=j.createElement(c),c==="select"&&(j=a,h.multiple?j.multiple=!0:h.size&&(j.size=h.size))):a=j.createElementNS(a,c),a[Dr]=s,a[Ls]=h,Vw(a,s,!1,!1),s.stateNode=a;e:{switch(j=_n(c,h),c){case"dialog":Rt("cancel",a),Rt("close",a),y=h;break;case"iframe":case"object":case"embed":Rt("load",a),y=h;break;case"video":case"audio":for(y=0;y<Rs.length;y++)Rt(Rs[y],a);y=h;break;case"source":Rt("error",a),y=h;break;case"img":case"image":case"link":Rt("error",a),Rt("load",a),y=h;break;case"details":Rt("toggle",a),y=h;break;case"input":Re(a,h),y=Se(a,h),Rt("invalid",a);break;case"option":y=h;break;case"select":a._wrapperState={wasMultiple:!!h.multiple},y=X({},h,{value:void 0}),Rt("invalid",a);break;case"textarea":je(a,h),y=Ue(a,h),Rt("invalid",a);break;default:y=h}rr(c,y),U=y;for(S in U)if(U.hasOwnProperty(S)){var K=U[S];S==="style"?De(a,K):S==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&ce(a,K)):S==="children"?typeof K=="string"?(c!=="textarea"||K!=="")&&Ge(a,K):typeof K=="number"&&Ge(a,""+K):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?K!=null&&S==="onScroll"&&Rt("scroll",a):K!=null&&T(a,S,K,j))}switch(c){case"input":xe(a),te(a,h,!1);break;case"textarea":xe(a),Be(a);break;case"option":h.value!=null&&a.setAttribute("value",""+ve(h.value));break;case"select":a.multiple=!!h.multiple,S=h.value,S!=null?Ee(a,!!h.multiple,S,!1):h.defaultValue!=null&&Ee(a,!!h.multiple,h.defaultValue,!0);break;default:typeof y.onClick=="function"&&(a.onclick=Lu)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return bn(s),null;case 6:if(a&&s.stateNode!=null)Hw(a,s,a.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(n(166));if(c=va(Bs.current),va(Lr.current),Vu(s)){if(h=s.stateNode,c=s.memoizedProps,h[Dr]=s,(S=h.nodeValue!==c)&&(a=Jn,a!==null))switch(a.tag){case 3:Du(h.nodeValue,c,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Du(h.nodeValue,c,(a.mode&1)!==0)}S&&(s.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Dr]=s,s.stateNode=h}return bn(s),null;case 13:if(Ot(zt),h=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ft&&Yn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Jb(),po(),s.flags|=98560,S=!1;else if(S=Vu(s),h!==null&&h.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=s.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Dr]=s}else po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bn(s),S=!1}else wr!==null&&(rh(wr),wr=null),S=!0;if(!S)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(h=h!==null,h!==(a!==null&&a.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(a===null||(zt.current&1)!==0?nn===0&&(nn=3):oh())),s.updateQueue!==null&&(s.flags|=4),bn(s),null);case 4:return yo(),Hp(a,s),a===null&&Os(s.stateNode.containerInfo),bn(s),null;case 10:return bp(s.type._context),bn(s),null;case 17:return Dn(s.type)&&qu(),bn(s),null;case 19:if(Ot(zt),S=s.memoizedState,S===null)return bn(s),null;if(h=(s.flags&128)!==0,j=S.rendering,j===null)if(h)Ws(S,!1);else{if(nn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(j=Yu(a),j!==null){for(s.flags|=128,Ws(S,!1),h=j.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=c,c=s.child;c!==null;)S=c,a=h,S.flags&=14680066,j=S.alternate,j===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=j.childLanes,S.lanes=j.lanes,S.child=j.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=j.memoizedProps,S.memoizedState=j.memoizedState,S.updateQueue=j.updateQueue,S.type=j.type,a=j.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return Pt(zt,zt.current&1|2),s.child}a=a.sibling}S.tail!==null&&Tt()>wo&&(s.flags|=128,h=!0,Ws(S,!1),s.lanes=4194304)}else{if(!h)if(a=Yu(j),a!==null){if(s.flags|=128,h=!0,c=a.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),Ws(S,!0),S.tail===null&&S.tailMode==="hidden"&&!j.alternate&&!Ft)return bn(s),null}else 2*Tt()-S.renderingStartTime>wo&&c!==1073741824&&(s.flags|=128,h=!0,Ws(S,!1),s.lanes=4194304);S.isBackwards?(j.sibling=s.child,s.child=j):(c=S.last,c!==null?c.sibling=j:s.child=j,S.last=j)}return S.tail!==null?(s=S.tail,S.rendering=s,S.tail=s.sibling,S.renderingStartTime=Tt(),s.sibling=null,c=zt.current,Pt(zt,h?c&1|2:c&1),s):(bn(s),null);case 22:case 23:return ah(),h=s.memoizedState!==null,a!==null&&a.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(Xn&1073741824)!==0&&(bn(s),s.subtreeFlags&6&&(s.flags|=8192)):bn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function jM(a,s){switch(hp(s),s.tag){case 1:return Dn(s.type)&&qu(),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return yo(),Ot(On),Ot(vn),Cp(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 5:return Ap(s),null;case 13:if(Ot(zt),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(n(340));po()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return Ot(zt),null;case 4:return yo(),null;case 10:return bp(s.type._context),null;case 22:case 23:return ah(),null;case 24:return null;default:return null}}var ac=!1,wn=!1,IM=typeof WeakSet=="function"?WeakSet:Set,ze=null;function xo(a,s){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Ht(a,s,h)}else c.current=null}function Wp(a,s,c){try{c()}catch(h){Ht(a,s,h)}}var Ww=!1;function kM(a,s){if(ap=Au,a=Ab(),Xf(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var y=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var j=0,U=-1,K=-1,de=0,_e=0,Ce=a,Ne=null;t:for(;;){for(var Fe;Ce!==c||y!==0&&Ce.nodeType!==3||(U=j+y),Ce!==S||h!==0&&Ce.nodeType!==3||(K=j+h),Ce.nodeType===3&&(j+=Ce.nodeValue.length),(Fe=Ce.firstChild)!==null;)Ne=Ce,Ce=Fe;for(;;){if(Ce===a)break t;if(Ne===c&&++de===y&&(U=j),Ne===S&&++_e===h&&(K=j),(Fe=Ce.nextSibling)!==null)break;Ce=Ne,Ne=Ce.parentNode}Ce=Fe}c=U===-1||K===-1?null:{start:U,end:K}}else c=null}c=c||{start:0,end:0}}else c=null;for(op={focusedElem:a,selectionRange:c},Au=!1,ze=s;ze!==null;)if(s=ze,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,ze=a;else for(;ze!==null;){s=ze;try{var He=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var We=He.memoizedProps,Kt=He.memoizedState,se=s.stateNode,Z=se.getSnapshotBeforeUpdate(s.elementType===s.type?We:Sr(s.type,We),Kt);se.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ke){Ht(s,s.return,ke)}if(a=s.sibling,a!==null){a.return=s.return,ze=a;break}ze=s.return}return He=Ww,Ww=!1,He}function Ks(a,s,c){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var y=h=h.next;do{if((y.tag&a)===a){var S=y.destroy;y.destroy=void 0,S!==void 0&&Wp(s,c,S)}y=y.next}while(y!==h)}}function oc(a,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&a)===a){var h=c.create;c.destroy=h()}c=c.next}while(c!==s)}}function Kp(a){var s=a.ref;if(s!==null){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}typeof s=="function"?s(a):s.current=a}}function Kw(a){var s=a.alternate;s!==null&&(a.alternate=null,Kw(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&(delete s[Dr],delete s[Ls],delete s[cp],delete s[hM],delete s[mM])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Jw(a){return a.tag===5||a.tag===3||a.tag===4}function Yw(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Jw(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Jp(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(a,s):c.insertBefore(a,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(a,c)):(s=c,s.appendChild(a)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Lu));else if(h!==4&&(a=a.child,a!==null))for(Jp(a,s,c),a=a.sibling;a!==null;)Jp(a,s,c),a=a.sibling}function Yp(a,s,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,s?c.insertBefore(a,s):c.appendChild(a);else if(h!==4&&(a=a.child,a!==null))for(Yp(a,s,c),a=a.sibling;a!==null;)Yp(a,s,c),a=a.sibling}var mn=null,Nr=!1;function Bi(a,s,c){for(c=c.child;c!==null;)Xw(a,s,c),c=c.sibling}function Xw(a,s,c){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(fa,c)}catch{}switch(c.tag){case 5:wn||xo(c,s);case 6:var h=mn,y=Nr;mn=null,Bi(a,s,c),mn=h,Nr=y,mn!==null&&(Nr?(a=mn,c=c.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):mn.removeChild(c.stateNode));break;case 18:mn!==null&&(Nr?(a=mn,c=c.stateNode,a.nodeType===8?up(a.parentNode,c):a.nodeType===1&&up(a,c),Ts(a)):up(mn,c.stateNode));break;case 4:h=mn,y=Nr,mn=c.stateNode.containerInfo,Nr=!0,Bi(a,s,c),mn=h,Nr=y;break;case 0:case 11:case 14:case 15:if(!wn&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){y=h=h.next;do{var S=y,j=S.destroy;S=S.tag,j!==void 0&&((S&2)!==0||(S&4)!==0)&&Wp(c,s,j),y=y.next}while(y!==h)}Bi(a,s,c);break;case 1:if(!wn&&(xo(c,s),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(U){Ht(c,s,U)}Bi(a,s,c);break;case 21:Bi(a,s,c);break;case 22:c.mode&1?(wn=(h=wn)||c.memoizedState!==null,Bi(a,s,c),wn=h):Bi(a,s,c);break;default:Bi(a,s,c)}}function Zw(a){var s=a.updateQueue;if(s!==null){a.updateQueue=null;var c=a.stateNode;c===null&&(c=a.stateNode=new IM),s.forEach(function(h){var y=UM.bind(null,a,h);c.has(h)||(c.add(h),h.then(y,y))})}}function _r(a,s){var c=s.deletions;if(c!==null)for(var h=0;h<c.length;h++){var y=c[h];try{var S=a,j=s,U=j;e:for(;U!==null;){switch(U.tag){case 5:mn=U.stateNode,Nr=!1;break e;case 3:mn=U.stateNode.containerInfo,Nr=!0;break e;case 4:mn=U.stateNode.containerInfo,Nr=!0;break e}U=U.return}if(mn===null)throw Error(n(160));Xw(S,j,y),mn=null,Nr=!1;var K=y.alternate;K!==null&&(K.return=null),y.return=null}catch(de){Ht(y,s,de)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Qw(s,a),s=s.sibling}function Qw(a,s){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(_r(s,a),qr(a),h&4){try{Ks(3,a,a.return),oc(3,a)}catch(We){Ht(a,a.return,We)}try{Ks(5,a,a.return)}catch(We){Ht(a,a.return,We)}}break;case 1:_r(s,a),qr(a),h&512&&c!==null&&xo(c,c.return);break;case 5:if(_r(s,a),qr(a),h&512&&c!==null&&xo(c,c.return),a.flags&32){var y=a.stateNode;try{Ge(y,"")}catch(We){Ht(a,a.return,We)}}if(h&4&&(y=a.stateNode,y!=null)){var S=a.memoizedProps,j=c!==null?c.memoizedProps:S,U=a.type,K=a.updateQueue;if(a.updateQueue=null,K!==null)try{U==="input"&&S.type==="radio"&&S.name!=null&&Y(y,S),_n(U,j);var de=_n(U,S);for(j=0;j<K.length;j+=2){var _e=K[j],Ce=K[j+1];_e==="style"?De(y,Ce):_e==="dangerouslySetInnerHTML"?ce(y,Ce):_e==="children"?Ge(y,Ce):T(y,_e,Ce,de)}switch(U){case"input":le(y,S);break;case"textarea":ot(y,S);break;case"select":var Ne=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var Fe=S.value;Fe!=null?Ee(y,!!S.multiple,Fe,!1):Ne!==!!S.multiple&&(S.defaultValue!=null?Ee(y,!!S.multiple,S.defaultValue,!0):Ee(y,!!S.multiple,S.multiple?[]:"",!1))}y[Ls]=S}catch(We){Ht(a,a.return,We)}}break;case 6:if(_r(s,a),qr(a),h&4){if(a.stateNode===null)throw Error(n(162));y=a.stateNode,S=a.memoizedProps;try{y.nodeValue=S}catch(We){Ht(a,a.return,We)}}break;case 3:if(_r(s,a),qr(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Ts(s.containerInfo)}catch(We){Ht(a,a.return,We)}break;case 4:_r(s,a),qr(a);break;case 13:_r(s,a),qr(a),y=a.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(Qp=Tt())),h&4&&Zw(a);break;case 22:if(_e=c!==null&&c.memoizedState!==null,a.mode&1?(wn=(de=wn)||_e,_r(s,a),wn=de):_r(s,a),qr(a),h&8192){if(de=a.memoizedState!==null,(a.stateNode.isHidden=de)&&!_e&&(a.mode&1)!==0)for(ze=a,_e=a.child;_e!==null;){for(Ce=ze=_e;ze!==null;){switch(Ne=ze,Fe=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:Ks(4,Ne,Ne.return);break;case 1:xo(Ne,Ne.return);var He=Ne.stateNode;if(typeof He.componentWillUnmount=="function"){h=Ne,c=Ne.return;try{s=h,He.props=s.memoizedProps,He.state=s.memoizedState,He.componentWillUnmount()}catch(We){Ht(h,c,We)}}break;case 5:xo(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){n1(Ce);continue}}Fe!==null?(Fe.return=Ne,ze=Fe):n1(Ce)}_e=_e.sibling}e:for(_e=null,Ce=a;;){if(Ce.tag===5){if(_e===null){_e=Ce;try{y=Ce.stateNode,de?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(U=Ce.stateNode,K=Ce.memoizedProps.style,j=K!=null&&K.hasOwnProperty("display")?K.display:null,U.style.display=Lt("display",j))}catch(We){Ht(a,a.return,We)}}}else if(Ce.tag===6){if(_e===null)try{Ce.stateNode.nodeValue=de?"":Ce.memoizedProps}catch(We){Ht(a,a.return,We)}}else if((Ce.tag!==22&&Ce.tag!==23||Ce.memoizedState===null||Ce===a)&&Ce.child!==null){Ce.child.return=Ce,Ce=Ce.child;continue}if(Ce===a)break e;for(;Ce.sibling===null;){if(Ce.return===null||Ce.return===a)break e;_e===Ce&&(_e=null),Ce=Ce.return}_e===Ce&&(_e=null),Ce.sibling.return=Ce.return,Ce=Ce.sibling}}break;case 19:_r(s,a),qr(a),h&4&&Zw(a);break;case 21:break;default:_r(s,a),qr(a)}}function qr(a){var s=a.flags;if(s&2){try{e:{for(var c=a.return;c!==null;){if(Jw(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var y=h.stateNode;h.flags&32&&(Ge(y,""),h.flags&=-33);var S=Yw(a);Yp(a,S,y);break;case 3:case 4:var j=h.stateNode.containerInfo,U=Yw(a);Jp(a,U,j);break;default:throw Error(n(161))}}catch(K){Ht(a,a.return,K)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function MM(a,s,c){ze=a,e1(a)}function e1(a,s,c){for(var h=(a.mode&1)!==0;ze!==null;){var y=ze,S=y.child;if(y.tag===22&&h){var j=y.memoizedState!==null||ac;if(!j){var U=y.alternate,K=U!==null&&U.memoizedState!==null||wn;U=ac;var de=wn;if(ac=j,(wn=K)&&!de)for(ze=y;ze!==null;)j=ze,K=j.child,j.tag===22&&j.memoizedState!==null?r1(y):K!==null?(K.return=j,ze=K):r1(y);for(;S!==null;)ze=S,e1(S),S=S.sibling;ze=y,ac=U,wn=de}t1(a)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,ze=S):t1(a)}}function t1(a){for(;ze!==null;){var s=ze;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:wn||oc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!wn)if(c===null)h.componentDidMount();else{var y=s.elementType===s.type?c.memoizedProps:Sr(s.type,c.memoizedProps);h.componentDidUpdate(y,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var S=s.updateQueue;S!==null&&nw(s,S,h);break;case 3:var j=s.updateQueue;if(j!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}nw(s,j,c)}break;case 5:var U=s.stateNode;if(c===null&&s.flags&4){c=U;var K=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&c.focus();break;case"img":K.src&&(c.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var de=s.alternate;if(de!==null){var _e=de.memoizedState;if(_e!==null){var Ce=_e.dehydrated;Ce!==null&&Ts(Ce)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}wn||s.flags&512&&Kp(s)}catch(Ne){Ht(s,s.return,Ne)}}if(s===a){ze=null;break}if(c=s.sibling,c!==null){c.return=s.return,ze=c;break}ze=s.return}}function n1(a){for(;ze!==null;){var s=ze;if(s===a){ze=null;break}var c=s.sibling;if(c!==null){c.return=s.return,ze=c;break}ze=s.return}}function r1(a){for(;ze!==null;){var s=ze;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{oc(4,s)}catch(K){Ht(s,c,K)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var y=s.return;try{h.componentDidMount()}catch(K){Ht(s,y,K)}}var S=s.return;try{Kp(s)}catch(K){Ht(s,S,K)}break;case 5:var j=s.return;try{Kp(s)}catch(K){Ht(s,j,K)}}}catch(K){Ht(s,s.return,K)}if(s===a){ze=null;break}var U=s.sibling;if(U!==null){U.return=s.return,ze=U;break}ze=s.return}}var RM=Math.ceil,sc=P.ReactCurrentDispatcher,Xp=P.ReactCurrentOwner,lr=P.ReactCurrentBatchConfig,yt=0,cn=null,Zt=null,gn=0,Xn=0,bo=Li(0),nn=0,Js=null,ba=0,lc=0,Zp=0,Ys=null,$n=null,Qp=0,wo=1/0,li=null,uc=!1,eh=null,zi=null,cc=!1,Vi=null,dc=0,Xs=0,th=null,fc=-1,pc=0;function En(){return(yt&6)!==0?Tt():fc!==-1?fc:fc=Tt()}function Gi(a){return(a.mode&1)===0?1:(yt&2)!==0&&gn!==0?gn&-gn:yM.transition!==null?(pc===0&&(pc=ws()),pc):(a=vt,a!==0||(a=window.event,a=a===void 0?16:ab(a.type)),a)}function Ar(a,s,c,h){if(50<Xs)throw Xs=0,th=null,Error(n(185));Gt(a,c,h),((yt&2)===0||a!==cn)&&(a===cn&&((yt&2)===0&&(lc|=c),nn===4&&Hi(a,gn)),qn(a,h),c===1&&yt===0&&(s.mode&1)===0&&(wo=Tt()+500,Uu&&qi()))}function qn(a,s){var c=a.callbackNode;Wn(a,s);var h=ct(a,a===cn?gn:0);if(h===0)c!==null&&yu(c),a.callbackNode=null,a.callbackPriority=0;else if(s=h&-h,a.callbackPriority!==s){if(c!=null&&yu(c),s===1)a.tag===0?gM(a1.bind(null,a)):Vb(a1.bind(null,a)),fM(function(){(yt&6)===0&&qi()}),c=null;else{switch(ei(h)){case 1:c=xs;break;case 4:c=xu;break;case 16:c=Za;break;case 536870912:c=bs;break;default:c=Za}c=p1(c,i1.bind(null,a))}a.callbackPriority=s,a.callbackNode=c}}function i1(a,s){if(fc=-1,pc=0,(yt&6)!==0)throw Error(n(327));var c=a.callbackNode;if(So()&&a.callbackNode!==c)return null;var h=ct(a,a===cn?gn:0);if(h===0)return null;if((h&30)!==0||(h&a.expiredLanes)!==0||s)s=hc(a,h);else{s=h;var y=yt;yt|=2;var S=s1();(cn!==a||gn!==s)&&(li=null,wo=Tt()+500,Sa(a,s));do try{LM();break}catch(U){o1(a,U)}while(!0);xp(),sc.current=S,yt=y,Zt!==null?s=0:(cn=null,gn=0,s=nn)}if(s!==0){if(s===2&&(y=Zr(a),y!==0&&(h=y,s=nh(a,y))),s===1)throw c=Js,Sa(a,0),Hi(a,h),qn(a,Tt()),c;if(s===6)Hi(a,h);else{if(y=a.current.alternate,(h&30)===0&&!OM(y)&&(s=hc(a,h),s===2&&(S=Zr(a),S!==0&&(h=S,s=nh(a,S))),s===1))throw c=Js,Sa(a,0),Hi(a,h),qn(a,Tt()),c;switch(a.finishedWork=y,a.finishedLanes=h,s){case 0:case 1:throw Error(n(345));case 2:Na(a,$n,li);break;case 3:if(Hi(a,h),(h&130023424)===h&&(s=Qp+500-Tt(),10<s)){if(ct(a,0)!==0)break;if(y=a.suspendedLanes,(y&h)!==h){En(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=lp(Na.bind(null,a,$n,li),s);break}Na(a,$n,li);break;case 4:if(Hi(a,h),(h&4194240)===h)break;for(s=a.eventTimes,y=-1;0<h;){var j=31-Rn(h);S=1<<j,j=s[j],j>y&&(y=j),h&=~S}if(h=y,h=Tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*RM(h/1960))-h,10<h){a.timeoutHandle=lp(Na.bind(null,a,$n,li),h);break}Na(a,$n,li);break;case 5:Na(a,$n,li);break;default:throw Error(n(329))}}}return qn(a,Tt()),a.callbackNode===c?i1.bind(null,a):null}function nh(a,s){var c=Ys;return a.current.memoizedState.isDehydrated&&(Sa(a,s).flags|=256),a=hc(a,s),a!==2&&(s=$n,$n=c,s!==null&&rh(s)),a}function rh(a){$n===null?$n=a:$n.push.apply($n,a)}function OM(a){for(var s=a;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var y=c[h],S=y.getSnapshot;y=y.value;try{if(!br(S(),y))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hi(a,s){for(s&=~Zp,s&=~lc,a.suspendedLanes|=s,a.pingedLanes&=~s,a=a.expirationTimes;0<s;){var c=31-Rn(s),h=1<<c;a[c]=-1,s&=~h}}function a1(a){if((yt&6)!==0)throw Error(n(327));So();var s=ct(a,0);if((s&1)===0)return qn(a,Tt()),null;var c=hc(a,s);if(a.tag!==0&&c===2){var h=Zr(a);h!==0&&(s=h,c=nh(a,h))}if(c===1)throw c=Js,Sa(a,0),Hi(a,s),qn(a,Tt()),c;if(c===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=s,Na(a,$n,li),qn(a,Tt()),null}function ih(a,s){var c=yt;yt|=1;try{return a(s)}finally{yt=c,yt===0&&(wo=Tt()+500,Uu&&qi())}}function wa(a){Vi!==null&&Vi.tag===0&&(yt&6)===0&&So();var s=yt;yt|=1;var c=lr.transition,h=vt;try{if(lr.transition=null,vt=1,a)return a()}finally{vt=h,lr.transition=c,yt=s,(yt&6)===0&&qi()}}function ah(){Xn=bo.current,Ot(bo)}function Sa(a,s){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==-1&&(a.timeoutHandle=-1,dM(c)),Zt!==null)for(c=Zt.return;c!==null;){var h=c;switch(hp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&qu();break;case 3:yo(),Ot(On),Ot(vn),Cp();break;case 5:Ap(h);break;case 4:yo();break;case 13:Ot(zt);break;case 19:Ot(zt);break;case 10:bp(h.type._context);break;case 22:case 23:ah()}c=c.return}if(cn=a,Zt=a=Wi(a.current,null),gn=Xn=s,nn=0,Js=null,Zp=lc=ba=0,$n=Ys=null,ya!==null){for(s=0;s<ya.length;s++)if(c=ya[s],h=c.interleaved,h!==null){c.interleaved=null;var y=h.next,S=c.pending;if(S!==null){var j=S.next;S.next=y,h.next=j}c.pending=h}ya=null}return a}function o1(a,s){do{var c=Zt;try{if(xp(),Xu.current=tc,Zu){for(var h=Vt.memoizedState;h!==null;){var y=h.queue;y!==null&&(y.pending=null),h=h.next}Zu=!1}if(xa=0,un=tn=Vt=null,zs=!1,Vs=0,Xp.current=null,c===null||c.return===null){nn=1,Js=s,Zt=null;break}e:{var S=a,j=c.return,U=c,K=s;if(s=gn,U.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var de=K,_e=U,Ce=_e.tag;if((_e.mode&1)===0&&(Ce===0||Ce===11||Ce===15)){var Ne=_e.alternate;Ne?(_e.updateQueue=Ne.updateQueue,_e.memoizedState=Ne.memoizedState,_e.lanes=Ne.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Fe=Iw(j);if(Fe!==null){Fe.flags&=-257,kw(Fe,j,U,S,s),Fe.mode&1&&jw(S,de,s),s=Fe,K=de;var He=s.updateQueue;if(He===null){var We=new Set;We.add(K),s.updateQueue=We}else He.add(K);break e}else{if((s&1)===0){jw(S,de,s),oh();break e}K=Error(n(426))}}else if(Ft&&U.mode&1){var Kt=Iw(j);if(Kt!==null){(Kt.flags&65536)===0&&(Kt.flags|=256),kw(Kt,j,U,S,s),yp(vo(K,U));break e}}S=K=vo(K,U),nn!==4&&(nn=2),Ys===null?Ys=[S]:Ys.push(S),S=j;do{switch(S.tag){case 3:S.flags|=65536,s&=-s,S.lanes|=s;var se=Ew(S,K,s);tw(S,se);break e;case 1:U=K;var Z=S.type,ue=S.stateNode;if((S.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(zi===null||!zi.has(ue)))){S.flags|=65536,s&=-s,S.lanes|=s;var ke=Pw(S,U,s);tw(S,ke);break e}}S=S.return}while(S!==null)}u1(c)}catch(Ke){s=Ke,Zt===c&&c!==null&&(Zt=c=c.return);continue}break}while(!0)}function s1(){var a=sc.current;return sc.current=tc,a===null?tc:a}function oh(){(nn===0||nn===3||nn===2)&&(nn=4),cn===null||(ba&268435455)===0&&(lc&268435455)===0||Hi(cn,gn)}function hc(a,s){var c=yt;yt|=2;var h=s1();(cn!==a||gn!==s)&&(li=null,Sa(a,s));do try{DM();break}catch(y){o1(a,y)}while(!0);if(xp(),yt=c,sc.current=h,Zt!==null)throw Error(n(261));return cn=null,gn=0,nn}function DM(){for(;Zt!==null;)l1(Zt)}function LM(){for(;Zt!==null&&!Lf();)l1(Zt)}function l1(a){var s=f1(a.alternate,a,Xn);a.memoizedProps=a.pendingProps,s===null?u1(a):Zt=s,Xp.current=null}function u1(a){var s=a;do{var c=s.alternate;if(a=s.return,(s.flags&32768)===0){if(c=PM(c,s,Xn),c!==null){Zt=c;return}}else{if(c=jM(c,s),c!==null){c.flags&=32767,Zt=c;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{nn=6,Zt=null;return}}if(s=s.sibling,s!==null){Zt=s;return}Zt=s=a}while(s!==null);nn===0&&(nn=5)}function Na(a,s,c){var h=vt,y=lr.transition;try{lr.transition=null,vt=1,$M(a,s,c,h)}finally{lr.transition=y,vt=h}return null}function $M(a,s,c,h){do So();while(Vi!==null);if((yt&6)!==0)throw Error(n(327));c=a.finishedWork;var y=a.finishedLanes;if(c===null)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var S=c.lanes|c.childLanes;if(xr(a,S),a===cn&&(Zt=cn=null,gn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||cc||(cc=!0,p1(Za,function(){return So(),null})),S=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||S){S=lr.transition,lr.transition=null;var j=vt;vt=1;var U=yt;yt|=4,Xp.current=null,kM(a,c),Qw(c,a),iM(op),Au=!!ap,op=ap=null,a.current=c,MM(c),Pi(),yt=U,vt=j,lr.transition=S}else a.current=c;if(cc&&(cc=!1,Vi=a,dc=y),S=a.pendingLanes,S===0&&(zi=null),wu(c.stateNode),qn(a,Tt()),s!==null)for(h=a.onRecoverableError,c=0;c<s.length;c++)y=s[c],h(y.value,{componentStack:y.stack,digest:y.digest});if(uc)throw uc=!1,a=eh,eh=null,a;return(dc&1)!==0&&a.tag!==0&&So(),S=a.pendingLanes,(S&1)!==0?a===th?Xs++:(Xs=0,th=a):Xs=0,qi(),null}function So(){if(Vi!==null){var a=ei(dc),s=lr.transition,c=vt;try{if(lr.transition=null,vt=16>a?16:a,Vi===null)var h=!1;else{if(a=Vi,Vi=null,dc=0,(yt&6)!==0)throw Error(n(331));var y=yt;for(yt|=4,ze=a.current;ze!==null;){var S=ze,j=S.child;if((ze.flags&16)!==0){var U=S.deletions;if(U!==null){for(var K=0;K<U.length;K++){var de=U[K];for(ze=de;ze!==null;){var _e=ze;switch(_e.tag){case 0:case 11:case 15:Ks(8,_e,S)}var Ce=_e.child;if(Ce!==null)Ce.return=_e,ze=Ce;else for(;ze!==null;){_e=ze;var Ne=_e.sibling,Fe=_e.return;if(Kw(_e),_e===de){ze=null;break}if(Ne!==null){Ne.return=Fe,ze=Ne;break}ze=Fe}}}var He=S.alternate;if(He!==null){var We=He.child;if(We!==null){He.child=null;do{var Kt=We.sibling;We.sibling=null,We=Kt}while(We!==null)}}ze=S}}if((S.subtreeFlags&2064)!==0&&j!==null)j.return=S,ze=j;else e:for(;ze!==null;){if(S=ze,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Ks(9,S,S.return)}var se=S.sibling;if(se!==null){se.return=S.return,ze=se;break e}ze=S.return}}var Z=a.current;for(ze=Z;ze!==null;){j=ze;var ue=j.child;if((j.subtreeFlags&2064)!==0&&ue!==null)ue.return=j,ze=ue;else e:for(j=Z;ze!==null;){if(U=ze,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:oc(9,U)}}catch(Ke){Ht(U,U.return,Ke)}if(U===j){ze=null;break e}var ke=U.sibling;if(ke!==null){ke.return=U.return,ze=ke;break e}ze=U.return}}if(yt=y,qi(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(fa,a)}catch{}h=!0}return h}finally{vt=c,lr.transition=s}}return!1}function c1(a,s,c){s=vo(c,s),s=Ew(a,s,1),a=Ui(a,s,1),s=En(),a!==null&&(Gt(a,1,s),qn(a,s))}function Ht(a,s,c){if(a.tag===3)c1(a,a,c);else for(;s!==null;){if(s.tag===3){c1(s,a,c);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zi===null||!zi.has(h))){a=vo(c,a),a=Pw(s,a,1),s=Ui(s,a,1),a=En(),s!==null&&(Gt(s,1,a),qn(s,a));break}}s=s.return}}function qM(a,s,c){var h=a.pingCache;h!==null&&h.delete(s),s=En(),a.pingedLanes|=a.suspendedLanes&c,cn===a&&(gn&c)===c&&(nn===4||nn===3&&(gn&130023424)===gn&&500>Tt()-Qp?Sa(a,0):Zp|=c),qn(a,s)}function d1(a,s){s===0&&((a.mode&1)===0?s=1:(s=we,we<<=1,(we&130023424)===0&&(we=4194304)));var c=En();a=ai(a,s),a!==null&&(Gt(a,s,c),qn(a,c))}function FM(a){var s=a.memoizedState,c=0;s!==null&&(c=s.retryLane),d1(a,c)}function UM(a,s){var c=0;switch(a.tag){case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(c=y.retryLane);break;case 19:h=a.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(s),d1(a,c)}var f1;f1=function(a,s,c){if(a!==null)if(a.memoizedProps!==s.pendingProps||On.current)Ln=!0;else{if((a.lanes&c)===0&&(s.flags&128)===0)return Ln=!1,EM(a,s,c);Ln=(a.flags&131072)!==0}else Ln=!1,Ft&&(s.flags&1048576)!==0&&Gb(s,zu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;ic(a,s),a=s.pendingProps;var y=uo(s,vn.current);go(s,c),y=jp(null,s,h,a,y,c);var S=Ip();return s.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Dn(h)?(S=!0,Fu(s)):S=!1,s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Np(s),y.updater=nc,s.stateNode=y,y._reactInternals=s,Lp(s,h,a,c),s=Up(null,s,h,!0,S,c)):(s.tag=0,Ft&&S&&pp(s),Cn(null,s,y,c),s=s.child),s;case 16:h=s.elementType;e:{switch(ic(a,s),a=s.pendingProps,y=h._init,h=y(h._payload),s.type=h,y=s.tag=zM(h),a=Sr(h,a),y){case 0:s=Fp(null,s,h,a,c);break e;case 1:s=$w(null,s,h,a,c);break e;case 11:s=Mw(null,s,h,a,c);break e;case 14:s=Rw(null,s,h,Sr(h.type,a),c);break e}throw Error(n(306,h,""))}return s;case 0:return h=s.type,y=s.pendingProps,y=s.elementType===h?y:Sr(h,y),Fp(a,s,h,y,c);case 1:return h=s.type,y=s.pendingProps,y=s.elementType===h?y:Sr(h,y),$w(a,s,h,y,c);case 3:e:{if(qw(s),a===null)throw Error(n(387));h=s.pendingProps,S=s.memoizedState,y=S.element,ew(a,s),Ju(s,h,null,c);var j=s.memoizedState;if(h=j.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},s.updateQueue.baseState=S,s.memoizedState=S,s.flags&256){y=vo(Error(n(423)),s),s=Fw(a,s,h,c,y);break e}else if(h!==y){y=vo(Error(n(424)),s),s=Fw(a,s,h,c,y);break e}else for(Yn=Di(s.stateNode.containerInfo.firstChild),Jn=s,Ft=!0,wr=null,c=Zb(s,null,h,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(po(),h===y){s=si(a,s,c);break e}Cn(a,s,h,c)}s=s.child}return s;case 5:return rw(s),a===null&&gp(s),h=s.type,y=s.pendingProps,S=a!==null?a.memoizedProps:null,j=y.children,sp(h,y)?j=null:S!==null&&sp(h,S)&&(s.flags|=32),Lw(a,s),Cn(a,s,j,c),s.child;case 6:return a===null&&gp(s),null;case 13:return Uw(a,s,c);case 4:return _p(s,s.stateNode.containerInfo),h=s.pendingProps,a===null?s.child=ho(s,null,h,c):Cn(a,s,h,c),s.child;case 11:return h=s.type,y=s.pendingProps,y=s.elementType===h?y:Sr(h,y),Mw(a,s,h,y,c);case 7:return Cn(a,s,s.pendingProps,c),s.child;case 8:return Cn(a,s,s.pendingProps.children,c),s.child;case 12:return Cn(a,s,s.pendingProps.children,c),s.child;case 10:e:{if(h=s.type._context,y=s.pendingProps,S=s.memoizedProps,j=y.value,Pt(Hu,h._currentValue),h._currentValue=j,S!==null)if(br(S.value,j)){if(S.children===y.children&&!On.current){s=si(a,s,c);break e}}else for(S=s.child,S!==null&&(S.return=s);S!==null;){var U=S.dependencies;if(U!==null){j=S.child;for(var K=U.firstContext;K!==null;){if(K.context===h){if(S.tag===1){K=oi(-1,c&-c),K.tag=2;var de=S.updateQueue;if(de!==null){de=de.shared;var _e=de.pending;_e===null?K.next=K:(K.next=_e.next,_e.next=K),de.pending=K}}S.lanes|=c,K=S.alternate,K!==null&&(K.lanes|=c),wp(S.return,c,s),U.lanes|=c;break}K=K.next}}else if(S.tag===10)j=S.type===s.type?null:S.child;else if(S.tag===18){if(j=S.return,j===null)throw Error(n(341));j.lanes|=c,U=j.alternate,U!==null&&(U.lanes|=c),wp(j,c,s),j=S.sibling}else j=S.child;if(j!==null)j.return=S;else for(j=S;j!==null;){if(j===s){j=null;break}if(S=j.sibling,S!==null){S.return=j.return,j=S;break}j=j.return}S=j}Cn(a,s,y.children,c),s=s.child}return s;case 9:return y=s.type,h=s.pendingProps.children,go(s,c),y=or(y),h=h(y),s.flags|=1,Cn(a,s,h,c),s.child;case 14:return h=s.type,y=Sr(h,s.pendingProps),y=Sr(h.type,y),Rw(a,s,h,y,c);case 15:return Ow(a,s,s.type,s.pendingProps,c);case 17:return h=s.type,y=s.pendingProps,y=s.elementType===h?y:Sr(h,y),ic(a,s),s.tag=1,Dn(h)?(a=!0,Fu(s)):a=!1,go(s,c),Tw(s,h,y),Lp(s,h,y,c),Up(null,s,h,!0,a,c);case 19:return zw(a,s,c);case 22:return Dw(a,s,c)}throw Error(n(156,s.tag))};function p1(a,s){return gu(a,s)}function BM(a,s,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(a,s,c,h){return new BM(a,s,c,h)}function sh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function zM(a){if(typeof a=="function")return sh(a)?1:0;if(a!=null){if(a=a.$$typeof,a===D)return 11;if(a===Q)return 14}return 2}function Wi(a,s){var c=a.alternate;return c===null?(c=ur(a.tag,s,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=s,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&14680064,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,s=a.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function mc(a,s,c,h,y,S){var j=2;if(h=a,typeof a=="function")sh(a)&&(j=1);else if(typeof a=="string")j=5;else e:switch(a){case I:return _a(c.children,y,S,s);case R:j=8,y|=8;break;case L:return a=ur(12,c,s,y|2),a.elementType=L,a.lanes=S,a;case B:return a=ur(13,c,s,y),a.elementType=B,a.lanes=S,a;case ee:return a=ur(19,c,s,y),a.elementType=ee,a.lanes=S,a;case oe:return gc(c,y,S,s);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case W:j=10;break e;case q:j=9;break e;case D:j=11;break e;case Q:j=14;break e;case ae:j=16,h=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return s=ur(j,c,s,y),s.elementType=a,s.type=h,s.lanes=S,s}function _a(a,s,c,h){return a=ur(7,a,h,s),a.lanes=c,a}function gc(a,s,c,h){return a=ur(22,a,h,s),a.elementType=oe,a.lanes=c,a.stateNode={isHidden:!1},a}function lh(a,s,c){return a=ur(6,a,null,s),a.lanes=c,a}function uh(a,s,c){return s=ur(4,a.children!==null?a.children:[],a.key,s),s.lanes=c,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}function VM(a,s,c,h,y){this.tag=s,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=h,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function ch(a,s,c,h,y,S,j,U,K){return a=new VM(a,s,c,U,K),s===1?(s=1,S===!0&&(s|=8)):s=0,S=ur(3,null,null,s),a.current=S,S.stateNode=a,S.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(S),a}function GM(a,s,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:h==null?null:""+h,children:a,containerInfo:s,implementation:c}}function h1(a){if(!a)return $i;a=a._reactInternals;e:{if(Xr(a)!==a||a.tag!==1)throw Error(n(170));var s=a;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Dn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(a.tag===1){var c=a.type;if(Dn(c))return Bb(a,c,s)}return s}function m1(a,s,c,h,y,S,j,U,K){return a=ch(c,h,!0,a,y,S,j,U,K),a.context=h1(null),c=a.current,h=En(),y=Gi(c),S=oi(h,y),S.callback=s??null,Ui(c,S,y),a.current.lanes=y,Gt(a,y,h),qn(a,h),a}function yc(a,s,c,h){var y=s.current,S=En(),j=Gi(y);return c=h1(c),s.context===null?s.context=c:s.pendingContext=c,s=oi(S,j),s.payload={element:a},h=h===void 0?null:h,h!==null&&(s.callback=h),a=Ui(y,s,j),a!==null&&(Ar(a,y,j,S),Ku(a,y,j)),j}function vc(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function g1(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<s?c:s}}function dh(a,s){g1(a,s),(a=a.alternate)&&g1(a,s)}function HM(){return null}var y1=typeof reportError=="function"?reportError:function(a){console.error(a)};function fh(a){this._internalRoot=a}xc.prototype.render=fh.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(n(409));yc(a,s,null,null)},xc.prototype.unmount=fh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;wa(function(){yc(null,a,null,null)}),s[ti]=null}};function xc(a){this._internalRoot=a}xc.prototype.unstable_scheduleHydration=function(a){if(a){var s=eb();a={blockedOn:null,target:a,priority:s};for(var c=0;c<Mi.length&&s!==0&&s<Mi[c].priority;c++);Mi.splice(c,0,a),c===0&&rb(a)}};function ph(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function bc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function v1(){}function WM(a,s,c,h,y){if(y){if(typeof h=="function"){var S=h;h=function(){var de=vc(j);S.call(de)}}var j=m1(s,h,a,0,null,!1,!1,"",v1);return a._reactRootContainer=j,a[ti]=j.current,Os(a.nodeType===8?a.parentNode:a),wa(),j}for(;y=a.lastChild;)a.removeChild(y);if(typeof h=="function"){var U=h;h=function(){var de=vc(K);U.call(de)}}var K=ch(a,0,!1,null,null,!1,!1,"",v1);return a._reactRootContainer=K,a[ti]=K.current,Os(a.nodeType===8?a.parentNode:a),wa(function(){yc(s,K,c,h)}),K}function wc(a,s,c,h,y){var S=c._reactRootContainer;if(S){var j=S;if(typeof y=="function"){var U=y;y=function(){var K=vc(j);U.call(K)}}yc(s,j,a,y)}else j=WM(c,s,a,y,h);return vc(j)}Su=function(a){switch(a.tag){case 3:var s=a.stateNode;if(s.current.memoizedState.isDehydrated){var c=nt(s.pendingLanes);c!==0&&(Qr(s,c|1),qn(s,Tt()),(yt&6)===0&&(wo=Tt()+500,qi()))}break;case 13:wa(function(){var h=ai(a,1);if(h!==null){var y=En();Ar(h,a,1,y)}}),dh(a,1)}},$f=function(a){if(a.tag===13){var s=ai(a,134217728);if(s!==null){var c=En();Ar(s,a,134217728,c)}dh(a,134217728)}},Qx=function(a){if(a.tag===13){var s=Gi(a),c=ai(a,s);if(c!==null){var h=En();Ar(c,a,s,h)}dh(a,s)}},eb=function(){return vt},tb=function(a,s){var c=vt;try{return vt=a,s()}finally{vt=c}},Mr=function(a,s,c){switch(s){case"input":if(le(a,c),s=c.name,c.type==="radio"&&s!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var h=c[s];if(h!==a&&h.form===a.form){var y=$u(h);if(!y)throw Error(n(90));$(h),le(h,y)}}}break;case"textarea":ot(a,c);break;case"select":s=c.value,s!=null&&Ee(a,!!c.multiple,s,!1)}},V=ih,Le=wa;var KM={usingClientEntryPoint:!1,Events:[$s,so,$u,da,Yr,ih]},Zs={findFiberByHostInstance:pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JM={bundleType:Zs.bundleType,version:Zs.version,rendererPackageName:Zs.rendererPackageName,rendererConfig:Zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=hu(a),a===null?null:a.stateNode},findFiberByHostInstance:Zs.findFiberByHostInstance||HM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{fa=Sc.inject(JM),Hn=Sc}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KM,Fn.createPortal=function(a,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ph(s))throw Error(n(200));return GM(a,s,null,c)},Fn.createRoot=function(a,s){if(!ph(a))throw Error(n(299));var c=!1,h="",y=y1;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=ch(a,1,!1,null,null,c,!1,h,y),a[ti]=s.current,Os(a.nodeType===8?a.parentNode:a),new fh(s)},Fn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=hu(s),a=a===null?null:a.stateNode,a},Fn.flushSync=function(a){return wa(a)},Fn.hydrate=function(a,s,c){if(!bc(s))throw Error(n(200));return wc(null,a,s,!0,c)},Fn.hydrateRoot=function(a,s,c){if(!ph(a))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,y=!1,S="",j=y1;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),s=m1(s,null,a,1,c??null,y,!1,S,j),a[ti]=s.current,Os(a),h)for(a=0;a<h.length;a++)c=h[a],y=c._getVersion,y=y(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,y]:s.mutableSourceEagerHydrationData.push(c,y);return new xc(s)},Fn.render=function(a,s,c){if(!bc(s))throw Error(n(200));return wc(null,a,s,!1,c)},Fn.unmountComponentAtNode=function(a){if(!bc(a))throw Error(n(40));return a._reactRootContainer?(wa(function(){wc(null,null,a,!1,function(){a._reactRootContainer=null,a[ti]=null})}),!0):!1},Fn.unstable_batchedUpdates=ih,Fn.unstable_renderSubtreeIntoContainer=function(a,s,c,h){if(!bc(c))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return wc(a,s,c,!1,h)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var T1;function rR(){if(T1)return gh.exports;T1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gh.exports=nR(),gh.exports}var C1;function iR(){if(C1)return _c;C1=1;var e=rR();return _c.createRoot=e.createRoot,_c.hydrateRoot=e.hydrateRoot,_c}var aR=iR(),oR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const sR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lR=(e,t)=>{const n=M.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,children:d,...f},p)=>M.createElement("svg",{ref:p,...oR,width:o,height:o,stroke:r,strokeWidth:u?Number(l)*24/Number(o):l,className:`lucide lucide-${sR(e)}`,...f},[...t.map(([g,m])=>M.createElement(g,m)),...(Array.isArray(d)?d:[d])||[]]));return n.displayName=`${e}`,n};var Me=lR;const pr=Me("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),FP=Me("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Bn=Me("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ta=Me("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),uR=Me("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),cR=Me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),E1=Me("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),iu=Me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),dR=Me("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),fR=Me("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Wc=Me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),pR=Me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),P1=Me("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Jd=Me("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),j1=Me("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),Sv=Me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),kt=Me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),hR=Me("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),mR=Me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),gR=Me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),yR=Me("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),I1=Me("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),vR=Me("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),el=Me("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),xR=Me("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Er=Me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),hi=Me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),UP=Me("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),xl=Me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bR=Me("FileBarChart",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M16 18v-6",key:"15y0np"}]]),Nv=Me("FilePlus",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"12",x2:"12",y1:"18",y2:"12",key:"1tsf04"}],["line",{x1:"9",x2:"15",y1:"15",y2:"15",key:"110plj"}]]),vi=Me("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),BP=Me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),wR=Me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),k1=Me("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),SR=Me("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),NR=Me("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),M1=Me("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]),Ac=Me("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),_R=Me("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),AR=Me("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),bl=Me("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),wl=Me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Vc=Me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),_v=Me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Kc=Me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),TR=Me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),CR=Me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),ER=Me("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),xh=Me("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),fi=Me("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Av=Me("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),R1=Me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),na=Me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),PR=Me("Power",[["path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0",key:"phirl6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"12",key:"aemgbe"}]]),zP=Me("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),jR=Me("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),VP=Me("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),IR=Me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),O1=Me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Yd=Me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),qa=Me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Tv=Me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),kR=Me("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),MR=Me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),bh=Me("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),RR=Me("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),pi=Me("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Jc=Me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),OR=Me("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),DR=Me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),LR=Me("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Yc=Me("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Tc=Me("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),$R=Me("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),qR=Me("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),ra=Me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),FR=Me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Pr=Me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ci=Me("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),D1=Me("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Gc=Me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),GP=Me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Sl=Me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Da=Me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),HP=Me("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),UR=Me("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),Fr=Me("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Jt=Me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var ut=(e=>(e.SUPER_ADMIN="SUPER_ADMIN",e.BRANCH_MANAGER="BRANCH_MANAGER",e.PHARMACIST="PHARMACIST",e.CASHIER="CASHIER",e.INVENTORY_CONTROLLER="INVENTORY_CONTROLLER",e.ACCOUNTANT="ACCOUNTANT",e.AUDITOR="AUDITOR",e))(ut||{}),Yi=(e=>(e.CASH="CASH",e.MOBILE_MONEY="MOBILE_MONEY",e.INSURANCE="INSURANCE",e.CREDIT="CREDIT",e))(Yi||{});const BR=({children:e,activeTab:t,setActiveTab:n,currentBranchId:r,setCurrentBranchId:o,currentUser:l,onLogout:u,branches:d})=>{var b,E;const[f,p]=z.useState(!1),g={[ut.SUPER_ADMIN]:["dashboard","approvals","pos","inventory","clinical","finance","staff","branches","reports","archive","settings"],[ut.BRANCH_MANAGER]:["dashboard","pos","inventory","clinical","finance","staff","reports","archive"],[ut.PHARMACIST]:["dashboard","inventory","clinical"],[ut.CASHIER]:["pos","finance"],[ut.INVENTORY_CONTROLLER]:["dashboard","inventory","reports"],[ut.ACCOUNTANT]:["dashboard","finance","reports","archive"],[ut.AUDITOR]:["dashboard","reports","finance","archive"]},m=l?g[l.role]:[],w=[{id:"dashboard",label:"Dashboard",icon:_R},{id:"approvals",label:"Approvals",icon:yR},{id:"pos",label:"Point of Sale",icon:Jc},{id:"inventory",label:"Inventory",icon:fi},{id:"clinical",label:"Clinical & Rx",icon:LR},{id:"finance",label:"Finance",icon:fR},{id:"staff",label:"Staff & Roles",icon:Da},{id:"branches",label:"Branches",icon:Yc},{id:"reports",label:"Reports",icon:pr},{id:"archive",label:"Archive",icon:ta},{id:"settings",label:"Settings",icon:MR}].filter(A=>m.includes(A.id)),_=((b=d.find(A=>A.id===r))==null?void 0:b.name)||"Unknown Branch",x=(l==null?void 0:l.role)===ut.SUPER_ADMIN;return i.jsxs("div",{id:"app-layout",className:"flex h-screen bg-slate-50 overflow-hidden",children:[i.jsxs("aside",{className:"hidden md:flex flex-col w-64 bg-teal-900 text-white shadow-xl no-print",children:[i.jsxs("div",{className:"p-6 border-b border-teal-800",children:[i.jsxs("h1",{className:"text-2xl font-bold tracking-tight",children:["PMS",i.jsx("span",{className:"text-teal-400",children:"."})]}),i.jsx("p",{className:"text-xs text-teal-300 mt-1",children:"Pharmacy Management"})]}),i.jsxs("div",{className:"px-4 pt-4 pb-2",children:[i.jsx("label",{className:"text-xs text-teal-400 uppercase font-semibold tracking-wider mb-2 block",children:"Current Context"}),x?i.jsxs("div",{className:"relative",children:[i.jsx(Yc,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-teal-200"}),i.jsx("select",{value:r,onChange:A=>o(A.target.value),className:"w-full pl-9 pr-3 py-2 bg-teal-800 border border-teal-700 rounded-lg text-sm text-white focus:outline-none focus:ring-2 focus:ring-teal-500 appearance-none cursor-pointer",children:d.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))})]}):i.jsxs("div",{className:"flex items-center gap-2 p-2 bg-teal-800 rounded-lg text-sm text-teal-100 border border-teal-700",children:[i.jsx(wl,{size:14,className:"text-teal-400"}),i.jsx("span",{className:"truncate",children:_})]}),r!=="HEAD_OFFICE"&&i.jsxs("div",{className:"mt-2 flex items-center text-xs text-teal-300 px-1",children:[i.jsx(Kc,{size:12,className:"mr-1"}),(E=d.find(A=>A.id===r))==null?void 0:E.location]})]}),i.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:w.map(A=>i.jsxs("button",{onClick:()=>n(A.id),className:`flex items-center w-full px-4 py-3 rounded-lg transition-all duration-200 ${t===A.id?"bg-teal-700 text-white shadow-md transform scale-[1.02]":"text-teal-100 hover:bg-teal-800 hover:text-white"}`,children:[i.jsx(A.icon,{size:20,className:"mr-3"}),i.jsx("span",{className:"font-medium",children:A.label})]},A.id))}),i.jsx("div",{className:"p-4 border-t border-teal-800",children:i.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 text-teal-100",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-600 flex items-center justify-center font-bold uppercase",children:l==null?void 0:l.name.charAt(0)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:l==null?void 0:l.name}),i.jsx("p",{className:"text-xs text-teal-400 truncate capitalize",children:l==null?void 0:l.role.replace("_"," ").toLowerCase()})]}),i.jsx("button",{onClick:u,title:"Logout",children:i.jsx(Vc,{size:18,className:"cursor-pointer hover:text-white"})})]})})]}),i.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[i.jsxs("header",{className:"md:hidden flex items-center justify-between p-4 bg-teal-900 text-white shadow-md z-20 no-print",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold",children:"PMS"}),i.jsx("p",{className:"text-xs text-teal-300",children:_})]}),i.jsx("button",{onClick:()=>p(!f),children:i.jsx(TR,{size:24})})]}),f&&i.jsxs("div",{className:"md:hidden absolute inset-0 z-30 bg-teal-900/95 backdrop-blur-sm p-6 animate-in fade-in slide-in-from-top-10 no-print",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Menu"}),i.jsx("button",{onClick:()=>p(!1),className:"text-white",children:i.jsx(Vc,{size:24,className:"rotate-180"})})]}),x&&i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"text-sm text-teal-300 block mb-2",children:"Switch Branch"}),i.jsx("select",{value:r,onChange:A=>{o(A.target.value),p(!1)},className:"w-full p-3 bg-teal-800 text-white rounded-lg border border-teal-700",children:d.map(A=>i.jsx("option",{value:A.id,children:A.name},A.id))})]}),i.jsxs("nav",{className:"space-y-4",children:[w.map(A=>i.jsxs("button",{onClick:()=>{n(A.id),p(!1)},className:`flex items-center w-full px-4 py-4 rounded-xl text-lg ${t===A.id?"bg-teal-700 text-white":"text-teal-100"}`,children:[i.jsx(A.icon,{size:24,className:"mr-4"}),A.label]},A.id)),i.jsxs("button",{onClick:u,className:"flex items-center w-full px-4 py-4 rounded-xl text-lg text-teal-100 mt-8 border-t border-teal-800",children:[i.jsx(Vc,{size:24,className:"mr-4"})," Logout"]})]})]}),i.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50 scroll-smooth",children:i.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-8",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between bg-white p-3 rounded-lg shadow-sm border border-slate-200 no-print",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[i.jsx("span",{className:"font-semibold text-slate-800",children:"Context:"}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${r==="HEAD_OFFICE"?"bg-teal-100 text-teal-800":"bg-blue-100 text-blue-800"}`,children:_}),!x&&i.jsx(wl,{size:12,className:"text-slate-400"})]}),i.jsxs("div",{className:"text-xs text-slate-400",children:["User: ",l==null?void 0:l.username]})]}),e]})})]})]})},zR="malenya_pharmacy/backend_php/index.php/api/",VR=3e4;async function qe(e,t={}){const n=`${zR}${e}`,r=t.method||"GET",o={"Content-Type":"application/json",Accept:"application/json"},l=localStorage.getItem("authToken");l&&(o.Authorization=`Bearer ${l}`);const u={...t,headers:{...o,...t.headers||{}}},d=new AbortController,f=setTimeout(()=>d.abort(),VR);u.signal=d.signal;try{const p=await fetch(n,u);if(clearTimeout(f),p.status===204)return null;if(p.status===401)throw localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login",new Error("Unauthorized. Please login again.");if(!p.ok){let m=`${p.status} ${p.statusText}`;try{m=(await p.json()).message||m}catch{const v=await p.text().catch(()=>"");v&&(m=v)}throw new Error(`${r} ${e} failed: ${m}`)}return await p.json()}catch(p){throw clearTimeout(f),p instanceof TypeError&&p.message==="Failed to fetch"?new Error("Network error. Please check your connection and try again."):p instanceof DOMException&&p.name==="AbortError"?new Error(`Request timeout. ${r} ${e} took too long.`):p}}const GR=async(e,t)=>{const n="https://malenyapharmacy.com/backend_php/api/auth/login.php",r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!r.ok){let o=`${r.status} ${r.statusText}`;try{o=(await r.json()).message||o}catch{const l=await r.text().catch(()=>"");l&&(o=l)}throw new Error(`POST ${n} failed: ${o}`)}return await r.json()};function HR(){localStorage.removeItem("authToken"),localStorage.removeItem("user")}function WR(){try{const e=localStorage.getItem("user");return e?JSON.parse(e):null}catch{return null}}function KR(){return!!localStorage.getItem("authToken")}const $e={login:GR,logout:HR,getCurrentUser:WR,isAuthenticated:KR,getProducts:()=>qe("products").catch(()=>[]),getProduct:e=>qe(`products/${e}`).catch(()=>null),createProduct:e=>qe("products",{method:"POST",body:JSON.stringify(e)}),bulkImportProducts:e=>qe("products/bulk",{method:"POST",body:JSON.stringify({products:e})}),updateProduct:(e,t)=>qe(`products/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteProduct:e=>qe(`products/${e}`,{method:"DELETE"}),clearAllProducts:()=>qe("products",{method:"DELETE"}),getBranches:()=>qe("branches").catch(()=>[]),getBranch:e=>qe(`branches/${e}`).catch(()=>null),createBranch:e=>qe("branches",{method:"POST",body:JSON.stringify(e)}),updateBranch:(e,t)=>qe(`branches/${e}`,{method:"PUT",body:JSON.stringify(t)}),getInventory:e=>qe(`inventory${e?`?branchId=${e}`:""}`).catch(()=>({})),getBranchInventory:e=>qe(`inventory/${e}`).catch(()=>[]),getInventoryItem:(e,t)=>qe(`inventory/${e}/${t}`).catch(()=>null),updateInventoryItem:(e,t,n)=>qe(`inventory/${e}/${t}`,{method:"PUT",body:JSON.stringify(n)}),addInventoryBatch:(e,t,n)=>qe(`inventory/${e}/${t}/batches`,{method:"POST",body:JSON.stringify(n)}),getTransfers:()=>qe("inventory/transfers").catch(()=>[]),getTransfer:e=>qe(`inventory/transfers/${e}`).catch(()=>null),createTransfer:e=>qe("inventory/transfers",{method:"POST",body:JSON.stringify(e)}),updateTransfer:(e,t)=>qe(`inventory/transfers/${e}`,{method:"PUT",body:JSON.stringify(t)}),approveTransfer:e=>qe(`inventory/transfers/${e}/approve`,{method:"POST"}),getSales:()=>qe("sales").catch(()=>[]),getSale:e=>qe(`sales/${e}`).catch(()=>null),createSale:e=>qe("sales",{method:"POST",body:JSON.stringify(e)}),getInvoices:()=>qe("finance/invoices").catch(()=>[]),getInvoice:e=>qe(`finance/invoices/${e}`).catch(()=>null),createInvoice:e=>qe("finance/invoices",{method:"POST",body:JSON.stringify(e)}),updateInvoice:(e,t)=>qe(`finance/invoices/${e}`,{method:"PUT",body:JSON.stringify(t)}),recordPayment:(e,t)=>qe(`finance/invoices/${e}/payments`,{method:"POST",body:JSON.stringify(t)}),getExpenses:()=>qe("expenses").catch(()=>[]),getExpense:e=>qe(`expenses/${e}`).catch(()=>null),createExpense:e=>qe("expenses",{method:"POST",body:JSON.stringify(e)}),updateExpense:(e,t)=>qe(`expenses/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteExpense:e=>qe(`expenses/${e}`,{method:"DELETE"}),getStaff:()=>qe("staff").catch(()=>[]),getStaffMember:e=>qe(`staff/${e}`).catch(()=>null),createStaff:e=>qe("staff",{method:"POST",body:JSON.stringify(e)}),updateStaff:(e,t)=>qe(`staff/${e}`,{method:"PUT",body:JSON.stringify(t)}),deleteStaff:e=>qe(`staff/${e}`,{method:"DELETE"}),getPatients:()=>qe("patients").catch(()=>[]),getPatient:e=>qe(`patients/${e}`).catch(()=>null),createPatient:e=>qe("patients",{method:"POST",body:JSON.stringify(e)}),updatePatient:(e,t)=>qe(`patients/${e}`,{method:"PUT",body:JSON.stringify(t)}),getPrescriptions:()=>qe("prescriptions").catch(()=>[]),getPrescription:e=>qe(`prescriptions/${e}`).catch(()=>null),createPrescription:e=>qe("prescriptions",{method:"POST",body:JSON.stringify(e)}),updatePrescription:(e,t)=>qe(`prescriptions/${e}`,{method:"PUT",body:JSON.stringify(t)}),getSettings:()=>qe("settings").catch(()=>[]),getSetting:e=>qe(`settings/${e}`).catch(()=>null),createSetting:e=>qe("settings",{method:"POST",body:JSON.stringify(e)}),updateSetting:(e,t)=>qe(`settings/${e}`,{method:"PUT",body:JSON.stringify({value:t})}),getAuditLogs:()=>qe("audit-logs").catch(()=>[]),getAuditLog:e=>qe(`audit-logs/${e}`).catch(()=>null),getSessions:()=>qe("sessions").catch(()=>[]),revokeSession:e=>qe(`sessions/${e}/revoke`,{method:"POST"}),getSystemHealth:()=>qe("health").catch(()=>({})),factoryReset:()=>qe("system/factory-reset",{method:"POST"}),getRequisitions:()=>qe("requisitions").catch(()=>[]),getRequisition:e=>qe(`requisitions/${e}`).catch(()=>null),createRequisition:e=>qe("requisitions",{method:"POST",body:JSON.stringify(e)}),updateRequisition:(e,t)=>qe(`requisitions/${e}`,{method:"PUT",body:JSON.stringify(t)}),updateRequisitionStatus:(e,t,n)=>qe(`requisitions/${e}/status`,{method:"PUT",body:JSON.stringify({status:t,approvedBy:n})}),getReleaseRequests:()=>qe("releases").catch(()=>[]),approveReleaseRequest:e=>qe(`releases/${e}`,{method:"PUT",body:JSON.stringify({status:"APPROVED"})}),getDisposalRequests:()=>qe("disposals").catch(()=>[]),approveDisposalRequest:e=>qe(`disposals/${e}`,{method:"PUT",body:JSON.stringify({status:"APPROVED"})}),request:(e,t={})=>qe(e.startsWith("/")?e.substring(1):e,t),getShipments:()=>qe("shipments").catch(()=>[]),getShipment:e=>qe(`shipments/${e}`).catch(()=>null),createShipment:e=>qe("shipments",{method:"POST",body:JSON.stringify(e)}),updateShipment:(e,t)=>qe(`shipments/${e}`,{method:"PUT",body:JSON.stringify(t)}),addStock:async e=>qe("inventory/add",{method:"POST",body:JSON.stringify(e)})},JR=({onLogin:e})=>{const[t,n]=M.useState(""),[r,o]=M.useState(""),[l,u]=M.useState(""),[d,f]=M.useState(!1),[p,g]=M.useState(!1),[m,v]=M.useState(null),w=async _=>{if(_.preventDefault(),u(""),f(!0),!t.trim()||!r.trim()){u("Please enter both username and password."),f(!1);return}try{const x=await Promise.race([$e.login(t,r),new Promise((E,A)=>setTimeout(()=>A(new Error("Login request timeout")),15e3))]);if(!x||!x.user)throw new Error("Invalid login response format");const b=x.user;if(v(b),b.status==="INACTIVE"){u("Your account has been disabled. Please contact your administrator."),f(!1);return}g(!0),setTimeout(()=>{e(b,x.token)},1200)}catch(x){console.error("Login error:",x),f(!1);const b=(x==null?void 0:x.message)||"Unknown error occurred";b.includes("401")||b.includes("Unauthorized")?u("Invalid credentials. Please check your username and password."):b.includes("404")||b.includes("not found")?u("User account not found."):b.includes("Network")||b.includes("Failed to fetch")||!navigator.onLine?u("Network connection error. Please check your internet and try again."):b.includes("timeout")?u("Login took too long. Please try again."):b.includes("ECONNREFUSED")?u("Cannot reach server. Please ensure the backend API is running."):u(b)}};return i.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:[i.jsx("div",{className:"absolute -top-1/2 -left-1/4 w-[1000px] h-[1000px] bg-teal-900/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-1/2 -right-1/4 w-[1000px] h-[1000px] bg-blue-900/20 rounded-full blur-3xl"})]}),i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[500px] flex overflow-hidden z-10",children:[i.jsxs("div",{className:"hidden md:flex w-1/2 bg-gradient-to-br from-teal-800 to-slate-900 p-6 flex-col justify-between text-white relative",children:[i.jsxs("div",{className:"relative z-10",children:[i.jsxs("div",{className:"inline-flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"p-3 bg-teal-500/20 rounded-xl backdrop-blur-sm border border-teal-500/30",children:i.jsx(pi,{size:32,className:"text-teal-400"})}),i.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:["PMS",i.jsx("span",{className:"text-teal-400",children:"."})]})]}),i.jsxs("h2",{className:"text-3xl font-bold leading-tight mb-4",children:[i.jsx("span",{className:"text-teal-400",children:"Pharmacy"})," ",i.jsx("br",{}),"Management System."]}),i.jsx("p",{className:"text-slate-300 text-base leading-relaxed mb-4",children:"Secure, scalable, and intelligent system for multi-branch operations."})]}),i.jsxs("div",{className:"relative z-10 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl border border-white/10 backdrop-blur-sm",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-500/20 flex items-center justify-center text-teal-400 font-bold text-sm",children:"KH"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm",children:"Developed by Kachehub"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Kachehubinfo@gmail.com"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-xl border border-white/10 backdrop-blur-sm",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 font-bold text-sm",children:"HO"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm",children:"Centralized Control"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Head Office Dashboard"})]})]})]}),i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%22100%22%20height%3D%22100%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cfilter%20id%3D%22noise%22%3E%3CfeTurbulence%20type%3D%22fractalNoise%22%20baseFrequency%3D%220.9%22%20numOctaves%3D%224%22%20seed%3D%222%22/%3E%3C/filter%3E%3Crect%20width%3D%22100%25%22%20height%3D%22100%25%22%20filter%3D%22url(%23noise)%22/%3E%3C/svg%3E')] opacity-5 mix-blend-soft-light"})]}),i.jsx("div",{className:"w-full md:w-1/2 p-6 flex flex-col justify-center bg-white",children:i.jsxs("div",{className:"max-w-sm mx-auto w-full",children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Welcome Back"}),i.jsx("p",{className:"text-slate-500 mb-6",children:"Sign in to access your pharmacy dashboard."}),i.jsxs("form",{onSubmit:w,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Username"}),i.jsxs("div",{className:"relative group",children:[i.jsx(Sl,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-teal-600 transition-colors",size:20}),i.jsx("input",{type:"text",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition-all font-medium placeholder-slate-400",placeholder:"Enter your username",value:t,onChange:_=>{n(_.target.value),u("")},disabled:d||p,autoComplete:"username",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative group",children:[i.jsx(wl,{className:"absolute left-4 top-3.5 text-slate-400 group-focus-within:text-teal-600 transition-colors",size:20}),i.jsx("input",{type:"password",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition-all font-medium placeholder-slate-400",placeholder:"",value:r,onChange:_=>{o(_.target.value),u("")},disabled:d||p,autoComplete:"current-password",required:!0})]})]}),l&&i.jsxs("div",{className:"p-4 bg-rose-50 border border-rose-100 rounded-xl flex items-center gap-3 text-rose-600 text-sm font-medium animate-in fade-in slide-in-from-top-2 duration-300",children:[i.jsx(Bn,{size:18,className:"shrink-0"}),i.jsx("span",{children:l})]}),i.jsx("button",{type:"submit",disabled:d||p,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2 transition-all transform ${d?"opacity-80 cursor-not-allowed":"active:scale-95"} ${p?"bg-emerald-500 text-white shadow-emerald-500/30":"bg-slate-900 text-white hover:bg-slate-800 shadow-slate-900/20 disabled:opacity-50"}`,children:d?i.jsxs(i.Fragment,{children:[i.jsx(AR,{className:"animate-spin",size:20}),"Signing In..."]}):p?i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"animate-bounce",size:20}),m==null?void 0:m.role.replace(/_/g," ").toLowerCase().replace(/\b\w/g,_=>_.toUpperCase())," Access Granted!"]}):i.jsxs(i.Fragment,{children:["Sign In",i.jsx(iu,{size:20})]})})]})]})})]})]})};function WP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=WP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dt(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=WP(e))&&(r&&(r+=" "),r+=t);return r}var wh,L1;function Vn(){if(L1)return wh;L1=1;var e=Array.isArray;return wh=e,wh}var Sh,$1;function KP(){if($1)return Sh;$1=1;var e=typeof Nc=="object"&&Nc&&Nc.Object===Object&&Nc;return Sh=e,Sh}var Nh,q1;function Wr(){if(q1)return Nh;q1=1;var e=KP(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Nh=n,Nh}var _h,F1;function au(){if(F1)return _h;F1=1;var e=Wr(),t=e.Symbol;return _h=t,_h}var Ah,U1;function YR(){if(U1)return Ah;U1=1;var e=au(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,o=e?e.toStringTag:void 0;function l(u){var d=n.call(u,o),f=u[o];try{u[o]=void 0;var p=!0}catch{}var g=r.call(u);return p&&(d?u[o]=f:delete u[o]),g}return Ah=l,Ah}var Th,B1;function XR(){if(B1)return Th;B1=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Th=n,Th}var Ch,z1;function Ai(){if(z1)return Ch;z1=1;var e=au(),t=YR(),n=XR(),r="[object Null]",o="[object Undefined]",l=e?e.toStringTag:void 0;function u(d){return d==null?d===void 0?o:r:l&&l in Object(d)?t(d):n(d)}return Ch=u,Ch}var Eh,V1;function Ti(){if(V1)return Eh;V1=1;function e(t){return t!=null&&typeof t=="object"}return Eh=e,Eh}var Ph,G1;function ls(){if(G1)return Ph;G1=1;var e=Ai(),t=Ti(),n="[object Symbol]";function r(o){return typeof o=="symbol"||t(o)&&e(o)==n}return Ph=r,Ph}var jh,H1;function K0(){if(H1)return jh;H1=1;var e=Vn(),t=ls(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function o(l,u){if(e(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||t(l)?!0:r.test(l)||!n.test(l)||u!=null&&l in Object(u)}return jh=o,jh}var Ih,W1;function oa(){if(W1)return Ih;W1=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ih=e,Ih}var kh,K1;function J0(){if(K1)return kh;K1=1;var e=Ai(),t=oa(),n="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",l="[object Proxy]";function u(d){if(!t(d))return!1;var f=e(d);return f==r||f==o||f==n||f==l}return kh=u,kh}var Mh,J1;function ZR(){if(J1)return Mh;J1=1;var e=Wr(),t=e["__core-js_shared__"];return Mh=t,Mh}var Rh,Y1;function QR(){if(Y1)return Rh;Y1=1;var e=ZR(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return Rh=n,Rh}var Oh,X1;function JP(){if(X1)return Oh;X1=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return Oh=n,Oh}var Dh,Z1;function eO(){if(Z1)return Dh;Z1=1;var e=J0(),t=QR(),n=oa(),r=JP(),o=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,f=u.toString,p=d.hasOwnProperty,g=RegExp("^"+f.call(p).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||t(v))return!1;var w=e(v)?g:l;return w.test(r(v))}return Dh=m,Dh}var Lh,Q1;function tO(){if(Q1)return Lh;Q1=1;function e(t,n){return t==null?void 0:t[n]}return Lh=e,Lh}var $h,eS;function Ha(){if(eS)return $h;eS=1;var e=eO(),t=tO();function n(r,o){var l=t(r,o);return e(l)?l:void 0}return $h=n,$h}var qh,tS;function Xd(){if(tS)return qh;tS=1;var e=Ha(),t=e(Object,"create");return qh=t,qh}var Fh,nS;function nO(){if(nS)return Fh;nS=1;var e=Xd();function t(){this.__data__=e?e(null):{},this.size=0}return Fh=t,Fh}var Uh,rS;function rO(){if(rS)return Uh;rS=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Uh=e,Uh}var Bh,iS;function iO(){if(iS)return Bh;iS=1;var e=Xd(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function o(l){var u=this.__data__;if(e){var d=u[l];return d===t?void 0:d}return r.call(u,l)?u[l]:void 0}return Bh=o,Bh}var zh,aS;function aO(){if(aS)return zh;aS=1;var e=Xd(),t=Object.prototype,n=t.hasOwnProperty;function r(o){var l=this.__data__;return e?l[o]!==void 0:n.call(l,o)}return zh=r,zh}var Vh,oS;function oO(){if(oS)return Vh;oS=1;var e=Xd(),t="__lodash_hash_undefined__";function n(r,o){var l=this.__data__;return this.size+=this.has(r)?0:1,l[r]=e&&o===void 0?t:o,this}return Vh=n,Vh}var Gh,sS;function sO(){if(sS)return Gh;sS=1;var e=nO(),t=rO(),n=iO(),r=aO(),o=oO();function l(u){var d=-1,f=u==null?0:u.length;for(this.clear();++d<f;){var p=u[d];this.set(p[0],p[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=n,l.prototype.has=r,l.prototype.set=o,Gh=l,Gh}var Hh,lS;function lO(){if(lS)return Hh;lS=1;function e(){this.__data__=[],this.size=0}return Hh=e,Hh}var Wh,uS;function Y0(){if(uS)return Wh;uS=1;function e(t,n){return t===n||t!==t&&n!==n}return Wh=e,Wh}var Kh,cS;function Zd(){if(cS)return Kh;cS=1;var e=Y0();function t(n,r){for(var o=n.length;o--;)if(e(n[o][0],r))return o;return-1}return Kh=t,Kh}var Jh,dS;function uO(){if(dS)return Jh;dS=1;var e=Zd(),t=Array.prototype,n=t.splice;function r(o){var l=this.__data__,u=e(l,o);if(u<0)return!1;var d=l.length-1;return u==d?l.pop():n.call(l,u,1),--this.size,!0}return Jh=r,Jh}var Yh,fS;function cO(){if(fS)return Yh;fS=1;var e=Zd();function t(n){var r=this.__data__,o=e(r,n);return o<0?void 0:r[o][1]}return Yh=t,Yh}var Xh,pS;function dO(){if(pS)return Xh;pS=1;var e=Zd();function t(n){return e(this.__data__,n)>-1}return Xh=t,Xh}var Zh,hS;function fO(){if(hS)return Zh;hS=1;var e=Zd();function t(n,r){var o=this.__data__,l=e(o,n);return l<0?(++this.size,o.push([n,r])):o[l][1]=r,this}return Zh=t,Zh}var Qh,mS;function Qd(){if(mS)return Qh;mS=1;var e=lO(),t=uO(),n=cO(),r=dO(),o=fO();function l(u){var d=-1,f=u==null?0:u.length;for(this.clear();++d<f;){var p=u[d];this.set(p[0],p[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=n,l.prototype.has=r,l.prototype.set=o,Qh=l,Qh}var em,gS;function X0(){if(gS)return em;gS=1;var e=Ha(),t=Wr(),n=e(t,"Map");return em=n,em}var tm,yS;function pO(){if(yS)return tm;yS=1;var e=sO(),t=Qd(),n=X0();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return tm=r,tm}var nm,vS;function hO(){if(vS)return nm;vS=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return nm=e,nm}var rm,xS;function ef(){if(xS)return rm;xS=1;var e=hO();function t(n,r){var o=n.__data__;return e(r)?o[typeof r=="string"?"string":"hash"]:o.map}return rm=t,rm}var im,bS;function mO(){if(bS)return im;bS=1;var e=ef();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return im=t,im}var am,wS;function gO(){if(wS)return am;wS=1;var e=ef();function t(n){return e(this,n).get(n)}return am=t,am}var om,SS;function yO(){if(SS)return om;SS=1;var e=ef();function t(n){return e(this,n).has(n)}return om=t,om}var sm,NS;function vO(){if(NS)return sm;NS=1;var e=ef();function t(n,r){var o=e(this,n),l=o.size;return o.set(n,r),this.size+=o.size==l?0:1,this}return sm=t,sm}var lm,_S;function Z0(){if(_S)return lm;_S=1;var e=pO(),t=mO(),n=gO(),r=yO(),o=vO();function l(u){var d=-1,f=u==null?0:u.length;for(this.clear();++d<f;){var p=u[d];this.set(p[0],p[1])}}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=n,l.prototype.has=r,l.prototype.set=o,lm=l,lm}var um,AS;function YP(){if(AS)return um;AS=1;var e=Z0(),t="Expected a function";function n(r,o){if(typeof r!="function"||o!=null&&typeof o!="function")throw new TypeError(t);var l=function(){var u=arguments,d=o?o.apply(this,u):u[0],f=l.cache;if(f.has(d))return f.get(d);var p=r.apply(this,u);return l.cache=f.set(d,p)||f,p};return l.cache=new(n.Cache||e),l}return n.Cache=e,um=n,um}var cm,TS;function xO(){if(TS)return cm;TS=1;var e=YP(),t=500;function n(r){var o=e(r,function(u){return l.size===t&&l.clear(),u}),l=o.cache;return o}return cm=n,cm}var dm,CS;function bO(){if(CS)return dm;CS=1;var e=xO(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(t,function(u,d,f,p){l.push(f?p.replace(n,"$1"):d||u)}),l});return dm=r,dm}var fm,ES;function Q0(){if(ES)return fm;ES=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,l=Array(o);++r<o;)l[r]=n(t[r],r,t);return l}return fm=e,fm}var pm,PS;function wO(){if(PS)return pm;PS=1;var e=au(),t=Q0(),n=Vn(),r=ls(),o=e?e.prototype:void 0,l=o?o.toString:void 0;function u(d){if(typeof d=="string")return d;if(n(d))return t(d,u)+"";if(r(d))return l?l.call(d):"";var f=d+"";return f=="0"&&1/d==-1/0?"-0":f}return pm=u,pm}var hm,jS;function XP(){if(jS)return hm;jS=1;var e=wO();function t(n){return n==null?"":e(n)}return hm=t,hm}var mm,IS;function ZP(){if(IS)return mm;IS=1;var e=Vn(),t=K0(),n=bO(),r=XP();function o(l,u){return e(l)?l:t(l,u)?[l]:n(r(l))}return mm=o,mm}var gm,kS;function tf(){if(kS)return gm;kS=1;var e=ls();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return gm=t,gm}var ym,MS;function ex(){if(MS)return ym;MS=1;var e=ZP(),t=tf();function n(r,o){o=e(o,r);for(var l=0,u=o.length;r!=null&&l<u;)r=r[t(o[l++])];return l&&l==u?r:void 0}return ym=n,ym}var vm,RS;function QP(){if(RS)return vm;RS=1;var e=ex();function t(n,r,o){var l=n==null?void 0:e(n,r);return l===void 0?o:l}return vm=t,vm}var SO=QP();const nr=_t(SO);var xm,OS;function NO(){if(OS)return xm;OS=1;function e(t){return t==null}return xm=e,xm}var _O=NO();const lt=_t(_O);var bm,DS;function AO(){if(DS)return bm;DS=1;var e=Ai(),t=Vn(),n=Ti(),r="[object String]";function o(l){return typeof l=="string"||!t(l)&&n(l)&&e(l)==r}return bm=o,bm}var TO=AO();const Fa=_t(TO);var CO=J0();const tt=_t(CO);var EO=oa();const us=_t(EO);var wm={exports:{}},St={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function PO(){if(LS)return St;LS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),_;_=Symbol.for("react.module.reference");function x(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case e:switch(b=b.type,b){case n:case o:case r:case p:case g:return b;default:switch(b=b&&b.$$typeof,b){case d:case u:case f:case v:case m:case l:return b;default:return E}}case t:return E}}}return St.ContextConsumer=u,St.ContextProvider=l,St.Element=e,St.ForwardRef=f,St.Fragment=n,St.Lazy=v,St.Memo=m,St.Portal=t,St.Profiler=o,St.StrictMode=r,St.Suspense=p,St.SuspenseList=g,St.isAsyncMode=function(){return!1},St.isConcurrentMode=function(){return!1},St.isContextConsumer=function(b){return x(b)===u},St.isContextProvider=function(b){return x(b)===l},St.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===e},St.isForwardRef=function(b){return x(b)===f},St.isFragment=function(b){return x(b)===n},St.isLazy=function(b){return x(b)===v},St.isMemo=function(b){return x(b)===m},St.isPortal=function(b){return x(b)===t},St.isProfiler=function(b){return x(b)===o},St.isStrictMode=function(b){return x(b)===r},St.isSuspense=function(b){return x(b)===p},St.isSuspenseList=function(b){return x(b)===g},St.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===o||b===r||b===p||b===g||b===w||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===m||b.$$typeof===l||b.$$typeof===u||b.$$typeof===f||b.$$typeof===_||b.getModuleId!==void 0)},St.typeOf=x,St}var $S;function jO(){return $S||($S=1,wm.exports=PO()),wm.exports}var IO=jO(),Sm,qS;function e2(){if(qS)return Sm;qS=1;var e=Ai(),t=Ti(),n="[object Number]";function r(o){return typeof o=="number"||t(o)&&e(o)==n}return Sm=r,Sm}var Nm,FS;function kO(){if(FS)return Nm;FS=1;var e=e2();function t(n){return e(n)&&n!=+n}return Nm=t,Nm}var MO=kO();const cs=_t(MO);var RO=e2();const OO=_t(RO);var Pn=function(t){return t===0?0:t>0?1:-1},Ia=function(t){return Fa(t)&&t.indexOf("%")===t.length-1},Ie=function(t){return OO(t)&&!cs(t)},DO=function(t){return lt(t)},sn=function(t){return Ie(t)||Fa(t)},LO=0,ds=function(t){var n=++LO;return"".concat(t||"").concat(n)},jn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&!Fa(t))return r;var l;if(Ia(t)){var u=t.indexOf("%");l=n*parseFloat(t.slice(0,u))/100}else l=+t;return cs(l)&&(l=r),o&&l>n&&(l=n),l},Zi=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},$O=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},o=0;o<n;o++)if(!r[t[o]])r[t[o]]=!0;else return!0;return!1},Un=function(t,n){return Ie(t)&&Ie(n)?function(r){return t+r*(n-t)}:function(){return n}};function Xc(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):nr(r,t))===n})}var qO=function(t,n){return Ie(t)&&Ie(n)?t-n:Fa(t)&&Fa(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Io(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}var FO=["viewBox","children"],UO=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],US=["points","pathLength"],_m={svg:FO,polygon:US,polyline:US},tx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zc=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(M.isValidElement(t)&&(r=t.props),!us(r))return null;var o={};return Object.keys(r).forEach(function(l){tx.includes(l)&&(o[l]=n||function(u){return r[l](r,u)})}),o},BO=function(t,n,r){return function(o){return t(n,r,o),null}},Ua=function(t,n,r){if(!us(t)||Cv(t)!=="object")return null;var o=null;return Object.keys(t).forEach(function(l){var u=t[l];tx.includes(l)&&typeof u=="function"&&(o||(o={}),o[l]=BO(u,n,r))}),o},zO=["children"],VO=["children"];function BS(e,t){if(e==null)return{};var n=GO(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GO(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}var zS={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},VS=null,Am=null,nx=function e(t){if(t===VS&&Array.isArray(Am))return Am;var n=[];return M.Children.forEach(t,function(r){lt(r)||(IO.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Am=n,VS=t,n};function gr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(o){return xi(o)}):r=[xi(t)],nx(e).forEach(function(o){var l=nr(o,"type.displayName")||nr(o,"type.name");r.indexOf(l)!==-1&&n.push(o)}),n}function Qn(e,t){var n=gr(e,t);return n&&n[0]}var GS=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,o=n.height;return!(!Ie(r)||r<=0||!Ie(o)||o<=0)},HO=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],WO=function(t){return t&&t.type&&Fa(t.type)&&HO.indexOf(t.type)>=0},KO=function(t){return t&&Ev(t)==="object"&&"clipDot"in t},JO=function(t,n,r,o){var l,u=(l=_m==null?void 0:_m[o])!==null&&l!==void 0?l:[];return n.startsWith("data-")||!tt(t)&&(o&&u.includes(n)||UO.includes(n))||r&&tx.includes(n)},Xe=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var o=t;if(M.isValidElement(t)&&(o=t.props),!us(o))return null;var l={};return Object.keys(o).forEach(function(u){var d;JO((d=o)===null||d===void 0?void 0:d[u],u,n,r)&&(l[u]=o[u])}),l},Pv=function e(t,n){if(t===n)return!0;var r=M.Children.count(t);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return HS(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var o=0;o<r;o++){var l=t[o],u=n[o];if(Array.isArray(l)||Array.isArray(u)){if(!e(l,u))return!1}else if(!HS(l,u))return!1}return!0},HS=function(t,n){if(lt(t)&&lt(n))return!0;if(!lt(t)&&!lt(n)){var r=t.props||{},o=r.children,l=BS(r,zO),u=n.props||{},d=u.children,f=BS(u,VO);return o&&d?Io(l,f)&&Pv(o,d):!o&&!d?Io(l,f):!1}return!1},WS=function(t,n){var r=[],o={};return nx(t).forEach(function(l,u){if(WO(l))r.push(l);else if(l){var d=xi(l.type),f=n[d]||{},p=f.handler,g=f.once;if(p&&(!g||!o[d])){var m=p(l,d,u);r.push(m),o[d]=!0}}}),r},YO=function(t){var n=t&&t.type;return n&&zS[n]?zS[n]:null},XO=function(t,n){return nx(n).indexOf(t)},ZO=["children","width","height","viewBox","className","style","title","desc"];function jv(){return jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jv.apply(this,arguments)}function QO(e,t){if(e==null)return{};var n=eD(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eD(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Iv(e){var t=e.children,n=e.width,r=e.height,o=e.viewBox,l=e.className,u=e.style,d=e.title,f=e.desc,p=QO(e,ZO),g=o||{width:n,height:r,x:0,y:0},m=dt("recharts-surface",l);return z.createElement("svg",jv({},Xe(p,!0,"svg"),{className:m,width:n,height:r,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),z.createElement("title",null,d),z.createElement("desc",null,f),t)}var tD=["children","className"];function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kv.apply(this,arguments)}function nD(e,t){if(e==null)return{};var n=rD(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rD(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var gt=z.forwardRef(function(e,t){var n=e.children,r=e.className,o=nD(e,tD),l=dt("recharts-layer",r);return z.createElement("g",kv({className:l},Xe(o,!0),{ref:t}),n)}),Ir=function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),l=2;l<r;l++)o[l-2]=arguments[l]},Tm,KS;function iD(){if(KS)return Tm;KS=1;function e(t,n,r){var o=-1,l=t.length;n<0&&(n=-n>l?0:l+n),r=r>l?l:r,r<0&&(r+=l),l=n>r?0:r-n>>>0,n>>>=0;for(var u=Array(l);++o<l;)u[o]=t[o+n];return u}return Tm=e,Tm}var Cm,JS;function aD(){if(JS)return Cm;JS=1;var e=iD();function t(n,r,o){var l=n.length;return o=o===void 0?l:o,!r&&o>=l?n:e(n,r,o)}return Cm=t,Cm}var Em,YS;function t2(){if(YS)return Em;YS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,l="\\ufe0e\\ufe0f",u="\\u200d",d=RegExp("["+u+e+o+l+"]");function f(p){return d.test(p)}return Em=f,Em}var Pm,XS;function oD(){if(XS)return Pm;XS=1;function e(t){return t.split("")}return Pm=e,Pm}var jm,ZS;function sD(){if(ZS)return jm;ZS=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",o=t+n+r,l="\\ufe0e\\ufe0f",u="["+e+"]",d="["+o+"]",f="\\ud83c[\\udffb-\\udfff]",p="(?:"+d+"|"+f+")",g="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",_=p+"?",x="["+l+"]?",b="(?:"+w+"(?:"+[g,m,v].join("|")+")"+x+_+")*",E=x+_+b,A="(?:"+[g+d+"?",d,m,v,u].join("|")+")",T=RegExp(f+"(?="+f+")|"+A+E,"g");function P(N){return N.match(T)||[]}return jm=P,jm}var Im,QS;function lD(){if(QS)return Im;QS=1;var e=oD(),t=t2(),n=sD();function r(o){return t(o)?n(o):e(o)}return Im=r,Im}var km,eN;function uD(){if(eN)return km;eN=1;var e=aD(),t=t2(),n=lD(),r=XP();function o(l){return function(u){u=r(u);var d=t(u)?n(u):void 0,f=d?d[0]:u.charAt(0),p=d?e(d,1).join(""):u.slice(1);return f[l]()+p}}return km=o,km}var Mm,tN;function cD(){if(tN)return Mm;tN=1;var e=uD(),t=e("toUpperCase");return Mm=t,Mm}var dD=cD();const nf=_t(dD);function It(e){return function(){return e}}const n2=Math.cos,Qc=Math.sin,kr=Math.sqrt,ed=Math.PI,rf=2*ed,Mv=Math.PI,Rv=2*Mv,Ea=1e-6,fD=Rv-Ea;function r2(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return r2;const n=10**t;return function(r){this._+=r[0];for(let o=1,l=r.length;o<l;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class hD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?r2:pD(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,l,u){this._append`C${+t},${+n},${+r},${+o},${this._x1=+l},${this._y1=+u}`}arcTo(t,n,r,o,l){if(t=+t,n=+n,r=+r,o=+o,l=+l,l<0)throw new Error(`negative radius: ${l}`);let u=this._x1,d=this._y1,f=r-t,p=o-n,g=u-t,m=d-n,v=g*g+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Ea)if(!(Math.abs(m*f-p*g)>Ea)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let w=r-u,_=o-d,x=f*f+p*p,b=w*w+_*_,E=Math.sqrt(x),A=Math.sqrt(v),T=l*Math.tan((Mv-Math.acos((x+v-b)/(2*E*A)))/2),P=T/A,N=T/E;Math.abs(P-1)>Ea&&this._append`L${t+P*g},${n+P*m}`,this._append`A${l},${l},0,0,${+(m*w>g*_)},${this._x1=t+N*f},${this._y1=n+N*p}`}}arc(t,n,r,o,l,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(o),f=r*Math.sin(o),p=t+d,g=n+f,m=1^u,v=u?o-l:l-o;this._x1===null?this._append`M${p},${g}`:(Math.abs(this._x1-p)>Ea||Math.abs(this._y1-g)>Ea)&&this._append`L${p},${g}`,r&&(v<0&&(v=v%Rv+Rv),v>fD?this._append`A${r},${r},0,1,${m},${t-d},${n-f}A${r},${r},0,1,${m},${this._x1=p},${this._y1=g}`:v>Ea&&this._append`A${r},${r},0,${+(v>=Mv)},${m},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function rx(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new hD(t)}function ix(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function i2(e){this._context=e}i2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function af(e){return new i2(e)}function a2(e){return e[0]}function o2(e){return e[1]}function s2(e,t){var n=It(!0),r=null,o=af,l=null,u=rx(d);e=typeof e=="function"?e:e===void 0?a2:It(e),t=typeof t=="function"?t:t===void 0?o2:It(t);function d(f){var p,g=(f=ix(f)).length,m,v=!1,w;for(r==null&&(l=o(w=u())),p=0;p<=g;++p)!(p<g&&n(m=f[p],p,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(m,p,f),+t(m,p,f));if(w)return l=null,w+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:It(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:It(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:It(!!f),d):n},d.curve=function(f){return arguments.length?(o=f,r!=null&&(l=o(r)),d):o},d.context=function(f){return arguments.length?(f==null?r=l=null:l=o(r=f),d):r},d}function Cc(e,t,n){var r=null,o=It(!0),l=null,u=af,d=null,f=rx(p);e=typeof e=="function"?e:e===void 0?a2:It(+e),t=typeof t=="function"?t:It(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?o2:It(+n);function p(m){var v,w,_,x=(m=ix(m)).length,b,E=!1,A,T=new Array(x),P=new Array(x);for(l==null&&(d=u(A=f())),v=0;v<=x;++v){if(!(v<x&&o(b=m[v],v,m))===E)if(E=!E)w=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),_=v-1;_>=w;--_)d.point(T[_],P[_]);d.lineEnd(),d.areaEnd()}E&&(T[v]=+e(b,v,m),P[v]=+t(b,v,m),d.point(r?+r(b,v,m):T[v],n?+n(b,v,m):P[v]))}if(A)return d=null,A+""||null}function g(){return s2().defined(o).curve(u).context(l)}return p.x=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),r=null,p):e},p.x0=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),p):e},p.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:It(+m),p):r},p.y=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),n=null,p):t},p.y0=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),p):t},p.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:It(+m),p):n},p.lineX0=p.lineY0=function(){return g().x(e).y(t)},p.lineY1=function(){return g().x(e).y(n)},p.lineX1=function(){return g().x(r).y(t)},p.defined=function(m){return arguments.length?(o=typeof m=="function"?m:It(!!m),p):o},p.curve=function(m){return arguments.length?(u=m,l!=null&&(d=u(l)),p):u},p.context=function(m){return arguments.length?(m==null?l=d=null:d=u(l=m),p):l},p}class l2{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function mD(e){return new l2(e,!0)}function gD(e){return new l2(e,!1)}const ax={draw(e,t){const n=kr(t/ed);e.moveTo(n,0),e.arc(0,0,n,0,rf)}},yD={draw(e,t){const n=kr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},u2=kr(1/3),vD=u2*2,xD={draw(e,t){const n=kr(t/vD),r=n*u2;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},bD={draw(e,t){const n=kr(t),r=-n/2;e.rect(r,r,n,n)}},wD=.8908130915292852,c2=Qc(ed/10)/Qc(7*ed/10),SD=Qc(rf/10)*c2,ND=-n2(rf/10)*c2,_D={draw(e,t){const n=kr(t*wD),r=SD*n,o=ND*n;e.moveTo(0,-n),e.lineTo(r,o);for(let l=1;l<5;++l){const u=rf*l/5,d=n2(u),f=Qc(u);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*o,f*r+d*o)}e.closePath()}},Rm=kr(3),AD={draw(e,t){const n=-kr(t/(Rm*3));e.moveTo(0,n*2),e.lineTo(-Rm*n,-n),e.lineTo(Rm*n,-n),e.closePath()}},cr=-.5,dr=kr(3)/2,Ov=1/kr(12),TD=(Ov/2+1)*3,CD={draw(e,t){const n=kr(t/TD),r=n/2,o=n*Ov,l=r,u=n*Ov+n,d=-l,f=u;e.moveTo(r,o),e.lineTo(l,u),e.lineTo(d,f),e.lineTo(cr*r-dr*o,dr*r+cr*o),e.lineTo(cr*l-dr*u,dr*l+cr*u),e.lineTo(cr*d-dr*f,dr*d+cr*f),e.lineTo(cr*r+dr*o,cr*o-dr*r),e.lineTo(cr*l+dr*u,cr*u-dr*l),e.lineTo(cr*d+dr*f,cr*f-dr*d),e.closePath()}};function ED(e,t){let n=null,r=rx(o);e=typeof e=="function"?e:It(e||ax),t=typeof t=="function"?t:It(t===void 0?64:+t);function o(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return o.type=function(l){return arguments.length?(e=typeof l=="function"?l:It(l),o):e},o.size=function(l){return arguments.length?(t=typeof l=="function"?l:It(+l),o):t},o.context=function(l){return arguments.length?(n=l??null,o):n},o}function td(){}function nd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function d2(e){this._context=e}d2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PD(e){return new d2(e)}function f2(e){this._context=e}f2.prototype={areaStart:td,areaEnd:td,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jD(e){return new f2(e)}function p2(e){this._context=e}p2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:nd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ID(e){return new p2(e)}function h2(e){this._context=e}h2.prototype={areaStart:td,areaEnd:td,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function kD(e){return new h2(e)}function nN(e){return e<0?-1:1}function rN(e,t,n){var r=e._x1-e._x0,o=t-e._x1,l=(e._y1-e._y0)/(r||o<0&&-0),u=(n-e._y1)/(o||r<0&&-0),d=(l*o+u*r)/(r+o);return(nN(l)+nN(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(d))||0}function iN(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Om(e,t,n){var r=e._x0,o=e._y0,l=e._x1,u=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,o+d*t,l-d,u-d*n,l,u)}function rd(e){this._context=e}rd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Om(this,this._t0,iN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Om(this,iN(this,n=rN(this,e,t)),n);break;default:Om(this,this._t0,n=rN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function m2(e){this._context=new g2(e)}(m2.prototype=Object.create(rd.prototype)).point=function(e,t){rd.prototype.point.call(this,t,e)};function g2(e){this._context=e}g2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,l){this._context.bezierCurveTo(t,e,r,n,l,o)}};function MD(e){return new rd(e)}function RD(e){return new m2(e)}function y2(e){this._context=e}y2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=aN(e),o=aN(t),l=0,u=1;u<n;++l,++u)this._context.bezierCurveTo(r[0][l],o[0][l],r[1][l],o[1][l],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aN(e){var t,n=e.length-1,r,o=new Array(n),l=new Array(n),u=new Array(n);for(o[0]=0,l[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)o[t]=1,l[t]=4,u[t]=4*e[t]+2*e[t+1];for(o[n-1]=2,l[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=o[t]/l[t-1],l[t]-=r,u[t]-=r*u[t-1];for(o[n-1]=u[n-1]/l[n-1],t=n-2;t>=0;--t)o[t]=(u[t]-o[t+1])/l[t];for(l[n-1]=(e[n]+o[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-o[t+1];return[o,l]}function OD(e){return new y2(e)}function of(e,t){this._context=e,this._t=t}of.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function DD(e){return new of(e,.5)}function LD(e){return new of(e,0)}function $D(e){return new of(e,1)}function Do(e,t){if((u=e.length)>1)for(var n=1,r,o,l=e[t[0]],u,d=l.length;n<u;++n)for(o=l,l=e[t[n]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function Dv(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function qD(e,t){return e[t]}function FD(e){const t=[];return t.key=e,t}function UD(){var e=It([]),t=Dv,n=Do,r=qD;function o(l){var u=Array.from(e.apply(this,arguments),FD),d,f=u.length,p=-1,g;for(const m of l)for(d=0,++p;d<f;++d)(u[d][p]=[0,+r(m,u[d].key,p,l)]).data=m;for(d=0,g=ix(t(u));d<f;++d)u[g[d]].index=d;return n(u,g),u}return o.keys=function(l){return arguments.length?(e=typeof l=="function"?l:It(Array.from(l)),o):e},o.value=function(l){return arguments.length?(r=typeof l=="function"?l:It(+l),o):r},o.order=function(l){return arguments.length?(t=l==null?Dv:typeof l=="function"?l:It(Array.from(l)),o):t},o.offset=function(l){return arguments.length?(n=l??Do,o):n},o}function BD(e,t){if((r=e.length)>0){for(var n,r,o=0,l=e[0].length,u;o<l;++o){for(u=n=0;n<r;++n)u+=e[n][o][1]||0;if(u)for(n=0;n<r;++n)e[n][o][1]/=u}Do(e,t)}}function zD(e,t){if((o=e.length)>0){for(var n=0,r=e[t[0]],o,l=r.length;n<l;++n){for(var u=0,d=0;u<o;++u)d+=e[u][n][1]||0;r[n][1]+=r[n][0]=-d/2}Do(e,t)}}function VD(e,t){if(!(!((u=e.length)>0)||!((l=(o=e[t[0]]).length)>0))){for(var n=0,r=1,o,l,u;r<l;++r){for(var d=0,f=0,p=0;d<u;++d){for(var g=e[t[d]],m=g[r][1]||0,v=g[r-1][1]||0,w=(m-v)/2,_=0;_<d;++_){var x=e[t[_]],b=x[r][1]||0,E=x[r-1][1]||0;w+=b-E}f+=m,p+=w*m}o[r-1][1]+=o[r-1][0]=n,f&&(n-=p/f)}o[r-1][1]+=o[r-1][0]=n,Do(e,t)}}function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}var GD=["type","size","sizeType"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lv.apply(this,arguments)}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){HD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HD(e,t,n){return t=WD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WD(e){var t=KD(e,"string");return Nl(t)=="symbol"?t:t+""}function KD(e,t){if(Nl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JD(e,t){if(e==null)return{};var n=YD(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YD(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var v2={symbolCircle:ax,symbolCross:yD,symbolDiamond:xD,symbolSquare:bD,symbolStar:_D,symbolTriangle:AD,symbolWye:CD},XD=Math.PI/180,ZD=function(t){var n="symbol".concat(nf(t));return v2[n]||ax},QD=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var o=18*XD;return 1.25*t*t*(Math.tan(o)-Math.tan(o*2)*Math.pow(Math.tan(o),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},e4=function(t,n){v2["symbol".concat(nf(t))]=n},ox=function(t){var n=t.type,r=n===void 0?"circle":n,o=t.size,l=o===void 0?64:o,u=t.sizeType,d=u===void 0?"area":u,f=JD(t,GD),p=sN(sN({},f),{},{type:r,size:l,sizeType:d}),g=function(){var b=ZD(r),E=ED().type(b).size(QD(l,d,r));return E()},m=p.className,v=p.cx,w=p.cy,_=Xe(p,!0);return v===+v&&w===+w&&l===+l?z.createElement("path",Lv({},_,{className:dt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(w,")"),d:g()})):null};ox.registerSymbol=e4;function Lo(e){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$v.apply(this,arguments)}function lN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function t4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(n),!0).forEach(function(r){_l(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b2(r.key),r)}}function i4(e,t,n){return t&&r4(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a4(e,t,n){return t=id(t),o4(e,x2()?Reflect.construct(t,n||[],id(e).constructor):t.apply(e,n))}function o4(e,t){if(t&&(Lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s4(e)}function s4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!e})()}function id(e){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},id(e)}function l4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qv(e,t)}function qv(e,t){return qv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},qv(e,t)}function _l(e,t,n){return t=b2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b2(e){var t=u4(e,"string");return Lo(t)=="symbol"?t:t+""}function u4(e,t){if(Lo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fr=32,sx=(function(e){function t(){return n4(this,t),a4(this,t,arguments)}return l4(t,e),i4(t,[{key:"renderIcon",value:function(r){var o=this.props.inactiveColor,l=fr/2,u=fr/6,d=fr/3,f=r.inactive?o:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:l,x2:fr,y2:l,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(l,"h").concat(d,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(2*d,",").concat(l,`
            H`).concat(fr,"M").concat(2*d,",").concat(l,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(d,",").concat(l),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(fr/8,"h").concat(fr,"v").concat(fr*3/4,"h").concat(-fr,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var p=t4({},r);return delete p.legendIcon,z.cloneElement(r.legendIcon,p)}return z.createElement(ox,{fill:f,cx:l,cy:l,size:fr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,o=this.props,l=o.payload,u=o.iconSize,d=o.layout,f=o.formatter,p=o.inactiveColor,g={x:0,y:0,width:fr,height:fr},m={display:d==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return l.map(function(w,_){var x=w.formatter||f,b=dt(_l(_l({"recharts-legend-item":!0},"legend-item-".concat(_),!0),"inactive",w.inactive));if(w.type==="none")return null;var E=tt(w.value)?null:w.value;Ir(!tt(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=w.inactive?p:w.color;return z.createElement("li",$v({className:b,style:m,key:"legend-item-".concat(_)},Ua(r.props,w,_)),z.createElement(Iv,{width:u,height:u,viewBox:g,style:v},r.renderIcon(w)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},x?x(E,w,_):E))})}},{key:"render",value:function(){var r=this.props,o=r.payload,l=r.layout,u=r.align;if(!o||!o.length)return null;var d={padding:0,margin:0,textAlign:l==="horizontal"?u:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:d},this.renderItems())}}])})(M.PureComponent);_l(sx,"displayName","Legend");_l(sx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Dm,uN;function c4(){if(uN)return Dm;uN=1;var e=Qd();function t(){this.__data__=new e,this.size=0}return Dm=t,Dm}var Lm,cN;function d4(){if(cN)return Lm;cN=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Lm=e,Lm}var $m,dN;function f4(){if(dN)return $m;dN=1;function e(t){return this.__data__.get(t)}return $m=e,$m}var qm,fN;function p4(){if(fN)return qm;fN=1;function e(t){return this.__data__.has(t)}return qm=e,qm}var Fm,pN;function h4(){if(pN)return Fm;pN=1;var e=Qd(),t=X0(),n=Z0(),r=200;function o(l,u){var d=this.__data__;if(d instanceof e){var f=d.__data__;if(!t||f.length<r-1)return f.push([l,u]),this.size=++d.size,this;d=this.__data__=new n(f)}return d.set(l,u),this.size=d.size,this}return Fm=o,Fm}var Um,hN;function w2(){if(hN)return Um;hN=1;var e=Qd(),t=c4(),n=d4(),r=f4(),o=p4(),l=h4();function u(d){var f=this.__data__=new e(d);this.size=f.size}return u.prototype.clear=t,u.prototype.delete=n,u.prototype.get=r,u.prototype.has=o,u.prototype.set=l,Um=u,Um}var Bm,mN;function m4(){if(mN)return Bm;mN=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Bm=t,Bm}var zm,gN;function g4(){if(gN)return zm;gN=1;function e(t){return this.__data__.has(t)}return zm=e,zm}var Vm,yN;function S2(){if(yN)return Vm;yN=1;var e=Z0(),t=m4(),n=g4();function r(o){var l=-1,u=o==null?0:o.length;for(this.__data__=new e;++l<u;)this.add(o[l])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Vm=r,Vm}var Gm,vN;function N2(){if(vN)return Gm;vN=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(n(t[r],r,t))return!0;return!1}return Gm=e,Gm}var Hm,xN;function _2(){if(xN)return Hm;xN=1;function e(t,n){return t.has(n)}return Hm=e,Hm}var Wm,bN;function A2(){if(bN)return Wm;bN=1;var e=S2(),t=N2(),n=_2(),r=1,o=2;function l(u,d,f,p,g,m){var v=f&r,w=u.length,_=d.length;if(w!=_&&!(v&&_>w))return!1;var x=m.get(u),b=m.get(d);if(x&&b)return x==d&&b==u;var E=-1,A=!0,T=f&o?new e:void 0;for(m.set(u,d),m.set(d,u);++E<w;){var P=u[E],N=d[E];if(p)var C=v?p(N,P,E,d,u,m):p(P,N,E,u,d,m);if(C!==void 0){if(C)continue;A=!1;break}if(T){if(!t(d,function(I,R){if(!n(T,R)&&(P===I||g(P,I,f,p,m)))return T.push(R)})){A=!1;break}}else if(!(P===N||g(P,N,f,p,m))){A=!1;break}}return m.delete(u),m.delete(d),A}return Wm=l,Wm}var Km,wN;function y4(){if(wN)return Km;wN=1;var e=Wr(),t=e.Uint8Array;return Km=t,Km}var Jm,SN;function v4(){if(SN)return Jm;SN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o,l){r[++n]=[l,o]}),r}return Jm=e,Jm}var Ym,NN;function lx(){if(NN)return Ym;NN=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(o){r[++n]=o}),r}return Ym=e,Ym}var Xm,_N;function x4(){if(_N)return Xm;_N=1;var e=au(),t=y4(),n=Y0(),r=A2(),o=v4(),l=lx(),u=1,d=2,f="[object Boolean]",p="[object Date]",g="[object Error]",m="[object Map]",v="[object Number]",w="[object RegExp]",_="[object Set]",x="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",A="[object DataView]",T=e?e.prototype:void 0,P=T?T.valueOf:void 0;function N(C,I,R,L,W,q,D){switch(R){case A:if(C.byteLength!=I.byteLength||C.byteOffset!=I.byteOffset)return!1;C=C.buffer,I=I.buffer;case E:return!(C.byteLength!=I.byteLength||!q(new t(C),new t(I)));case f:case p:case v:return n(+C,+I);case g:return C.name==I.name&&C.message==I.message;case w:case x:return C==I+"";case m:var B=o;case _:var ee=L&u;if(B||(B=l),C.size!=I.size&&!ee)return!1;var Q=D.get(C);if(Q)return Q==I;L|=d,D.set(C,I);var ae=r(B(C),B(I),L,W,q,D);return D.delete(C),ae;case b:if(P)return P.call(C)==P.call(I)}return!1}return Xm=N,Xm}var Zm,AN;function T2(){if(AN)return Zm;AN=1;function e(t,n){for(var r=-1,o=n.length,l=t.length;++r<o;)t[l+r]=n[r];return t}return Zm=e,Zm}var Qm,TN;function b4(){if(TN)return Qm;TN=1;var e=T2(),t=Vn();function n(r,o,l){var u=o(r);return t(r)?u:e(u,l(r))}return Qm=n,Qm}var eg,CN;function w4(){if(CN)return eg;CN=1;function e(t,n){for(var r=-1,o=t==null?0:t.length,l=0,u=[];++r<o;){var d=t[r];n(d,r,t)&&(u[l++]=d)}return u}return eg=e,eg}var tg,EN;function S4(){if(EN)return tg;EN=1;function e(){return[]}return tg=e,tg}var ng,PN;function N4(){if(PN)return ng;PN=1;var e=w4(),t=S4(),n=Object.prototype,r=n.propertyIsEnumerable,o=Object.getOwnPropertySymbols,l=o?function(u){return u==null?[]:(u=Object(u),e(o(u),function(d){return r.call(u,d)}))}:t;return ng=l,ng}var rg,jN;function _4(){if(jN)return rg;jN=1;function e(t,n){for(var r=-1,o=Array(t);++r<t;)o[r]=n(r);return o}return rg=e,rg}var ig,IN;function A4(){if(IN)return ig;IN=1;var e=Ai(),t=Ti(),n="[object Arguments]";function r(o){return t(o)&&e(o)==n}return ig=r,ig}var ag,kN;function ux(){if(kN)return ag;kN=1;var e=A4(),t=Ti(),n=Object.prototype,r=n.hasOwnProperty,o=n.propertyIsEnumerable,l=e((function(){return arguments})())?e:function(u){return t(u)&&r.call(u,"callee")&&!o.call(u,"callee")};return ag=l,ag}var cl={exports:{}},og,MN;function T4(){if(MN)return og;MN=1;function e(){return!1}return og=e,og}cl.exports;var RN;function C2(){return RN||(RN=1,(function(e,t){var n=Wr(),r=T4(),o=t&&!t.nodeType&&t,l=o&&!0&&e&&!e.nodeType&&e,u=l&&l.exports===o,d=u?n.Buffer:void 0,f=d?d.isBuffer:void 0,p=f||r;e.exports=p})(cl,cl.exports)),cl.exports}var sg,ON;function cx(){if(ON)return sg;ON=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,o){var l=typeof r;return o=o??e,!!o&&(l=="number"||l!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<o}return sg=n,sg}var lg,DN;function dx(){if(DN)return lg;DN=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return lg=t,lg}var ug,LN;function C4(){if(LN)return ug;LN=1;var e=Ai(),t=dx(),n=Ti(),r="[object Arguments]",o="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Function]",p="[object Map]",g="[object Number]",m="[object Object]",v="[object RegExp]",w="[object Set]",_="[object String]",x="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",A="[object Float32Array]",T="[object Float64Array]",P="[object Int8Array]",N="[object Int16Array]",C="[object Int32Array]",I="[object Uint8Array]",R="[object Uint8ClampedArray]",L="[object Uint16Array]",W="[object Uint32Array]",q={};q[A]=q[T]=q[P]=q[N]=q[C]=q[I]=q[R]=q[L]=q[W]=!0,q[r]=q[o]=q[b]=q[l]=q[E]=q[u]=q[d]=q[f]=q[p]=q[g]=q[m]=q[v]=q[w]=q[_]=q[x]=!1;function D(B){return n(B)&&t(B.length)&&!!q[e(B)]}return ug=D,ug}var cg,$N;function E2(){if($N)return cg;$N=1;function e(t){return function(n){return t(n)}}return cg=e,cg}var dl={exports:{}};dl.exports;var qN;function E4(){return qN||(qN=1,(function(e,t){var n=KP(),r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,l=o&&o.exports===r,u=l&&n.process,d=(function(){try{var f=o&&o.require&&o.require("util").types;return f||u&&u.binding&&u.binding("util")}catch{}})();e.exports=d})(dl,dl.exports)),dl.exports}var dg,FN;function P2(){if(FN)return dg;FN=1;var e=C4(),t=E2(),n=E4(),r=n&&n.isTypedArray,o=r?t(r):e;return dg=o,dg}var fg,UN;function P4(){if(UN)return fg;UN=1;var e=_4(),t=ux(),n=Vn(),r=C2(),o=cx(),l=P2(),u=Object.prototype,d=u.hasOwnProperty;function f(p,g){var m=n(p),v=!m&&t(p),w=!m&&!v&&r(p),_=!m&&!v&&!w&&l(p),x=m||v||w||_,b=x?e(p.length,String):[],E=b.length;for(var A in p)(g||d.call(p,A))&&!(x&&(A=="length"||w&&(A=="offset"||A=="parent")||_&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||o(A,E)))&&b.push(A);return b}return fg=f,fg}var pg,BN;function j4(){if(BN)return pg;BN=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,o=typeof r=="function"&&r.prototype||e;return n===o}return pg=t,pg}var hg,zN;function j2(){if(zN)return hg;zN=1;function e(t,n){return function(r){return t(n(r))}}return hg=e,hg}var mg,VN;function I4(){if(VN)return mg;VN=1;var e=j2(),t=e(Object.keys,Object);return mg=t,mg}var gg,GN;function k4(){if(GN)return gg;GN=1;var e=j4(),t=I4(),n=Object.prototype,r=n.hasOwnProperty;function o(l){if(!e(l))return t(l);var u=[];for(var d in Object(l))r.call(l,d)&&d!="constructor"&&u.push(d);return u}return gg=o,gg}var yg,HN;function ou(){if(HN)return yg;HN=1;var e=J0(),t=dx();function n(r){return r!=null&&t(r.length)&&!e(r)}return yg=n,yg}var vg,WN;function sf(){if(WN)return vg;WN=1;var e=P4(),t=k4(),n=ou();function r(o){return n(o)?e(o):t(o)}return vg=r,vg}var xg,KN;function M4(){if(KN)return xg;KN=1;var e=b4(),t=N4(),n=sf();function r(o){return e(o,n,t)}return xg=r,xg}var bg,JN;function R4(){if(JN)return bg;JN=1;var e=M4(),t=1,n=Object.prototype,r=n.hasOwnProperty;function o(l,u,d,f,p,g){var m=d&t,v=e(l),w=v.length,_=e(u),x=_.length;if(w!=x&&!m)return!1;for(var b=w;b--;){var E=v[b];if(!(m?E in u:r.call(u,E)))return!1}var A=g.get(l),T=g.get(u);if(A&&T)return A==u&&T==l;var P=!0;g.set(l,u),g.set(u,l);for(var N=m;++b<w;){E=v[b];var C=l[E],I=u[E];if(f)var R=m?f(I,C,E,u,l,g):f(C,I,E,l,u,g);if(!(R===void 0?C===I||p(C,I,d,f,g):R)){P=!1;break}N||(N=E=="constructor")}if(P&&!N){var L=l.constructor,W=u.constructor;L!=W&&"constructor"in l&&"constructor"in u&&!(typeof L=="function"&&L instanceof L&&typeof W=="function"&&W instanceof W)&&(P=!1)}return g.delete(l),g.delete(u),P}return bg=o,bg}var wg,YN;function O4(){if(YN)return wg;YN=1;var e=Ha(),t=Wr(),n=e(t,"DataView");return wg=n,wg}var Sg,XN;function D4(){if(XN)return Sg;XN=1;var e=Ha(),t=Wr(),n=e(t,"Promise");return Sg=n,Sg}var Ng,ZN;function I2(){if(ZN)return Ng;ZN=1;var e=Ha(),t=Wr(),n=e(t,"Set");return Ng=n,Ng}var _g,QN;function L4(){if(QN)return _g;QN=1;var e=Ha(),t=Wr(),n=e(t,"WeakMap");return _g=n,_g}var Ag,e_;function $4(){if(e_)return Ag;e_=1;var e=O4(),t=X0(),n=D4(),r=I2(),o=L4(),l=Ai(),u=JP(),d="[object Map]",f="[object Object]",p="[object Promise]",g="[object Set]",m="[object WeakMap]",v="[object DataView]",w=u(e),_=u(t),x=u(n),b=u(r),E=u(o),A=l;return(e&&A(new e(new ArrayBuffer(1)))!=v||t&&A(new t)!=d||n&&A(n.resolve())!=p||r&&A(new r)!=g||o&&A(new o)!=m)&&(A=function(T){var P=l(T),N=P==f?T.constructor:void 0,C=N?u(N):"";if(C)switch(C){case w:return v;case _:return d;case x:return p;case b:return g;case E:return m}return P}),Ag=A,Ag}var Tg,t_;function q4(){if(t_)return Tg;t_=1;var e=w2(),t=A2(),n=x4(),r=R4(),o=$4(),l=Vn(),u=C2(),d=P2(),f=1,p="[object Arguments]",g="[object Array]",m="[object Object]",v=Object.prototype,w=v.hasOwnProperty;function _(x,b,E,A,T,P){var N=l(x),C=l(b),I=N?g:o(x),R=C?g:o(b);I=I==p?m:I,R=R==p?m:R;var L=I==m,W=R==m,q=I==R;if(q&&u(x)){if(!u(b))return!1;N=!0,L=!1}if(q&&!L)return P||(P=new e),N||d(x)?t(x,b,E,A,T,P):n(x,b,I,E,A,T,P);if(!(E&f)){var D=L&&w.call(x,"__wrapped__"),B=W&&w.call(b,"__wrapped__");if(D||B){var ee=D?x.value():x,Q=B?b.value():b;return P||(P=new e),T(ee,Q,E,A,P)}}return q?(P||(P=new e),r(x,b,E,A,T,P)):!1}return Tg=_,Tg}var Cg,n_;function fx(){if(n_)return Cg;n_=1;var e=q4(),t=Ti();function n(r,o,l,u,d){return r===o?!0:r==null||o==null||!t(r)&&!t(o)?r!==r&&o!==o:e(r,o,l,u,n,d)}return Cg=n,Cg}var Eg,r_;function F4(){if(r_)return Eg;r_=1;var e=w2(),t=fx(),n=1,r=2;function o(l,u,d,f){var p=d.length,g=p,m=!f;if(l==null)return!g;for(l=Object(l);p--;){var v=d[p];if(m&&v[2]?v[1]!==l[v[0]]:!(v[0]in l))return!1}for(;++p<g;){v=d[p];var w=v[0],_=l[w],x=v[1];if(m&&v[2]){if(_===void 0&&!(w in l))return!1}else{var b=new e;if(f)var E=f(_,x,w,l,u,b);if(!(E===void 0?t(x,_,n|r,f,b):E))return!1}}return!0}return Eg=o,Eg}var Pg,i_;function k2(){if(i_)return Pg;i_=1;var e=oa();function t(n){return n===n&&!e(n)}return Pg=t,Pg}var jg,a_;function U4(){if(a_)return jg;a_=1;var e=k2(),t=sf();function n(r){for(var o=t(r),l=o.length;l--;){var u=o[l],d=r[u];o[l]=[u,d,e(d)]}return o}return jg=n,jg}var Ig,o_;function M2(){if(o_)return Ig;o_=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return Ig=e,Ig}var kg,s_;function B4(){if(s_)return kg;s_=1;var e=F4(),t=U4(),n=M2();function r(o){var l=t(o);return l.length==1&&l[0][2]?n(l[0][0],l[0][1]):function(u){return u===o||e(u,o,l)}}return kg=r,kg}var Mg,l_;function z4(){if(l_)return Mg;l_=1;function e(t,n){return t!=null&&n in Object(t)}return Mg=e,Mg}var Rg,u_;function V4(){if(u_)return Rg;u_=1;var e=ZP(),t=ux(),n=Vn(),r=cx(),o=dx(),l=tf();function u(d,f,p){f=e(f,d);for(var g=-1,m=f.length,v=!1;++g<m;){var w=l(f[g]);if(!(v=d!=null&&p(d,w)))break;d=d[w]}return v||++g!=m?v:(m=d==null?0:d.length,!!m&&o(m)&&r(w,m)&&(n(d)||t(d)))}return Rg=u,Rg}var Og,c_;function G4(){if(c_)return Og;c_=1;var e=z4(),t=V4();function n(r,o){return r!=null&&t(r,o,e)}return Og=n,Og}var Dg,d_;function H4(){if(d_)return Dg;d_=1;var e=fx(),t=QP(),n=G4(),r=K0(),o=k2(),l=M2(),u=tf(),d=1,f=2;function p(g,m){return r(g)&&o(m)?l(u(g),m):function(v){var w=t(v,g);return w===void 0&&w===m?n(v,g):e(m,w,d|f)}}return Dg=p,Dg}var Lg,f_;function fs(){if(f_)return Lg;f_=1;function e(t){return t}return Lg=e,Lg}var $g,p_;function W4(){if(p_)return $g;p_=1;function e(t){return function(n){return n==null?void 0:n[t]}}return $g=e,$g}var qg,h_;function K4(){if(h_)return qg;h_=1;var e=ex();function t(n){return function(r){return e(r,n)}}return qg=t,qg}var Fg,m_;function J4(){if(m_)return Fg;m_=1;var e=W4(),t=K4(),n=K0(),r=tf();function o(l){return n(l)?e(r(l)):t(l)}return Fg=o,Fg}var Ug,g_;function Kr(){if(g_)return Ug;g_=1;var e=B4(),t=H4(),n=fs(),r=Vn(),o=J4();function l(u){return typeof u=="function"?u:u==null?n:typeof u=="object"?r(u)?t(u[0],u[1]):e(u):o(u)}return Ug=l,Ug}var Bg,y_;function R2(){if(y_)return Bg;y_=1;function e(t,n,r,o){for(var l=t.length,u=r+(o?1:-1);o?u--:++u<l;)if(n(t[u],u,t))return u;return-1}return Bg=e,Bg}var zg,v_;function Y4(){if(v_)return zg;v_=1;function e(t){return t!==t}return zg=e,zg}var Vg,x_;function X4(){if(x_)return Vg;x_=1;function e(t,n,r){for(var o=r-1,l=t.length;++o<l;)if(t[o]===n)return o;return-1}return Vg=e,Vg}var Gg,b_;function Z4(){if(b_)return Gg;b_=1;var e=R2(),t=Y4(),n=X4();function r(o,l,u){return l===l?n(o,l,u):e(o,t,u)}return Gg=r,Gg}var Hg,w_;function Q4(){if(w_)return Hg;w_=1;var e=Z4();function t(n,r){var o=n==null?0:n.length;return!!o&&e(n,r,0)>-1}return Hg=t,Hg}var Wg,S_;function eL(){if(S_)return Wg;S_=1;function e(t,n,r){for(var o=-1,l=t==null?0:t.length;++o<l;)if(r(n,t[o]))return!0;return!1}return Wg=e,Wg}var Kg,N_;function tL(){if(N_)return Kg;N_=1;function e(){}return Kg=e,Kg}var Jg,__;function nL(){if(__)return Jg;__=1;var e=I2(),t=tL(),n=lx(),r=1/0,o=e&&1/n(new e([,-0]))[1]==r?function(l){return new e(l)}:t;return Jg=o,Jg}var Yg,A_;function rL(){if(A_)return Yg;A_=1;var e=S2(),t=Q4(),n=eL(),r=_2(),o=nL(),l=lx(),u=200;function d(f,p,g){var m=-1,v=t,w=f.length,_=!0,x=[],b=x;if(g)_=!1,v=n;else if(w>=u){var E=p?null:o(f);if(E)return l(E);_=!1,v=r,b=new e}else b=p?[]:x;e:for(;++m<w;){var A=f[m],T=p?p(A):A;if(A=g||A!==0?A:0,_&&T===T){for(var P=b.length;P--;)if(b[P]===T)continue e;p&&b.push(T),x.push(A)}else v(b,T,g)||(b!==x&&b.push(T),x.push(A))}return x}return Yg=d,Yg}var Xg,T_;function iL(){if(T_)return Xg;T_=1;var e=Kr(),t=rL();function n(r,o){return r&&r.length?t(r,e(o,2)):[]}return Xg=n,Xg}var aL=iL();const C_=_t(aL);function O2(e,t,n){return t===!0?C_(e,n):tt(t)?C_(e,t):e}function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}var oL=["ref"];function E_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ui(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(n),!0).forEach(function(r){lf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L2(r.key),r)}}function lL(e,t,n){return t&&P_(e.prototype,t),n&&P_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uL(e,t,n){return t=ad(t),cL(e,D2()?Reflect.construct(t,n||[],ad(e).constructor):t.apply(e,n))}function cL(e,t){if(t&&($o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dL(e)}function dL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D2=function(){return!!e})()}function ad(e){return ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ad(e)}function fL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fv(e,t)}function Fv(e,t){return Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Fv(e,t)}function lf(e,t,n){return t=L2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L2(e){var t=pL(e,"string");return $o(t)=="symbol"?t:t+""}function pL(e,t){if($o(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hL(e,t){if(e==null)return{};var n=mL(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mL(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gL(e){return e.value}function yL(e,t){if(z.isValidElement(e))return z.cloneElement(e,t);if(typeof e=="function")return z.createElement(e,t);t.ref;var n=hL(t,oL);return z.createElement(sx,n)}var j_=1,ko=(function(e){function t(){var n;sL(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=uL(this,t,[].concat(o)),lf(n,"lastBoundingBox",{width:-1,height:-1}),n}return fL(t,e),lL(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,o=this.getBBox();o?(Math.abs(o.width-this.lastBoundingBox.width)>j_||Math.abs(o.height-this.lastBoundingBox.height)>j_)&&(this.lastBoundingBox.width=o.width,this.lastBoundingBox.height=o.height,r&&r(o)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ui({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var o=this.props,l=o.layout,u=o.align,d=o.verticalAlign,f=o.margin,p=o.chartWidth,g=o.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(u==="center"&&l==="vertical"){var w=this.getBBoxSnapshot();m={left:((p||0)-w.width)/2}}else m=u==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(d==="middle"){var _=this.getBBoxSnapshot();v={top:((g||0)-_.height)/2}}else v=d==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return ui(ui({},m),v)}},{key:"render",value:function(){var r=this,o=this.props,l=o.content,u=o.width,d=o.height,f=o.wrapperStyle,p=o.payloadUniqBy,g=o.payload,m=ui(ui({position:"absolute",width:u||"auto",height:d||"auto"},this.getDefaultPosition(f)),f);return z.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(w){r.wrapperNode=w}},yL(l,ui(ui({},this.props),{},{payload:O2(g,p,gL)})))}}],[{key:"getWithHeight",value:function(r,o){var l=ui(ui({},this.defaultProps),r.props),u=l.layout;return u==="vertical"&&Ie(r.props.height)?{height:r.props.height}:u==="horizontal"?{width:r.props.width||o}:null}}])})(M.PureComponent);lf(ko,"displayName","Legend");lf(ko,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Zg,I_;function vL(){if(I_)return Zg;I_=1;var e=au(),t=ux(),n=Vn(),r=e?e.isConcatSpreadable:void 0;function o(l){return n(l)||t(l)||!!(r&&l&&l[r])}return Zg=o,Zg}var Qg,k_;function $2(){if(k_)return Qg;k_=1;var e=T2(),t=vL();function n(r,o,l,u,d){var f=-1,p=r.length;for(l||(l=t),d||(d=[]);++f<p;){var g=r[f];o>0&&l(g)?o>1?n(g,o-1,l,u,d):e(d,g):u||(d[d.length]=g)}return d}return Qg=n,Qg}var ey,M_;function xL(){if(M_)return ey;M_=1;function e(t){return function(n,r,o){for(var l=-1,u=Object(n),d=o(n),f=d.length;f--;){var p=d[t?f:++l];if(r(u[p],p,u)===!1)break}return n}}return ey=e,ey}var ty,R_;function bL(){if(R_)return ty;R_=1;var e=xL(),t=e();return ty=t,ty}var ny,O_;function q2(){if(O_)return ny;O_=1;var e=bL(),t=sf();function n(r,o){return r&&e(r,o,t)}return ny=n,ny}var ry,D_;function wL(){if(D_)return ry;D_=1;var e=ou();function t(n,r){return function(o,l){if(o==null)return o;if(!e(o))return n(o,l);for(var u=o.length,d=r?u:-1,f=Object(o);(r?d--:++d<u)&&l(f[d],d,f)!==!1;);return o}}return ry=t,ry}var iy,L_;function px(){if(L_)return iy;L_=1;var e=q2(),t=wL(),n=t(e);return iy=n,iy}var ay,$_;function F2(){if($_)return ay;$_=1;var e=px(),t=ou();function n(r,o){var l=-1,u=t(r)?Array(r.length):[];return e(r,function(d,f,p){u[++l]=o(d,f,p)}),u}return ay=n,ay}var oy,q_;function SL(){if(q_)return oy;q_=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return oy=e,oy}var sy,F_;function NL(){if(F_)return sy;F_=1;var e=ls();function t(n,r){if(n!==r){var o=n!==void 0,l=n===null,u=n===n,d=e(n),f=r!==void 0,p=r===null,g=r===r,m=e(r);if(!p&&!m&&!d&&n>r||d&&f&&g&&!p&&!m||l&&f&&g||!o&&g||!u)return 1;if(!l&&!d&&!m&&n<r||m&&o&&u&&!l&&!d||p&&o&&u||!f&&u||!g)return-1}return 0}return sy=t,sy}var ly,U_;function _L(){if(U_)return ly;U_=1;var e=NL();function t(n,r,o){for(var l=-1,u=n.criteria,d=r.criteria,f=u.length,p=o.length;++l<f;){var g=e(u[l],d[l]);if(g){if(l>=p)return g;var m=o[l];return g*(m=="desc"?-1:1)}}return n.index-r.index}return ly=t,ly}var uy,B_;function AL(){if(B_)return uy;B_=1;var e=Q0(),t=ex(),n=Kr(),r=F2(),o=SL(),l=E2(),u=_L(),d=fs(),f=Vn();function p(g,m,v){m.length?m=e(m,function(x){return f(x)?function(b){return t(b,x.length===1?x[0]:x)}:x}):m=[d];var w=-1;m=e(m,l(n));var _=r(g,function(x,b,E){var A=e(m,function(T){return T(x)});return{criteria:A,index:++w,value:x}});return o(_,function(x,b){return u(x,b,v)})}return uy=p,uy}var cy,z_;function TL(){if(z_)return cy;z_=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return cy=e,cy}var dy,V_;function CL(){if(V_)return dy;V_=1;var e=TL(),t=Math.max;function n(r,o,l){return o=t(o===void 0?r.length-1:o,0),function(){for(var u=arguments,d=-1,f=t(u.length-o,0),p=Array(f);++d<f;)p[d]=u[o+d];d=-1;for(var g=Array(o+1);++d<o;)g[d]=u[d];return g[o]=l(p),e(r,this,g)}}return dy=n,dy}var fy,G_;function EL(){if(G_)return fy;G_=1;function e(t){return function(){return t}}return fy=e,fy}var py,H_;function U2(){if(H_)return py;H_=1;var e=Ha(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return py=t,py}var hy,W_;function PL(){if(W_)return hy;W_=1;var e=EL(),t=U2(),n=fs(),r=t?function(o,l){return t(o,"toString",{configurable:!0,enumerable:!1,value:e(l),writable:!0})}:n;return hy=r,hy}var my,K_;function jL(){if(K_)return my;K_=1;var e=800,t=16,n=Date.now;function r(o){var l=0,u=0;return function(){var d=n(),f=t-(d-u);if(u=d,f>0){if(++l>=e)return arguments[0]}else l=0;return o.apply(void 0,arguments)}}return my=r,my}var gy,J_;function IL(){if(J_)return gy;J_=1;var e=PL(),t=jL(),n=t(e);return gy=n,gy}var yy,Y_;function kL(){if(Y_)return yy;Y_=1;var e=fs(),t=CL(),n=IL();function r(o,l){return n(t(o,l,e),o+"")}return yy=r,yy}var vy,X_;function uf(){if(X_)return vy;X_=1;var e=Y0(),t=ou(),n=cx(),r=oa();function o(l,u,d){if(!r(d))return!1;var f=typeof u;return(f=="number"?t(d)&&n(u,d.length):f=="string"&&u in d)?e(d[u],l):!1}return vy=o,vy}var xy,Z_;function ML(){if(Z_)return xy;Z_=1;var e=$2(),t=AL(),n=kL(),r=uf(),o=n(function(l,u){if(l==null)return[];var d=u.length;return d>1&&r(l,u[0],u[1])?u=[]:d>2&&r(u[0],u[1],u[2])&&(u=[u[0]]),t(l,e(u,1),[])});return xy=o,xy}var RL=ML();const hx=_t(RL);function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uv.apply(this,arguments)}function OL(e,t){return qL(e)||$L(e,t)||LL(e,t)||DL()}function DL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LL(e,t){if(e){if(typeof e=="string")return Q_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q_(e,t)}}function Q_(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $L(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function qL(e){if(Array.isArray(e))return e}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function by(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){FL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FL(e,t,n){return t=UL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UL(e){var t=BL(e,"string");return Al(t)=="symbol"?t:t+""}function BL(e,t){if(Al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zL(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var VL=function(t){var n=t.separator,r=n===void 0?" : ":n,o=t.contentStyle,l=o===void 0?{}:o,u=t.itemStyle,d=u===void 0?{}:u,f=t.labelStyle,p=f===void 0?{}:f,g=t.payload,m=t.formatter,v=t.itemSorter,w=t.wrapperClassName,_=t.labelClassName,x=t.label,b=t.labelFormatter,E=t.accessibilityLayer,A=E===void 0?!1:E,T=function(){if(g&&g.length){var D={padding:0,margin:0},B=(v?hx(g,v):g).map(function(ee,Q){if(ee.type==="none")return null;var ae=by({display:"block",paddingTop:4,paddingBottom:4,color:ee.color||"#000"},d),oe=ee.formatter||m||zL,J=ee.value,F=ee.name,X=J,O=F;if(oe&&X!=null&&O!=null){var H=oe(J,F,ee,Q,g);if(Array.isArray(H)){var fe=OL(H,2);X=fe[0],O=fe[1]}else X=H}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:ae},sn(O)?z.createElement("span",{className:"recharts-tooltip-item-name"},O):null,sn(O)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},X),z.createElement("span",{className:"recharts-tooltip-item-unit"},ee.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:D},B)}return null},P=by({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},l),N=by({margin:0},p),C=!lt(x),I=C?x:"",R=dt("recharts-default-tooltip",w),L=dt("recharts-tooltip-label",_);C&&b&&g!==void 0&&g!==null&&(I=b(x,g));var W=A?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",Uv({className:R,style:P},W),z.createElement("p",{className:L,style:N},z.isValidElement(I)?I:"".concat(I)),T())};function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function Ec(e,t,n){return t=GL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GL(e){var t=HL(e,"string");return Tl(t)=="symbol"?t:t+""}function HL(e,t){if(Tl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tl="recharts-tooltip-wrapper",WL={visibility:"hidden"};function KL(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return dt(tl,Ec(Ec(Ec(Ec({},"".concat(tl,"-right"),Ie(n)&&t&&Ie(t.x)&&n>=t.x),"".concat(tl,"-left"),Ie(n)&&t&&Ie(t.x)&&n<t.x),"".concat(tl,"-bottom"),Ie(r)&&t&&Ie(t.y)&&r>=t.y),"".concat(tl,"-top"),Ie(r)&&t&&Ie(t.y)&&r<t.y))}function tA(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,o=e.offsetTopLeft,l=e.position,u=e.reverseDirection,d=e.tooltipDimension,f=e.viewBox,p=e.viewBoxDimension;if(l&&Ie(l[r]))return l[r];var g=n[r]-d-o,m=n[r]+o;if(t[r])return u[r]?g:m;if(u[r]){var v=g,w=f[r];return v<w?Math.max(m,f[r]):Math.max(g,f[r])}var _=m+d,x=f[r]+p;return _>x?Math.max(g,f[r]):Math.max(m,f[r])}function JL(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function YL(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,o=e.position,l=e.reverseDirection,u=e.tooltipBox,d=e.useTranslate3d,f=e.viewBox,p,g,m;return u.height>0&&u.width>0&&n?(g=tA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:o,reverseDirection:l,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),m=tA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:o,reverseDirection:l,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),p=JL({translateX:g,translateY:m,useTranslate3d:d})):p=WL,{cssProperties:p,cssClasses:KL({translateX:g,translateY:m,coordinate:n})}}function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(r){zv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z2(r.key),r)}}function QL(e,t,n){return t&&ZL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e6(e,t,n){return t=od(t),t6(e,B2()?Reflect.construct(t,n||[],od(e).constructor):t.apply(e,n))}function t6(e,t){if(t&&(qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n6(e)}function n6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B2=function(){return!!e})()}function od(e){return od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},od(e)}function r6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bv(e,t)}function Bv(e,t){return Bv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Bv(e,t)}function zv(e,t,n){return t=z2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z2(e){var t=i6(e,"string");return qo(t)=="symbol"?t:t+""}function i6(e,t){if(qo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var iA=1,a6=(function(e){function t(){var n;XL(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=e6(this,t,[].concat(o)),zv(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),zv(n,"handleKeyDown",function(u){if(u.key==="Escape"){var d,f,p,g;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(d=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&d!==void 0?d:0,y:(p=(g=n.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&p!==void 0?p:0}})}}),n}return r6(t,e),QL(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>iA||Math.abs(r.height-this.state.lastBoundingBox.height)>iA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,o;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,o=this.props,l=o.active,u=o.allowEscapeViewBox,d=o.animationDuration,f=o.animationEasing,p=o.children,g=o.coordinate,m=o.hasPayload,v=o.isAnimationActive,w=o.offset,_=o.position,x=o.reverseDirection,b=o.useTranslate3d,E=o.viewBox,A=o.wrapperStyle,T=YL({allowEscapeViewBox:u,coordinate:g,offsetTopLeft:w,position:_,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),P=T.cssClasses,N=T.cssProperties,C=rA(rA({transition:v&&l?"transform ".concat(d,"ms ").concat(f):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&l&&m?"visible":"hidden",position:"absolute",top:0,left:0},A);return z.createElement("div",{tabIndex:-1,className:P,style:C,ref:function(R){r.wrapperNode=R}},p)}}])})(M.PureComponent),o6=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wa={isSsr:o6()};function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){mx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,G2(r.key),r)}}function u6(e,t,n){return t&&l6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c6(e,t,n){return t=sd(t),d6(e,V2()?Reflect.construct(t,n||[],sd(e).constructor):t.apply(e,n))}function d6(e,t){if(t&&(Fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f6(e)}function f6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V2=function(){return!!e})()}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sd(e)}function p6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vv(e,t)}function Vv(e,t){return Vv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Vv(e,t)}function mx(e,t,n){return t=G2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G2(e){var t=h6(e,"string");return Fo(t)=="symbol"?t:t+""}function h6(e,t){if(Fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function m6(e){return e.dataKey}function g6(e,t){return z.isValidElement(e)?z.cloneElement(e,t):typeof e=="function"?z.createElement(e,t):z.createElement(VL,t)}var er=(function(e){function t(){return s6(this,t),c6(this,t,arguments)}return p6(t,e),u6(t,[{key:"render",value:function(){var r=this,o=this.props,l=o.active,u=o.allowEscapeViewBox,d=o.animationDuration,f=o.animationEasing,p=o.content,g=o.coordinate,m=o.filterNull,v=o.isAnimationActive,w=o.offset,_=o.payload,x=o.payloadUniqBy,b=o.position,E=o.reverseDirection,A=o.useTranslate3d,T=o.viewBox,P=o.wrapperStyle,N=_??[];m&&N.length&&(N=O2(_.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),x,m6));var C=N.length>0;return z.createElement(a6,{allowEscapeViewBox:u,animationDuration:d,animationEasing:f,isAnimationActive:v,active:l,coordinate:g,hasPayload:C,offset:w,position:b,reverseDirection:E,useTranslate3d:A,viewBox:T,wrapperStyle:P},g6(p,oA(oA({},this.props),{},{payload:N})))}}])})(M.PureComponent);mx(er,"displayName","Tooltip");mx(er,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wy,sA;function y6(){if(sA)return wy;sA=1;var e=Wr(),t=function(){return e.Date.now()};return wy=t,wy}var Sy,lA;function v6(){if(lA)return Sy;lA=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Sy=t,Sy}var Ny,uA;function x6(){if(uA)return Ny;uA=1;var e=v6(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Ny=n,Ny}var _y,cA;function H2(){if(cA)return _y;cA=1;var e=x6(),t=oa(),n=ls(),r=NaN,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt;function f(p){if(typeof p=="number")return p;if(n(p))return r;if(t(p)){var g=typeof p.valueOf=="function"?p.valueOf():p;p=t(g)?g+"":g}if(typeof p!="string")return p===0?p:+p;p=e(p);var m=l.test(p);return m||u.test(p)?d(p.slice(2),m?2:8):o.test(p)?r:+p}return _y=f,_y}var Ay,dA;function b6(){if(dA)return Ay;dA=1;var e=oa(),t=y6(),n=H2(),r="Expected a function",o=Math.max,l=Math.min;function u(d,f,p){var g,m,v,w,_,x,b=0,E=!1,A=!1,T=!0;if(typeof d!="function")throw new TypeError(r);f=n(f)||0,e(p)&&(E=!!p.leading,A="maxWait"in p,v=A?o(n(p.maxWait)||0,f):v,T="trailing"in p?!!p.trailing:T);function P(B){var ee=g,Q=m;return g=m=void 0,b=B,w=d.apply(Q,ee),w}function N(B){return b=B,_=setTimeout(R,f),E?P(B):w}function C(B){var ee=B-x,Q=B-b,ae=f-ee;return A?l(ae,v-Q):ae}function I(B){var ee=B-x,Q=B-b;return x===void 0||ee>=f||ee<0||A&&Q>=v}function R(){var B=t();if(I(B))return L(B);_=setTimeout(R,C(B))}function L(B){return _=void 0,T&&g?P(B):(g=m=void 0,w)}function W(){_!==void 0&&clearTimeout(_),b=0,g=x=m=_=void 0}function q(){return _===void 0?w:L(t())}function D(){var B=t(),ee=I(B);if(g=arguments,m=this,x=B,ee){if(_===void 0)return N(x);if(A)return clearTimeout(_),_=setTimeout(R,f),P(x)}return _===void 0&&(_=setTimeout(R,f)),w}return D.cancel=W,D.flush=q,D}return Ay=u,Ay}var Ty,fA;function w6(){if(fA)return Ty;fA=1;var e=b6(),t=oa(),n="Expected a function";function r(o,l,u){var d=!0,f=!0;if(typeof o!="function")throw new TypeError(n);return t(u)&&(d="leading"in u?!!u.leading:d,f="trailing"in u?!!u.trailing:f),e(o,l,{leading:d,maxWait:l,trailing:f})}return Ty=r,Ty}var S6=w6();const W2=_t(S6);function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){N6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N6(e,t,n){return t=_6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _6(e){var t=A6(e,"string");return Cl(t)=="symbol"?t:t+""}function A6(e,t){if(Cl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T6(e,t){return j6(e)||P6(e,t)||E6(e,t)||C6()}function C6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E6(e,t){if(e){if(typeof e=="string")return hA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(e,t)}}function hA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function j6(e){if(Array.isArray(e))return e}var ld=M.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,o=r===void 0?{width:-1,height:-1}:r,l=e.width,u=l===void 0?"100%":l,d=e.height,f=d===void 0?"100%":d,p=e.minWidth,g=p===void 0?0:p,m=e.minHeight,v=e.maxHeight,w=e.children,_=e.debounce,x=_===void 0?0:_,b=e.id,E=e.className,A=e.onResize,T=e.style,P=T===void 0?{}:T,N=M.useRef(null),C=M.useRef();C.current=A,M.useImperativeHandle(t,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var I=M.useState({containerWidth:o.width,containerHeight:o.height}),R=T6(I,2),L=R[0],W=R[1],q=M.useCallback(function(B,ee){W(function(Q){var ae=Math.round(B),oe=Math.round(ee);return Q.containerWidth===ae&&Q.containerHeight===oe?Q:{containerWidth:ae,containerHeight:oe}})},[]);M.useEffect(function(){var B=function(F){var X,O=F[0].contentRect,H=O.width,fe=O.height;q(H,fe),(X=C.current)===null||X===void 0||X.call(C,H,fe)};x>0&&(B=W2(B,x,{trailing:!0,leading:!1}));var ee=new ResizeObserver(B),Q=N.current.getBoundingClientRect(),ae=Q.width,oe=Q.height;return q(ae,oe),ee.observe(N.current),function(){ee.disconnect()}},[q,x]);var D=M.useMemo(function(){var B=L.containerWidth,ee=L.containerHeight;if(B<0||ee<0)return null;Ir(Ia(u)||Ia(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,u,f),Ir(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Q=Ia(u)?B:u,ae=Ia(f)?ee:f;n&&n>0&&(Q?ae=Q/n:ae&&(Q=ae*n),v&&ae>v&&(ae=v)),Ir(Q>0||ae>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,ae,u,f,g,m,n);var oe=!Array.isArray(w)&&xi(w.type).endsWith("Chart");return z.Children.map(w,function(J){return z.isValidElement(J)?M.cloneElement(J,Pc({width:Q,height:ae},oe?{style:Pc({height:"100%",width:"100%",maxHeight:ae,maxWidth:Q},J.props.style)}:{})):J})},[n,w,f,v,m,g,L,u]);return z.createElement("div",{id:b?"".concat(b):void 0,className:dt("recharts-responsive-container",E),style:Pc(Pc({},P),{},{width:u,height:f,minWidth:g,minHeight:m,maxHeight:v}),ref:N},D)}),su=function(t){return null};su.displayName="Cell";function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Gv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){I6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I6(e,t,n){return t=k6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k6(e){var t=M6(e,"string");return El(t)=="symbol"?t:t+""}function M6(e,t){if(El(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var No={widthCache:{},cacheCount:0},R6=2e3,O6={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gA="recharts_measurement_span";function D6(e){var t=Gv({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var pl=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wa.isSsr)return{width:0,height:0};var r=D6(n),o=JSON.stringify({text:t,copyStyle:r});if(No.widthCache[o])return No.widthCache[o];try{var l=document.getElementById(gA);l||(l=document.createElement("span"),l.setAttribute("id",gA),l.setAttribute("aria-hidden","true"),document.body.appendChild(l));var u=Gv(Gv({},O6),r);Object.assign(l.style,u),l.textContent="".concat(t);var d=l.getBoundingClientRect(),f={width:d.width,height:d.height};return No.widthCache[o]=f,++No.cacheCount>R6&&(No.cacheCount=0,No.widthCache={}),f}catch{return{width:0,height:0}}},L6=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function ud(e,t){return U6(e)||F6(e,t)||q6(e,t)||$6()}function $6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q6(e,t){if(e){if(typeof e=="string")return yA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yA(e,t)}}function yA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function U6(e){if(Array.isArray(e))return e}function B6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V6(r.key),r)}}function z6(e,t,n){return t&&vA(e.prototype,t),n&&vA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function V6(e){var t=G6(e,"string");return Pl(t)=="symbol"?t:t+""}function G6(e,t){if(Pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H6=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,W6=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},K6=Object.keys(K2),To="NaN";function J6(e,t){return e*K2[t]}var jc=(function(){function e(t,n){B6(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!H6.test(n)&&(this.num=NaN,this.unit=""),K6.includes(n)&&(this.num=J6(t,n),this.unit="px")}return z6(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,o=(r=W6.exec(n))!==null&&r!==void 0?r:[],l=ud(o,3),u=l[1],d=l[2];return new e(parseFloat(u),d??"")}}])})();function J2(e){if(e.includes(To))return To;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=xA.exec(t))!==null&&n!==void 0?n:[],o=ud(r,4),l=o[1],u=o[2],d=o[3],f=jc.parse(l??""),p=jc.parse(d??""),g=u==="*"?f.multiply(p):f.divide(p);if(g.isNaN())return To;t=t.replace(xA,g.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,v=(m=bA.exec(t))!==null&&m!==void 0?m:[],w=ud(v,4),_=w[1],x=w[2],b=w[3],E=jc.parse(_??""),A=jc.parse(b??""),T=x==="+"?E.add(A):E.subtract(A);if(T.isNaN())return To;t=t.replace(bA,T.toString())}return t}var wA=/\(([^()]*)\)/;function Y6(e){for(var t=e;t.includes("(");){var n=wA.exec(t),r=ud(n,2),o=r[1];t=t.replace(wA,J2(o))}return t}function X6(e){var t=e.replace(/\s+/g,"");return t=Y6(t),t=J2(t),t}function Z6(e){try{return X6(e)}catch{return To}}function Cy(e){var t=Z6(e.slice(5,-1));return t===To?"":t}var Q6=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],e3=["dx","dy","angle","className","breakAll"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(this,arguments)}function SA(e,t){if(e==null)return{};var n=t3(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t3(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function NA(e,t){return a3(e)||i3(e,t)||r3(e,t)||n3()}function n3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r3(e,t){if(e){if(typeof e=="string")return _A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(e,t)}}function _A(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i3(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function a3(e){if(Array.isArray(e))return e}var Y2=/[ \f\n\r\t\v\u2028\u2029]+/,X2=function(t){var n=t.children,r=t.breakAll,o=t.style;try{var l=[];lt(n)||(r?l=n.toString().split(""):l=n.toString().split(Y2));var u=l.map(function(f){return{word:f,width:pl(f,o).width}}),d=r?0:pl("",o).width;return{wordsWithComputedWidth:u,spaceWidth:d}}catch{return null}},o3=function(t,n,r,o,l){var u=t.maxLines,d=t.children,f=t.style,p=t.breakAll,g=Ie(u),m=d,v=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(ae,oe){var J=oe.word,F=oe.width,X=ae[ae.length-1];if(X&&(o==null||l||X.width+F+r<Number(o)))X.words.push(J),X.width+=F+r;else{var O={words:[J],width:F};ae.push(O)}return ae},[])},w=v(n),_=function(Q){return Q.reduce(function(ae,oe){return ae.width>oe.width?ae:oe})};if(!g)return w;for(var x="",b=function(Q){var ae=m.slice(0,Q),oe=X2({breakAll:p,style:f,children:ae+x}).wordsWithComputedWidth,J=v(oe),F=J.length>u||_(J).width>Number(o);return[F,J]},E=0,A=m.length-1,T=0,P;E<=A&&T<=m.length-1;){var N=Math.floor((E+A)/2),C=N-1,I=b(C),R=NA(I,2),L=R[0],W=R[1],q=b(N),D=NA(q,1),B=D[0];if(!L&&!B&&(E=N+1),L&&B&&(A=N-1),!L&&B){P=W;break}T++}return P||w},AA=function(t){var n=lt(t)?[]:t.toString().split(Y2);return[{words:n}]},s3=function(t){var n=t.width,r=t.scaleToFit,o=t.children,l=t.style,u=t.breakAll,d=t.maxLines;if((n||r)&&!Wa.isSsr){var f,p,g=X2({breakAll:u,children:o,style:l});if(g){var m=g.wordsWithComputedWidth,v=g.spaceWidth;f=m,p=v}else return AA(o);return o3({breakAll:u,children:o,maxLines:d,style:l},f,p,n,r)}return AA(o)},TA="#808080",Ba=function(t){var n=t.x,r=n===void 0?0:n,o=t.y,l=o===void 0?0:o,u=t.lineHeight,d=u===void 0?"1em":u,f=t.capHeight,p=f===void 0?"0.71em":f,g=t.scaleToFit,m=g===void 0?!1:g,v=t.textAnchor,w=v===void 0?"start":v,_=t.verticalAnchor,x=_===void 0?"end":_,b=t.fill,E=b===void 0?TA:b,A=SA(t,Q6),T=M.useMemo(function(){return s3({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:m,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,m,A.style,A.width]),P=A.dx,N=A.dy,C=A.angle,I=A.className,R=A.breakAll,L=SA(A,e3);if(!sn(r)||!sn(l))return null;var W=r+(Ie(P)?P:0),q=l+(Ie(N)?N:0),D;switch(x){case"start":D=Cy("calc(".concat(p,")"));break;case"middle":D=Cy("calc(".concat((T.length-1)/2," * -").concat(d," + (").concat(p," / 2))"));break;default:D=Cy("calc(".concat(T.length-1," * -").concat(d,")"));break}var B=[];if(m){var ee=T[0].width,Q=A.width;B.push("scale(".concat((Ie(Q)?Q/ee:1)/ee,")"))}return C&&B.push("rotate(".concat(C,", ").concat(W,", ").concat(q,")")),B.length&&(L.transform=B.join(" ")),z.createElement("text",Hv({},Xe(L,!0),{x:W,y:q,className:dt("recharts-text",I),textAnchor:w,fill:E.includes("url")?TA:E}),T.map(function(ae,oe){var J=ae.words.join(R?"":" ");return z.createElement("tspan",{x:W,dy:oe===0?D:d,key:"".concat(J,"-").concat(oe)},J)}))};function ia(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function l3(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gx(e){let t,n,r;e.length!==2?(t=ia,n=(d,f)=>ia(e(d),f),r=(d,f)=>e(d)-f):(t=e===ia||e===l3?e:u3,n=e,r=e);function o(d,f,p=0,g=d.length){if(p<g){if(t(f,f)!==0)return g;do{const m=p+g>>>1;n(d[m],f)<0?p=m+1:g=m}while(p<g)}return p}function l(d,f,p=0,g=d.length){if(p<g){if(t(f,f)!==0)return g;do{const m=p+g>>>1;n(d[m],f)<=0?p=m+1:g=m}while(p<g)}return p}function u(d,f,p=0,g=d.length){const m=o(d,f,p,g-1);return m>p&&r(d[m-1],f)>-r(d[m],f)?m-1:m}return{left:o,center:u,right:l}}function u3(){return 0}function Z2(e){return e===null?NaN:+e}function*c3(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const d3=gx(ia),lu=d3.right;gx(Z2).center;class CA extends Map{constructor(t,n=h3){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(EA(this,t))}has(t){return super.has(EA(this,t))}set(t,n){return super.set(f3(this,t),n)}delete(t){return super.delete(p3(this,t))}}function EA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function f3({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function p3({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function h3(e){return e!==null&&typeof e=="object"?e.valueOf():e}function m3(e=ia){if(e===ia)return Q2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Q2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const g3=Math.sqrt(50),y3=Math.sqrt(10),v3=Math.sqrt(2);function cd(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),l=r/Math.pow(10,o),u=l>=g3?10:l>=y3?5:l>=v3?2:1;let d,f,p;return o<0?(p=Math.pow(10,-o)/u,d=Math.round(e*p),f=Math.round(t*p),d/p<e&&++d,f/p>t&&--f,p=-p):(p=Math.pow(10,o)*u,d=Math.round(e/p),f=Math.round(t/p),d*p<e&&++d,f*p>t&&--f),f<d&&.5<=n&&n<2?cd(e,t,n*2):[d,f,p]}function Wv(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,l,u]=r?cd(t,e,n):cd(e,t,n);if(!(l>=o))return[];const d=l-o+1,f=new Array(d);if(r)if(u<0)for(let p=0;p<d;++p)f[p]=(l-p)/-u;else for(let p=0;p<d;++p)f[p]=(l-p)*u;else if(u<0)for(let p=0;p<d;++p)f[p]=(o+p)/-u;else for(let p=0;p<d;++p)f[p]=(o+p)*u;return f}function Kv(e,t,n){return t=+t,e=+e,n=+n,cd(e,t,n)[2]}function Jv(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?Kv(t,e,n):Kv(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function PA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function jA(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ej(e,t,n=0,r=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=o===void 0?Q2:m3(o);r>n;){if(r-n>600){const f=r-n+1,p=t-n+1,g=Math.log(f),m=.5*Math.exp(2*g/3),v=.5*Math.sqrt(g*m*(f-m)/f)*(p-f/2<0?-1:1),w=Math.max(n,Math.floor(t-p*m/f+v)),_=Math.min(r,Math.floor(t+(f-p)*m/f+v));ej(e,t,w,_,o)}const l=e[t];let u=n,d=r;for(nl(e,n,t),o(e[r],l)>0&&nl(e,n,r);u<d;){for(nl(e,u,d),++u,--d;o(e[u],l)<0;)++u;for(;o(e[d],l)>0;)--d}o(e[n],l)===0?nl(e,n,d):(++d,nl(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function nl(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function x3(e,t,n){if(e=Float64Array.from(c3(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return jA(e);if(t>=1)return PA(e);var r,o=(r-1)*t,l=Math.floor(o),u=PA(ej(e,l).subarray(0,l+1)),d=jA(e.subarray(l+1));return u+(d-u)*(o-l)}}function b3(e,t,n=Z2){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,l=Math.floor(o),u=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return u+(d-u)*(o-l)}}function w3(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(o);++r<o;)l[r]=e+r*n;return l}function vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Yv=Symbol("implicit");function yx(){var e=new CA,t=[],n=[],r=Yv;function o(l){let u=e.get(l);if(u===void 0){if(r!==Yv)return r;e.set(l,u=t.push(l)-1)}return n[u%n.length]}return o.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new CA;for(const u of l)e.has(u)||e.set(u,t.push(u)-1);return o},o.range=function(l){return arguments.length?(n=Array.from(l),o):n.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.copy=function(){return yx(t,n).unknown(r)},vr.apply(o,arguments),o}function jl(){var e=yx().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,l,u,d=!1,f=0,p=0,g=.5;delete e.unknown;function m(){var v=t().length,w=o<r,_=w?o:r,x=w?r:o;l=(x-_)/Math.max(1,v-f+p*2),d&&(l=Math.floor(l)),_+=(x-_-l*(v-f))*g,u=l*(1-f),d&&(_=Math.round(_),u=Math.round(u));var b=w3(v).map(function(E){return _+l*E});return n(w?b.reverse():b)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,o]=v,r=+r,o=+o,m()):[r,o]},e.rangeRound=function(v){return[r,o]=v,r=+r,o=+o,d=!0,m()},e.bandwidth=function(){return u},e.step=function(){return l},e.round=function(v){return arguments.length?(d=!!v,m()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,p=+v),m()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},e.paddingOuter=function(v){return arguments.length?(p=+v,m()):p},e.align=function(v){return arguments.length?(g=Math.max(0,Math.min(1,v)),m()):g},e.copy=function(){return jl(t(),[r,o]).round(d).paddingInner(f).paddingOuter(p).align(g)},vr.apply(m(),arguments)}function tj(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tj(t())},e}function hl(){return tj(jl.apply(null,arguments).paddingInner(1))}function vx(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function nj(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function uu(){}var Il=.7,dd=1/Il,Mo="\\s*([+-]?\\d+)\\s*",kl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S3=/^#([0-9a-f]{3,8})$/,N3=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),_3=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),A3=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${kl}\\)$`),T3=new RegExp(`^rgba\\(${zr},${zr},${zr},${kl}\\)$`),C3=new RegExp(`^hsl\\(${kl},${zr},${zr}\\)$`),E3=new RegExp(`^hsla\\(${kl},${zr},${zr},${kl}\\)$`),IA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vx(uu,Ml,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:kA,formatHex:kA,formatHex8:P3,formatHsl:j3,formatRgb:MA,toString:MA});function kA(){return this.rgb().formatHex()}function P3(){return this.rgb().formatHex8()}function j3(){return rj(this).formatHsl()}function MA(){return this.rgb().formatRgb()}function Ml(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=S3.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?RA(t):n===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ic(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ic(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=N3.exec(e))?new zn(t[1],t[2],t[3],1):(t=_3.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A3.exec(e))?Ic(t[1],t[2],t[3],t[4]):(t=T3.exec(e))?Ic(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=C3.exec(e))?LA(t[1],t[2]/100,t[3]/100,1):(t=E3.exec(e))?LA(t[1],t[2]/100,t[3]/100,t[4]):IA.hasOwnProperty(e)?RA(IA[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function RA(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function Ic(e,t,n,r){return r<=0&&(e=t=n=NaN),new zn(e,t,n,r)}function I3(e){return e instanceof uu||(e=Ml(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function Xv(e,t,n,r){return arguments.length===1?I3(e):new zn(e,t,n,r??1)}function zn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vx(zn,Xv,nj(uu,{brighter(e){return e=e==null?dd:Math.pow(dd,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Il:Math.pow(Il,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(La(this.r),La(this.g),La(this.b),fd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OA,formatHex:OA,formatHex8:k3,formatRgb:DA,toString:DA}));function OA(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}`}function k3(){return`#${ka(this.r)}${ka(this.g)}${ka(this.b)}${ka((isNaN(this.opacity)?1:this.opacity)*255)}`}function DA(){const e=fd(this.opacity);return`${e===1?"rgb(":"rgba("}${La(this.r)}, ${La(this.g)}, ${La(this.b)}${e===1?")":`, ${e})`}`}function fd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function La(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ka(e){return e=La(e),(e<16?"0":"")+e.toString(16)}function LA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jr(e,t,n,r)}function rj(e){if(e instanceof jr)return new jr(e.h,e.s,e.l,e.opacity);if(e instanceof uu||(e=Ml(e)),!e)return new jr;if(e instanceof jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),l=Math.max(t,n,r),u=NaN,d=l-o,f=(l+o)/2;return d?(t===l?u=(n-r)/d+(n<r)*6:n===l?u=(r-t)/d+2:u=(t-n)/d+4,d/=f<.5?l+o:2-l-o,u*=60):d=f>0&&f<1?0:u,new jr(u,d,f,e.opacity)}function M3(e,t,n,r){return arguments.length===1?rj(e):new jr(e,t,n,r??1)}function jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vx(jr,M3,nj(uu,{brighter(e){return e=e==null?dd:Math.pow(dd,e),new jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Il:Math.pow(Il,e),new jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new zn(Ey(e>=240?e-240:e+120,o,r),Ey(e,o,r),Ey(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new jr($A(this.h),kc(this.s),kc(this.l),fd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fd(this.opacity);return`${e===1?"hsl(":"hsla("}${$A(this.h)}, ${kc(this.s)*100}%, ${kc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $A(e){return e=(e||0)%360,e<0?e+360:e}function kc(e){return Math.max(0,Math.min(1,e||0))}function Ey(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xx=e=>()=>e;function R3(e,t){return function(n){return e+n*t}}function O3(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function D3(e){return(e=+e)==1?ij:function(t,n){return n-t?O3(t,n,e):xx(isNaN(t)?n:t)}}function ij(e,t){var n=t-e;return n?R3(e,n):xx(isNaN(e)?t:e)}const qA=(function e(t){var n=D3(t);function r(o,l){var u=n((o=Xv(o)).r,(l=Xv(l)).r),d=n(o.g,l.g),f=n(o.b,l.b),p=ij(o.opacity,l.opacity);return function(g){return o.r=u(g),o.g=d(g),o.b=f(g),o.opacity=p(g),o+""}}return r.gamma=e,r})(1);function L3(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(l){for(o=0;o<n;++o)r[o]=e[o]*(1-l)+t[o]*l;return r}}function $3(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q3(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),l=new Array(n),u;for(u=0;u<r;++u)o[u]=ps(e[u],t[u]);for(;u<n;++u)l[u]=t[u];return function(d){for(u=0;u<r;++u)l[u]=o[u](d);return l}}function F3(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function pd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function U3(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=ps(e[o],t[o]):r[o]=t[o];return function(l){for(o in n)r[o]=n[o](l);return r}}var Zv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Py=new RegExp(Zv.source,"g");function B3(e){return function(){return e}}function z3(e){return function(t){return e(t)+""}}function V3(e,t){var n=Zv.lastIndex=Py.lastIndex=0,r,o,l,u=-1,d=[],f=[];for(e=e+"",t=t+"";(r=Zv.exec(e))&&(o=Py.exec(t));)(l=o.index)>n&&(l=t.slice(n,l),d[u]?d[u]+=l:d[++u]=l),(r=r[0])===(o=o[0])?d[u]?d[u]+=o:d[++u]=o:(d[++u]=null,f.push({i:u,x:pd(r,o)})),n=Py.lastIndex;return n<t.length&&(l=t.slice(n),d[u]?d[u]+=l:d[++u]=l),d.length<2?f[0]?z3(f[0].x):B3(t):(t=f.length,function(p){for(var g=0,m;g<t;++g)d[(m=f[g]).i]=m.x(p);return d.join("")})}function ps(e,t){var n=typeof t,r;return t==null||n==="boolean"?xx(t):(n==="number"?pd:n==="string"?(r=Ml(t))?(t=r,qA):V3:t instanceof Ml?qA:t instanceof Date?F3:$3(t)?L3:Array.isArray(t)?q3:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?U3:pd)(e,t)}function bx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function G3(e,t){t===void 0&&(t=e,e=ps);for(var n=0,r=t.length-1,o=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(o,o=t[++n]);return function(u){var d=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return l[d](u-d)}}function H3(e){return function(){return e}}function hd(e){return+e}var FA=[0,1];function In(e){return e}function Qv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:H3(isNaN(t)?NaN:.5)}function W3(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function K3(e,t,n){var r=e[0],o=e[1],l=t[0],u=t[1];return o<r?(r=Qv(o,r),l=n(u,l)):(r=Qv(r,o),l=n(l,u)),function(d){return l(r(d))}}function J3(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),l=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)o[u]=Qv(e[u],e[u+1]),l[u]=n(t[u],t[u+1]);return function(d){var f=lu(e,d,1,r)-1;return l[f](o[f](d))}}function cu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cf(){var e=FA,t=FA,n=ps,r,o,l,u=In,d,f,p;function g(){var v=Math.min(e.length,t.length);return u!==In&&(u=W3(e[0],e[v-1])),d=v>2?J3:K3,f=p=null,m}function m(v){return v==null||isNaN(v=+v)?l:(f||(f=d(e.map(r),t,n)))(r(u(v)))}return m.invert=function(v){return u(o((p||(p=d(t,e.map(r),pd)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,hd),g()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),g()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=bx,g()},m.clamp=function(v){return arguments.length?(u=v?!0:In,g()):u!==In},m.interpolate=function(v){return arguments.length?(n=v,g()):n},m.unknown=function(v){return arguments.length?(l=v,m):l},function(v,w){return r=v,o=w,g()}}function wx(){return cf()(In,In)}function Y3(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function md(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Uo(e){return e=md(Math.abs(e)),e?e[1]:NaN}function X3(e,t){return function(n,r){for(var o=n.length,l=[],u=0,d=e[0],f=0;o>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),l.push(n.substring(o-=d,o+d)),!((f+=d+1)>r));)d=e[u=(u+1)%e.length];return l.reverse().join(t)}}function Z3(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Q3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rl(e){if(!(t=Q3.exec(e)))throw new Error("invalid format: "+e);var t;return new Sx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rl.prototype=Sx.prototype;function Sx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Sx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function e5(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var aj;function t5(e,t){var n=md(e,t);if(!n)return e+"";var r=n[0],o=n[1],l=o-(aj=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=r.length;return l===u?r:l>u?r+new Array(l-u+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+md(e,Math.max(0,t+l-1))[0]}function UA(e,t){var n=md(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const BA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Y3,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UA(e*100,t),r:UA,s:t5,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zA(e){return e}var VA=Array.prototype.map,GA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function n5(e){var t=e.grouping===void 0||e.thousands===void 0?zA:X3(VA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?zA:Z3(VA.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function p(m){m=Rl(m);var v=m.fill,w=m.align,_=m.sign,x=m.symbol,b=m.zero,E=m.width,A=m.comma,T=m.precision,P=m.trim,N=m.type;N==="n"?(A=!0,N="g"):BA[N]||(T===void 0&&(T=12),P=!0,N="g"),(b||v==="0"&&w==="=")&&(b=!0,v="0",w="=");var C=x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",I=x==="$"?r:/[%p]/.test(N)?u:"",R=BA[N],L=/[defgprs%]/.test(N);T=T===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function W(q){var D=C,B=I,ee,Q,ae;if(N==="c")B=R(q)+B,q="";else{q=+q;var oe=q<0||1/q<0;if(q=isNaN(q)?f:R(Math.abs(q),T),P&&(q=e5(q)),oe&&+q==0&&_!=="+"&&(oe=!1),D=(oe?_==="("?_:d:_==="-"||_==="("?"":_)+D,B=(N==="s"?GA[8+aj/3]:"")+B+(oe&&_==="("?")":""),L){for(ee=-1,Q=q.length;++ee<Q;)if(ae=q.charCodeAt(ee),48>ae||ae>57){B=(ae===46?o+q.slice(ee+1):q.slice(ee))+B,q=q.slice(0,ee);break}}}A&&!b&&(q=t(q,1/0));var J=D.length+q.length+B.length,F=J<E?new Array(E-J+1).join(v):"";switch(A&&b&&(q=t(F+q,F.length?E-B.length:1/0),F=""),w){case"<":q=D+q+B+F;break;case"=":q=D+F+q+B;break;case"^":q=F.slice(0,J=F.length>>1)+D+q+B+F.slice(J);break;default:q=F+D+q+B;break}return l(q)}return W.toString=function(){return m+""},W}function g(m,v){var w=p((m=Rl(m),m.type="f",m)),_=Math.max(-8,Math.min(8,Math.floor(Uo(v)/3)))*3,x=Math.pow(10,-_),b=GA[8+_/3];return function(E){return w(x*E)+b}}return{format:p,formatPrefix:g}}var Mc,Nx,oj;r5({thousands:",",grouping:[3],currency:["$",""]});function r5(e){return Mc=n5(e),Nx=Mc.format,oj=Mc.formatPrefix,Mc}function i5(e){return Math.max(0,-Uo(Math.abs(e)))}function a5(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Uo(t)/3)))*3-Uo(Math.abs(e)))}function o5(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Uo(t)-Uo(e))+1}function sj(e,t,n,r){var o=Jv(e,t,n),l;switch(r=Rl(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=a5(o,u))&&(r.precision=l),oj(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=o5(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=i5(o))&&(r.precision=l-(r.type==="%")*2);break}}return Nx(r)}function sa(e){var t=e.domain;return e.ticks=function(n){var r=t();return Wv(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return sj(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,l=r.length-1,u=r[o],d=r[l],f,p,g=10;for(d<u&&(p=u,u=d,d=p,p=o,o=l,l=p);g-- >0;){if(p=Kv(u,d,n),p===f)return r[o]=u,r[l]=d,t(r);if(p>0)u=Math.floor(u/p)*p,d=Math.ceil(d/p)*p;else if(p<0)u=Math.ceil(u*p)/p,d=Math.floor(d*p)/p;else break;f=p}return e},e}function gd(){var e=wx();return e.copy=function(){return cu(e,gd())},vr.apply(e,arguments),sa(e)}function lj(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,hd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return lj(e).unknown(t)},e=arguments.length?Array.from(e,hd):[0,1],sa(n)}function uj(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],l=e[r],u;return l<o&&(u=n,n=r,r=u,u=o,o=l,l=u),e[n]=t.floor(o),e[r]=t.ceil(l),e}function HA(e){return Math.log(e)}function WA(e){return Math.exp(e)}function s5(e){return-Math.log(-e)}function l5(e){return-Math.exp(-e)}function u5(e){return isFinite(e)?+("1e"+e):e<0?0:e}function c5(e){return e===10?u5:e===Math.E?Math.exp:t=>Math.pow(e,t)}function d5(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function KA(e){return(t,n)=>-e(-t,n)}function _x(e){const t=e(HA,WA),n=t.domain;let r=10,o,l;function u(){return o=d5(r),l=c5(r),n()[0]<0?(o=KA(o),l=KA(l),e(s5,l5)):e(HA,WA),t}return t.base=function(d){return arguments.length?(r=+d,u()):r},t.domain=function(d){return arguments.length?(n(d),u()):n()},t.ticks=d=>{const f=n();let p=f[0],g=f[f.length-1];const m=g<p;m&&([p,g]=[g,p]);let v=o(p),w=o(g),_,x;const b=d==null?10:+d;let E=[];if(!(r%1)&&w-v<b){if(v=Math.floor(v),w=Math.ceil(w),p>0){for(;v<=w;++v)for(_=1;_<r;++_)if(x=v<0?_/l(-v):_*l(v),!(x<p)){if(x>g)break;E.push(x)}}else for(;v<=w;++v)for(_=r-1;_>=1;--_)if(x=v>0?_/l(-v):_*l(v),!(x<p)){if(x>g)break;E.push(x)}E.length*2<b&&(E=Wv(p,g,b))}else E=Wv(v,w,Math.min(w-v,b)).map(l);return m?E.reverse():E},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Rl(f)).precision==null&&(f.trim=!0),f=Nx(f)),d===1/0)return f;const p=Math.max(1,r*d/t.ticks().length);return g=>{let m=g/l(Math.round(o(g)));return m*r<r-.5&&(m*=r),m<=p?f(g):""}},t.nice=()=>n(uj(n(),{floor:d=>l(Math.floor(o(d))),ceil:d=>l(Math.ceil(o(d)))})),t}function cj(){const e=_x(cf()).domain([1,10]);return e.copy=()=>cu(e,cj()).base(e.base()),vr.apply(e,arguments),e}function JA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ax(e){var t=1,n=e(JA(t),YA(t));return n.constant=function(r){return arguments.length?e(JA(t=+r),YA(t)):t},sa(n)}function dj(){var e=Ax(cf());return e.copy=function(){return cu(e,dj()).constant(e.constant())},vr.apply(e,arguments)}function XA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function f5(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function p5(e){return e<0?-e*e:e*e}function Tx(e){var t=e(In,In),n=1;function r(){return n===1?e(In,In):n===.5?e(f5,p5):e(XA(n),XA(1/n))}return t.exponent=function(o){return arguments.length?(n=+o,r()):n},sa(t)}function Cx(){var e=Tx(cf());return e.copy=function(){return cu(e,Cx()).exponent(e.exponent())},vr.apply(e,arguments),e}function h5(){return Cx.apply(null,arguments).exponent(.5)}function ZA(e){return Math.sign(e)*e*e}function m5(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fj(){var e=wx(),t=[0,1],n=!1,r;function o(l){var u=m5(e(l));return isNaN(u)?r:n?Math.round(u):u}return o.invert=function(l){return e.invert(ZA(l))},o.domain=function(l){return arguments.length?(e.domain(l),o):e.domain()},o.range=function(l){return arguments.length?(e.range((t=Array.from(l,hd)).map(ZA)),o):t.slice()},o.rangeRound=function(l){return o.range(l).round(!0)},o.round=function(l){return arguments.length?(n=!!l,o):n},o.clamp=function(l){return arguments.length?(e.clamp(l),o):e.clamp()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.copy=function(){return fj(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},vr.apply(o,arguments),sa(o)}function pj(){var e=[],t=[],n=[],r;function o(){var u=0,d=Math.max(1,t.length);for(n=new Array(d-1);++u<d;)n[u-1]=b3(e,u/d);return l}function l(u){return u==null||isNaN(u=+u)?r:t[lu(n,u)]}return l.invertExtent=function(u){var d=t.indexOf(u);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let d of u)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(ia),o()},l.range=function(u){return arguments.length?(t=Array.from(u),o()):t.slice()},l.unknown=function(u){return arguments.length?(r=u,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return pj().domain(e).range(t).unknown(r)},vr.apply(l,arguments)}function hj(){var e=0,t=1,n=1,r=[.5],o=[0,1],l;function u(f){return f!=null&&f<=f?o[lu(r,f,0,n)]:l}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return u}return u.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},u.range=function(f){return arguments.length?(n=(o=Array.from(f)).length-1,d()):o.slice()},u.invertExtent=function(f){var p=o.indexOf(f);return p<0?[NaN,NaN]:p<1?[e,r[0]]:p>=n?[r[n-1],t]:[r[p-1],r[p]]},u.unknown=function(f){return arguments.length&&(l=f),u},u.thresholds=function(){return r.slice()},u.copy=function(){return hj().domain([e,t]).range(o).unknown(l)},vr.apply(sa(u),arguments)}function mj(){var e=[.5],t=[0,1],n,r=1;function o(l){return l!=null&&l<=l?t[lu(e,l,0,r)]:n}return o.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(l){var u=t.indexOf(l);return[e[u-1],e[u]]},o.unknown=function(l){return arguments.length?(n=l,o):n},o.copy=function(){return mj().domain(e).range(t).unknown(n)},vr.apply(o,arguments)}const jy=new Date,Iy=new Date;function ln(e,t,n,r){function o(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=l=>(e(l=new Date(+l)),l),o.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),o.round=l=>{const u=o(l),d=o.ceil(l);return l-u<d-l?u:d},o.offset=(l,u)=>(t(l=new Date(+l),u==null?1:Math.floor(u)),l),o.range=(l,u,d)=>{const f=[];if(l=o.ceil(l),d=d==null?1:Math.floor(d),!(l<u)||!(d>0))return f;let p;do f.push(p=new Date(+l)),t(l,d),e(l);while(p<l&&l<u);return f},o.filter=l=>ln(u=>{if(u>=u)for(;e(u),!l(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!l(u););else for(;--d>=0;)for(;t(u,1),!l(u););}),n&&(o.count=(l,u)=>(jy.setTime(+l),Iy.setTime(+u),e(jy),e(Iy),Math.floor(n(jy,Iy))),o.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(r?u=>r(u)%l===0:u=>o.count(0,u)%l===0):o)),o}const yd=ln(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ln(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):yd);yd.range;const mi=1e3,mr=mi*60,gi=mr*60,Si=gi*24,Ex=Si*7,QA=Si*30,ky=Si*365,Ma=ln(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getUTCSeconds());Ma.range;const Px=ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mi)},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getMinutes());Px.range;const jx=ln(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mr)},(e,t)=>(t-e)/mr,e=>e.getUTCMinutes());jx.range;const Ix=ln(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*mi-e.getMinutes()*mr)},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getHours());Ix.range;const kx=ln(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*gi)},(e,t)=>(t-e)/gi,e=>e.getUTCHours());kx.range;const du=ln(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mr)/Si,e=>e.getDate()-1);du.range;const df=ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Si,e=>e.getUTCDate()-1);df.range;const gj=ln(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Si,e=>Math.floor(e/Si));gj.range;function Ka(e){return ln(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*mr)/Ex)}const ff=Ka(0),vd=Ka(1),g5=Ka(2),y5=Ka(3),Bo=Ka(4),v5=Ka(5),x5=Ka(6);ff.range;vd.range;g5.range;y5.range;Bo.range;v5.range;x5.range;function Ja(e){return ln(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ex)}const pf=Ja(0),xd=Ja(1),b5=Ja(2),w5=Ja(3),zo=Ja(4),S5=Ja(5),N5=Ja(6);pf.range;xd.range;b5.range;w5.range;zo.range;S5.range;N5.range;const Mx=ln(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Mx.range;const Rx=ln(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Rx.range;const Ni=ln(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ln(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ni.range;const _i=ln(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ln(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});_i.range;function yj(e,t,n,r,o,l){const u=[[Ma,1,mi],[Ma,5,5*mi],[Ma,15,15*mi],[Ma,30,30*mi],[l,1,mr],[l,5,5*mr],[l,15,15*mr],[l,30,30*mr],[o,1,gi],[o,3,3*gi],[o,6,6*gi],[o,12,12*gi],[r,1,Si],[r,2,2*Si],[n,1,Ex],[t,1,QA],[t,3,3*QA],[e,1,ky]];function d(p,g,m){const v=g<p;v&&([p,g]=[g,p]);const w=m&&typeof m.range=="function"?m:f(p,g,m),_=w?w.range(p,+g+1):[];return v?_.reverse():_}function f(p,g,m){const v=Math.abs(g-p)/m,w=gx(([,,b])=>b).right(u,v);if(w===u.length)return e.every(Jv(p/ky,g/ky,m));if(w===0)return yd.every(Math.max(Jv(p,g,m),1));const[_,x]=u[v/u[w-1][2]<u[w][2]/v?w-1:w];return _.every(x)}return[d,f]}const[_5,A5]=yj(_i,Rx,pf,gj,kx,jx),[T5,C5]=yj(Ni,Mx,ff,du,Ix,Px);function My(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ry(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function rl(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function E5(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,l=e.days,u=e.shortDays,d=e.months,f=e.shortMonths,p=il(o),g=al(o),m=il(l),v=al(l),w=il(u),_=al(u),x=il(d),b=al(d),E=il(f),A=al(f),T={a:oe,A:J,b:F,B:X,c:null,d:aT,e:aT,f:X5,g:s$,G:u$,H:K5,I:J5,j:Y5,L:vj,m:Z5,M:Q5,p:O,q:H,Q:lT,s:uT,S:e$,u:t$,U:n$,V:r$,w:i$,W:a$,x:null,X:null,y:o$,Y:l$,Z:c$,"%":sT},P={a:fe,A:G,b:pe,B:me,c:null,d:oT,e:oT,f:h$,g:_$,G:T$,H:d$,I:f$,j:p$,L:bj,m:m$,M:g$,p:ne,q:ve,Q:lT,s:uT,S:y$,u:v$,U:x$,V:b$,w:w$,W:S$,x:null,X:null,y:N$,Y:A$,Z:C$,"%":sT},N={a:W,A:q,b:D,B,c:ee,d:rT,e:rT,f:V5,g:nT,G:tT,H:iT,I:iT,j:F5,L:z5,m:q5,M:U5,p:L,q:$5,Q:H5,s:W5,S:B5,u:M5,U:R5,V:O5,w:k5,W:D5,x:Q,X:ae,y:nT,Y:tT,Z:L5,"%":G5};T.x=C(n,T),T.X=C(r,T),T.c=C(t,T),P.x=C(n,P),P.X=C(r,P),P.c=C(t,P);function C(re,ge){return function(xe){var $=[],Ae=-1,Se=0,Re=re.length,Y,le,te;for(xe instanceof Date||(xe=new Date(+xe));++Ae<Re;)re.charCodeAt(Ae)===37&&($.push(re.slice(Se,Ae)),(le=eT[Y=re.charAt(++Ae)])!=null?Y=re.charAt(++Ae):le=Y==="e"?" ":"0",(te=ge[Y])&&(Y=te(xe,le)),$.push(Y),Se=Ae+1);return $.push(re.slice(Se,Ae)),$.join("")}}function I(re,ge){return function(xe){var $=rl(1900,void 0,1),Ae=R($,re,xe+="",0),Se,Re;if(Ae!=xe.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(ge&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(Se=Ry(rl($.y,0,1)),Re=Se.getUTCDay(),Se=Re>4||Re===0?xd.ceil(Se):xd(Se),Se=df.offset(Se,($.V-1)*7),$.y=Se.getUTCFullYear(),$.m=Se.getUTCMonth(),$.d=Se.getUTCDate()+($.w+6)%7):(Se=My(rl($.y,0,1)),Re=Se.getDay(),Se=Re>4||Re===0?vd.ceil(Se):vd(Se),Se=du.offset(Se,($.V-1)*7),$.y=Se.getFullYear(),$.m=Se.getMonth(),$.d=Se.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Re="Z"in $?Ry(rl($.y,0,1)).getUTCDay():My(rl($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Re+5)%7:$.w+$.U*7-(Re+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Ry($)):My($)}}function R(re,ge,xe,$){for(var Ae=0,Se=ge.length,Re=xe.length,Y,le;Ae<Se;){if($>=Re)return-1;if(Y=ge.charCodeAt(Ae++),Y===37){if(Y=ge.charAt(Ae++),le=N[Y in eT?ge.charAt(Ae++):Y],!le||($=le(re,xe,$))<0)return-1}else if(Y!=xe.charCodeAt($++))return-1}return $}function L(re,ge,xe){var $=p.exec(ge.slice(xe));return $?(re.p=g.get($[0].toLowerCase()),xe+$[0].length):-1}function W(re,ge,xe){var $=w.exec(ge.slice(xe));return $?(re.w=_.get($[0].toLowerCase()),xe+$[0].length):-1}function q(re,ge,xe){var $=m.exec(ge.slice(xe));return $?(re.w=v.get($[0].toLowerCase()),xe+$[0].length):-1}function D(re,ge,xe){var $=E.exec(ge.slice(xe));return $?(re.m=A.get($[0].toLowerCase()),xe+$[0].length):-1}function B(re,ge,xe){var $=x.exec(ge.slice(xe));return $?(re.m=b.get($[0].toLowerCase()),xe+$[0].length):-1}function ee(re,ge,xe){return R(re,t,ge,xe)}function Q(re,ge,xe){return R(re,n,ge,xe)}function ae(re,ge,xe){return R(re,r,ge,xe)}function oe(re){return u[re.getDay()]}function J(re){return l[re.getDay()]}function F(re){return f[re.getMonth()]}function X(re){return d[re.getMonth()]}function O(re){return o[+(re.getHours()>=12)]}function H(re){return 1+~~(re.getMonth()/3)}function fe(re){return u[re.getUTCDay()]}function G(re){return l[re.getUTCDay()]}function pe(re){return f[re.getUTCMonth()]}function me(re){return d[re.getUTCMonth()]}function ne(re){return o[+(re.getUTCHours()>=12)]}function ve(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ge=C(re+="",T);return ge.toString=function(){return re},ge},parse:function(re){var ge=I(re+="",!1);return ge.toString=function(){return re},ge},utcFormat:function(re){var ge=C(re+="",P);return ge.toString=function(){return re},ge},utcParse:function(re){var ge=I(re+="",!0);return ge.toString=function(){return re},ge}}}var eT={"-":"",_:" ",0:"0"},hn=/^\s*\d+/,P5=/^%/,j5=/[\\^$*+?|[\]().{}]/g;function bt(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",l=o.length;return r+(l<n?new Array(n-l+1).join(t)+o:o)}function I5(e){return e.replace(j5,"\\$&")}function il(e){return new RegExp("^(?:"+e.map(I5).join("|")+")","i")}function al(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function k5(e,t,n){var r=hn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function M5(e,t,n){var r=hn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function R5(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function O5(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function D5(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function tT(e,t,n){var r=hn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function nT(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function L5(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $5(e,t,n){var r=hn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function q5(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function rT(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function F5(e,t,n){var r=hn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function iT(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function U5(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function B5(e,t,n){var r=hn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function z5(e,t,n){var r=hn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function V5(e,t,n){var r=hn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function G5(e,t,n){var r=P5.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function H5(e,t,n){var r=hn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function W5(e,t,n){var r=hn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function aT(e,t){return bt(e.getDate(),t,2)}function K5(e,t){return bt(e.getHours(),t,2)}function J5(e,t){return bt(e.getHours()%12||12,t,2)}function Y5(e,t){return bt(1+du.count(Ni(e),e),t,3)}function vj(e,t){return bt(e.getMilliseconds(),t,3)}function X5(e,t){return vj(e,t)+"000"}function Z5(e,t){return bt(e.getMonth()+1,t,2)}function Q5(e,t){return bt(e.getMinutes(),t,2)}function e$(e,t){return bt(e.getSeconds(),t,2)}function t$(e){var t=e.getDay();return t===0?7:t}function n$(e,t){return bt(ff.count(Ni(e)-1,e),t,2)}function xj(e){var t=e.getDay();return t>=4||t===0?Bo(e):Bo.ceil(e)}function r$(e,t){return e=xj(e),bt(Bo.count(Ni(e),e)+(Ni(e).getDay()===4),t,2)}function i$(e){return e.getDay()}function a$(e,t){return bt(vd.count(Ni(e)-1,e),t,2)}function o$(e,t){return bt(e.getFullYear()%100,t,2)}function s$(e,t){return e=xj(e),bt(e.getFullYear()%100,t,2)}function l$(e,t){return bt(e.getFullYear()%1e4,t,4)}function u$(e,t){var n=e.getDay();return e=n>=4||n===0?Bo(e):Bo.ceil(e),bt(e.getFullYear()%1e4,t,4)}function c$(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bt(t/60|0,"0",2)+bt(t%60,"0",2)}function oT(e,t){return bt(e.getUTCDate(),t,2)}function d$(e,t){return bt(e.getUTCHours(),t,2)}function f$(e,t){return bt(e.getUTCHours()%12||12,t,2)}function p$(e,t){return bt(1+df.count(_i(e),e),t,3)}function bj(e,t){return bt(e.getUTCMilliseconds(),t,3)}function h$(e,t){return bj(e,t)+"000"}function m$(e,t){return bt(e.getUTCMonth()+1,t,2)}function g$(e,t){return bt(e.getUTCMinutes(),t,2)}function y$(e,t){return bt(e.getUTCSeconds(),t,2)}function v$(e){var t=e.getUTCDay();return t===0?7:t}function x$(e,t){return bt(pf.count(_i(e)-1,e),t,2)}function wj(e){var t=e.getUTCDay();return t>=4||t===0?zo(e):zo.ceil(e)}function b$(e,t){return e=wj(e),bt(zo.count(_i(e),e)+(_i(e).getUTCDay()===4),t,2)}function w$(e){return e.getUTCDay()}function S$(e,t){return bt(xd.count(_i(e)-1,e),t,2)}function N$(e,t){return bt(e.getUTCFullYear()%100,t,2)}function _$(e,t){return e=wj(e),bt(e.getUTCFullYear()%100,t,2)}function A$(e,t){return bt(e.getUTCFullYear()%1e4,t,4)}function T$(e,t){var n=e.getUTCDay();return e=n>=4||n===0?zo(e):zo.ceil(e),bt(e.getUTCFullYear()%1e4,t,4)}function C$(){return"+0000"}function sT(){return"%"}function lT(e){return+e}function uT(e){return Math.floor(+e/1e3)}var _o,Sj,Nj;E$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function E$(e){return _o=E5(e),Sj=_o.format,_o.parse,Nj=_o.utcFormat,_o.utcParse,_o}function P$(e){return new Date(e)}function j$(e){return e instanceof Date?+e:+new Date(+e)}function Ox(e,t,n,r,o,l,u,d,f,p){var g=wx(),m=g.invert,v=g.domain,w=p(".%L"),_=p(":%S"),x=p("%I:%M"),b=p("%I %p"),E=p("%a %d"),A=p("%b %d"),T=p("%B"),P=p("%Y");function N(C){return(f(C)<C?w:d(C)<C?_:u(C)<C?x:l(C)<C?b:r(C)<C?o(C)<C?E:A:n(C)<C?T:P)(C)}return g.invert=function(C){return new Date(m(C))},g.domain=function(C){return arguments.length?v(Array.from(C,j$)):v().map(P$)},g.ticks=function(C){var I=v();return e(I[0],I[I.length-1],C??10)},g.tickFormat=function(C,I){return I==null?N:p(I)},g.nice=function(C){var I=v();return(!C||typeof C.range!="function")&&(C=t(I[0],I[I.length-1],C??10)),C?v(uj(I,C)):g},g.copy=function(){return cu(g,Ox(e,t,n,r,o,l,u,d,f,p))},g}function I$(){return vr.apply(Ox(T5,C5,Ni,Mx,ff,du,Ix,Px,Ma,Sj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k$(){return vr.apply(Ox(_5,A5,_i,Rx,pf,df,kx,jx,Ma,Nj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function hf(){var e=0,t=1,n,r,o,l,u=In,d=!1,f;function p(m){return m==null||isNaN(m=+m)?f:u(o===0?.5:(m=(l(m)-n)*o,d?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t]=m,n=l(e=+e),r=l(t=+t),o=n===r?0:1/(r-n),p):[e,t]},p.clamp=function(m){return arguments.length?(d=!!m,p):d},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var w,_;return arguments.length?([w,_]=v,u=m(w,_),p):[u(0),u(1)]}}return p.range=g(ps),p.rangeRound=g(bx),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return l=m,n=m(e),r=m(t),o=n===r?0:1/(r-n),p}}function la(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _j(){var e=sa(hf()(In));return e.copy=function(){return la(e,_j())},Ci.apply(e,arguments)}function Aj(){var e=_x(hf()).domain([1,10]);return e.copy=function(){return la(e,Aj()).base(e.base())},Ci.apply(e,arguments)}function Tj(){var e=Ax(hf());return e.copy=function(){return la(e,Tj()).constant(e.constant())},Ci.apply(e,arguments)}function Dx(){var e=Tx(hf());return e.copy=function(){return la(e,Dx()).exponent(e.exponent())},Ci.apply(e,arguments)}function M$(){return Dx.apply(null,arguments).exponent(.5)}function Cj(){var e=[],t=In;function n(r){if(r!=null&&!isNaN(r=+r))return t((lu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let o of r)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ia),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,o)=>t(o/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(o,l)=>x3(e,l/r))},n.copy=function(){return Cj(t).domain(e)},Ci.apply(n,arguments)}function mf(){var e=0,t=.5,n=1,r=1,o,l,u,d,f,p=In,g,m=!1,v;function w(x){return isNaN(x=+x)?v:(x=.5+((x=+g(x))-l)*(r*x<r*l?d:f),p(m?Math.max(0,Math.min(1,x)):x))}w.domain=function(x){return arguments.length?([e,t,n]=x,o=g(e=+e),l=g(t=+t),u=g(n=+n),d=o===l?0:.5/(l-o),f=l===u?0:.5/(u-l),r=l<o?-1:1,w):[e,t,n]},w.clamp=function(x){return arguments.length?(m=!!x,w):m},w.interpolator=function(x){return arguments.length?(p=x,w):p};function _(x){return function(b){var E,A,T;return arguments.length?([E,A,T]=b,p=G3(x,[E,A,T]),w):[p(0),p(.5),p(1)]}}return w.range=_(ps),w.rangeRound=_(bx),w.unknown=function(x){return arguments.length?(v=x,w):v},function(x){return g=x,o=x(e),l=x(t),u=x(n),d=o===l?0:.5/(l-o),f=l===u?0:.5/(u-l),r=l<o?-1:1,w}}function Ej(){var e=sa(mf()(In));return e.copy=function(){return la(e,Ej())},Ci.apply(e,arguments)}function Pj(){var e=_x(mf()).domain([.1,1,10]);return e.copy=function(){return la(e,Pj()).base(e.base())},Ci.apply(e,arguments)}function jj(){var e=Ax(mf());return e.copy=function(){return la(e,jj()).constant(e.constant())},Ci.apply(e,arguments)}function Lx(){var e=Tx(mf());return e.copy=function(){return la(e,Lx()).exponent(e.exponent())},Ci.apply(e,arguments)}function R$(){return Lx.apply(null,arguments).exponent(.5)}const cT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jl,scaleDiverging:Ej,scaleDivergingLog:Pj,scaleDivergingPow:Lx,scaleDivergingSqrt:R$,scaleDivergingSymlog:jj,scaleIdentity:lj,scaleImplicit:Yv,scaleLinear:gd,scaleLog:cj,scaleOrdinal:yx,scalePoint:hl,scalePow:Cx,scaleQuantile:pj,scaleQuantize:hj,scaleRadial:fj,scaleSequential:_j,scaleSequentialLog:Aj,scaleSequentialPow:Dx,scaleSequentialQuantile:Cj,scaleSequentialSqrt:M$,scaleSequentialSymlog:Tj,scaleSqrt:h5,scaleSymlog:dj,scaleThreshold:mj,scaleTime:I$,scaleUtc:k$,tickFormat:sj},Symbol.toStringTag,{value:"Module"}));var Oy,dT;function gf(){if(dT)return Oy;dT=1;var e=ls();function t(n,r,o){for(var l=-1,u=n.length;++l<u;){var d=n[l],f=r(d);if(f!=null&&(p===void 0?f===f&&!e(f):o(f,p)))var p=f,g=d}return g}return Oy=t,Oy}var Dy,fT;function Ij(){if(fT)return Dy;fT=1;function e(t,n){return t>n}return Dy=e,Dy}var Ly,pT;function O$(){if(pT)return Ly;pT=1;var e=gf(),t=Ij(),n=fs();function r(o){return o&&o.length?e(o,n,t):void 0}return Ly=r,Ly}var D$=O$();const Qi=_t(D$);var $y,hT;function kj(){if(hT)return $y;hT=1;function e(t,n){return t<n}return $y=e,$y}var qy,mT;function L$(){if(mT)return qy;mT=1;var e=gf(),t=kj(),n=fs();function r(o){return o&&o.length?e(o,n,t):void 0}return qy=r,qy}var $$=L$();const yf=_t($$);var Fy,gT;function q$(){if(gT)return Fy;gT=1;var e=Q0(),t=Kr(),n=F2(),r=Vn();function o(l,u){var d=r(l)?e:n;return d(l,t(u,3))}return Fy=o,Fy}var Uy,yT;function F$(){if(yT)return Uy;yT=1;var e=$2(),t=q$();function n(r,o){return e(t(r,o),1)}return Uy=n,Uy}var U$=F$();const B$=_t(U$);var By,vT;function z$(){if(vT)return By;vT=1;var e=fx();function t(n,r){return e(n,r)}return By=t,By}var V$=z$();const Vo=_t(V$);var hs=1e9,G$={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qx,Bt=!0,yr="[DecimalError] ",$a=yr+"Invalid argument: ",$x=yr+"Exponent out of range: ",ms=Math.floor,Pa=Math.pow,H$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tr,fn=1e7,Dt=7,Mj=9007199254740991,bd=ms(Mj/Dt),Ve={};Ve.absoluteValue=Ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ve.comparedTo=Ve.cmp=function(e){var t,n,r,o,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,o=e.d.length,t=0,n=r<o?r:o;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===o?0:r>o^l.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Dt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(e){return bi(this,new this.constructor(e))};Ve.dividedToIntegerBy=Ve.idiv=function(e){var t=this,n=t.constructor;return Et(bi(t,new n(e),0,1),n.precision)};Ve.equals=Ve.eq=function(e){return!this.cmp(e)};Ve.exponent=function(){return en(this)};Ve.greaterThan=Ve.gt=function(e){return this.cmp(e)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(e){return this.cmp(e)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(e){return this.cmp(e)<0};Ve.lessThanOrEqualTo=Ve.lte=function(e){return this.cmp(e)<1};Ve.logarithm=Ve.log=function(e){var t,n=this,r=n.constructor,o=r.precision,l=o+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(tr))throw Error(yr+"NaN");if(n.s<1)throw Error(yr+(n.s?"NaN":"-Infinity"));return n.eq(tr)?new r(0):(Bt=!1,t=bi(Ol(n,l),Ol(e,l),l),Bt=!0,Et(t,o))};Ve.minus=Ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Dj(t,e):Rj(t,(e.s=-e.s,e))};Ve.modulo=Ve.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(e=new r(e),!e.s)throw Error(yr+"NaN");return n.s?(Bt=!1,t=bi(n,e,0,1).times(e),Bt=!0,n.minus(t)):Et(new r(n),o)};Ve.naturalExponential=Ve.exp=function(){return Oj(this)};Ve.naturalLogarithm=Ve.ln=function(){return Ol(this)};Ve.negated=Ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ve.plus=Ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Rj(t,e):Dj(t,(e.s=-e.s,e))};Ve.precision=Ve.sd=function(e){var t,n,r,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error($a+e);if(t=en(o)+1,r=o.d.length-1,n=r*Dt+1,r=o.d[r],r){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ve.squareRoot=Ve.sqrt=function(){var e,t,n,r,o,l,u,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(yr+"NaN")}for(e=en(d),Bt=!1,o=Math.sqrt(+d),o==0||o==1/0?(t=Ur(d.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=ms((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(o.toString()),n=f.precision,o=u=n+3;;)if(l=r,r=l.plus(bi(d,l,u+2)).times(.5),Ur(l.d).slice(0,u)===(t=Ur(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),o==u&&t=="4999"){if(Et(l,n+1,0),l.times(l).eq(d)){r=l;break}}else if(t!="9999")break;u+=4}return Bt=!0,Et(r,n)};Ve.times=Ve.mul=function(e){var t,n,r,o,l,u,d,f,p,g=this,m=g.constructor,v=g.d,w=(e=new m(e)).d;if(!g.s||!e.s)return new m(0);for(e.s*=g.s,n=g.e+e.e,f=v.length,p=w.length,f<p&&(l=v,v=w,w=l,u=f,f=p,p=u),l=[],u=f+p,r=u;r--;)l.push(0);for(r=p;--r>=0;){for(t=0,o=f+r;o>r;)d=l[o]+w[r]*v[o-r-1]+t,l[o--]=d%fn|0,t=d/fn|0;l[o]=(l[o]+t)%fn|0}for(;!l[--u];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,Bt?Et(e,m.precision):e};Ve.toDecimalPlaces=Ve.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Gr(e,0,hs),t===void 0?t=r.rounding:Gr(t,0,8),Et(n,e+en(n)+1,t))};Ve.toExponential=function(e,t){var n,r=this,o=r.constructor;return e===void 0?n=za(r,!0):(Gr(e,0,hs),t===void 0?t=o.rounding:Gr(t,0,8),r=Et(new o(r),e+1,t),n=za(r,!0,e+1)),n};Ve.toFixed=function(e,t){var n,r,o=this,l=o.constructor;return e===void 0?za(o):(Gr(e,0,hs),t===void 0?t=l.rounding:Gr(t,0,8),r=Et(new l(o),e+en(o)+1,t),n=za(r.abs(),!1,e+en(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var e=this,t=e.constructor;return Et(new t(e),en(e)+1,t.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(e){var t,n,r,o,l,u,d=this,f=d.constructor,p=12,g=+(e=new f(e));if(!e.s)return new f(tr);if(d=new f(d),!d.s){if(e.s<1)throw Error(yr+"Infinity");return d}if(d.eq(tr))return d;if(r=f.precision,e.eq(tr))return Et(d,r);if(t=e.e,n=e.d.length-1,u=t>=n,l=d.s,u){if((n=g<0?-g:g)<=Mj){for(o=new f(tr),t=Math.ceil(r/Dt+4),Bt=!1;n%2&&(o=o.times(d),bT(o.d,t)),n=ms(n/2),n!==0;)d=d.times(d),bT(d.d,t);return Bt=!0,e.s<0?new f(tr).div(o):Et(o,r)}}else if(l<0)throw Error(yr+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Bt=!1,o=e.times(Ol(d,r+p)),Bt=!0,o=Oj(o),o.s=l,o};Ve.toPrecision=function(e,t){var n,r,o=this,l=o.constructor;return e===void 0?(n=en(o),r=za(o,n<=l.toExpNeg||n>=l.toExpPos)):(Gr(e,1,hs),t===void 0?t=l.rounding:Gr(t,0,8),o=Et(new l(o),e,t),n=en(o),r=za(o,e<=n||n<=l.toExpNeg,e)),r};Ve.toSignificantDigits=Ve.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Gr(e,1,hs),t===void 0?t=r.rounding:Gr(t,0,8)),Et(new r(n),e,t)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=en(e),n=e.constructor;return za(e,t<=n.toExpNeg||t>=n.toExpPos)};function Rj(e,t){var n,r,o,l,u,d,f,p,g=e.constructor,m=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),Bt?Et(t,m):t;if(f=e.d,p=t.d,u=e.e,o=t.e,f=f.slice(),l=u-o,l){for(l<0?(r=f,l=-l,d=p.length):(r=p,o=u,d=f.length),u=Math.ceil(m/Dt),d=u>d?u+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=f.length,l=p.length,d-l<0&&(l=d,r=p,p=f,f=r),n=0;l;)n=(f[--l]=f[l]+p[l]+n)/fn|0,f[l]%=fn;for(n&&(f.unshift(n),++o),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=o,Bt?Et(t,m):t}function Gr(e,t,n){if(e!==~~e||e<t||e>n)throw Error($a+e)}function Ur(e){var t,n,r,o=e.length-1,l="",u=e[0];if(o>0){for(l+=u,t=1;t<o;t++)r=e[t]+"",n=Dt-r.length,n&&(l+=Xi(n)),l+=r;u=e[t],r=u+"",n=Dt-r.length,n&&(l+=Xi(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return l+u}var bi=(function(){function e(r,o){var l,u=0,d=r.length;for(r=r.slice();d--;)l=r[d]*o+u,r[d]=l%fn|0,u=l/fn|0;return u&&r.unshift(u),r}function t(r,o,l,u){var d,f;if(l!=u)f=l>u?1:-1;else for(d=f=0;d<l;d++)if(r[d]!=o[d]){f=r[d]>o[d]?1:-1;break}return f}function n(r,o,l){for(var u=0;l--;)r[l]-=u,u=r[l]<o[l]?1:0,r[l]=u*fn+r[l]-o[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,o,l,u){var d,f,p,g,m,v,w,_,x,b,E,A,T,P,N,C,I,R,L=r.constructor,W=r.s==o.s?1:-1,q=r.d,D=o.d;if(!r.s)return new L(r);if(!o.s)throw Error(yr+"Division by zero");for(f=r.e-o.e,I=D.length,N=q.length,w=new L(W),_=w.d=[],p=0;D[p]==(q[p]||0);)++p;if(D[p]>(q[p]||0)&&--f,l==null?A=l=L.precision:u?A=l+(en(r)-en(o))+1:A=l,A<0)return new L(0);if(A=A/Dt+2|0,p=0,I==1)for(g=0,D=D[0],A++;(p<N||g)&&A--;p++)T=g*fn+(q[p]||0),_[p]=T/D|0,g=T%D|0;else{for(g=fn/(D[0]+1)|0,g>1&&(D=e(D,g),q=e(q,g),I=D.length,N=q.length),P=I,x=q.slice(0,I),b=x.length;b<I;)x[b++]=0;R=D.slice(),R.unshift(0),C=D[0],D[1]>=fn/2&&++C;do g=0,d=t(D,x,I,b),d<0?(E=x[0],I!=b&&(E=E*fn+(x[1]||0)),g=E/C|0,g>1?(g>=fn&&(g=fn-1),m=e(D,g),v=m.length,b=x.length,d=t(m,x,v,b),d==1&&(g--,n(m,I<v?R:D,v))):(g==0&&(d=g=1),m=D.slice()),v=m.length,v<b&&m.unshift(0),n(x,m,b),d==-1&&(b=x.length,d=t(D,x,I,b),d<1&&(g++,n(x,I<b?R:D,b))),b=x.length):d===0&&(g++,x=[0]),_[p++]=g,d&&x[0]?x[b++]=q[P]||0:(x=[q[P]],b=1);while((P++<N||x[0]!==void 0)&&A--)}return _[0]||_.shift(),w.e=f,Et(w,u?l+en(w)+1:l)}})();function Oj(e,t){var n,r,o,l,u,d,f=0,p=0,g=e.constructor,m=g.precision;if(en(e)>16)throw Error($x+en(e));if(!e.s)return new g(tr);for(Bt=!1,d=m,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),p+=5;for(r=Math.log(Pa(2,p))/Math.LN10*2+5|0,d+=r,n=o=l=new g(tr),g.precision=d;;){if(o=Et(o.times(e),d),n=n.times(++f),u=l.plus(bi(o,n,d)),Ur(u.d).slice(0,d)===Ur(l.d).slice(0,d)){for(;p--;)l=Et(l.times(l),d);return g.precision=m,t==null?(Bt=!0,Et(l,m)):l}l=u}}function en(e){for(var t=e.e*Dt,n=e.d[0];n>=10;n/=10)t++;return t}function zy(e,t,n){if(t>e.LN10.sd())throw Bt=!0,n&&(e.precision=n),Error(yr+"LN10 precision limit exceeded");return Et(new e(e.LN10),t)}function Xi(e){for(var t="";e--;)t+="0";return t}function Ol(e,t){var n,r,o,l,u,d,f,p,g,m=1,v=10,w=e,_=w.d,x=w.constructor,b=x.precision;if(w.s<1)throw Error(yr+(w.s?"NaN":"-Infinity"));if(w.eq(tr))return new x(0);if(t==null?(Bt=!1,p=b):p=t,w.eq(10))return t==null&&(Bt=!0),zy(x,p);if(p+=v,x.precision=p,n=Ur(_),r=n.charAt(0),l=en(w),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)w=w.times(e),n=Ur(w.d),r=n.charAt(0),m++;l=en(w),r>1?(w=new x("0."+n),l++):w=new x(r+"."+n.slice(1))}else return f=zy(x,p+2,b).times(l+""),w=Ol(new x(r+"."+n.slice(1)),p-v).plus(f),x.precision=b,t==null?(Bt=!0,Et(w,b)):w;for(d=u=w=bi(w.minus(tr),w.plus(tr),p),g=Et(w.times(w),p),o=3;;){if(u=Et(u.times(g),p),f=d.plus(bi(u,new x(o),p)),Ur(f.d).slice(0,p)===Ur(d.d).slice(0,p))return d=d.times(2),l!==0&&(d=d.plus(zy(x,p+2,b).times(l+""))),d=bi(d,new x(m),p),x.precision=b,t==null?(Bt=!0,Et(d,b)):d;d=f,o+=2}}function xT(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(r,o),t){if(o-=r,n=n-r-1,e.e=ms(n/Dt),e.d=[],r=(n+1)%Dt,n<0&&(r+=Dt),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=Dt;r<o;)e.d.push(+t.slice(r,r+=Dt));t=t.slice(r),r=Dt-t.length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),Bt&&(e.e>bd||e.e<-bd))throw Error($x+n)}else e.s=0,e.e=0,e.d=[0];return e}function Et(e,t,n){var r,o,l,u,d,f,p,g,m=e.d;for(u=1,l=m[0];l>=10;l/=10)u++;if(r=t-u,r<0)r+=Dt,o=t,p=m[g=0];else{if(g=Math.ceil((r+1)/Dt),l=m.length,g>=l)return e;for(p=l=m[g],u=1;l>=10;l/=10)u++;r%=Dt,o=r-Dt+u}if(n!==void 0&&(l=Pa(10,u-o-1),d=p/l%10|0,f=t<0||m[g+1]!==void 0||p%l,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?o>0?p/Pa(10,u-o):0:m[g-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return f?(l=en(e),m.length=1,t=t-l-1,m[0]=Pa(10,(Dt-t%Dt)%Dt),e.e=ms(-t/Dt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=g,l=1,g--):(m.length=g+1,l=Pa(10,Dt-r),m[g]=o>0?(p/Pa(10,u-o)%Pa(10,o)|0)*l:0),f)for(;;)if(g==0){(m[0]+=l)==fn&&(m[0]=1,++e.e);break}else{if(m[g]+=l,m[g]!=fn)break;m[g--]=0,l=1}for(r=m.length;m[--r]===0;)m.pop();if(Bt&&(e.e>bd||e.e<-bd))throw Error($x+en(e));return e}function Dj(e,t){var n,r,o,l,u,d,f,p,g,m,v=e.constructor,w=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Bt?Et(t,w):t;if(f=e.d,m=t.d,r=t.e,p=e.e,f=f.slice(),u=p-r,u){for(g=u<0,g?(n=f,u=-u,d=m.length):(n=m,r=p,d=f.length),o=Math.max(Math.ceil(w/Dt),d)+2,u>o&&(u=o,n.length=1),n.reverse(),o=u;o--;)n.push(0);n.reverse()}else{for(o=f.length,d=m.length,g=o<d,g&&(d=o),o=0;o<d;o++)if(f[o]!=m[o]){g=f[o]<m[o];break}u=0}for(g&&(n=f,f=m,m=n,t.s=-t.s),d=f.length,o=m.length-d;o>0;--o)f[d++]=0;for(o=m.length;o>u;){if(f[--o]<m[o]){for(l=o;l&&f[--l]===0;)f[l]=fn-1;--f[l],f[o]+=fn}f[o]-=m[o]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,Bt?Et(t,w):t):new v(0)}function za(e,t,n){var r,o=en(e),l=Ur(e.d),u=l.length;return t?(n&&(r=n-u)>0?l=l.charAt(0)+"."+l.slice(1)+Xi(r):u>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(o<0?"e":"e+")+o):o<0?(l="0."+Xi(-o-1)+l,n&&(r=n-u)>0&&(l+=Xi(r))):o>=u?(l+=Xi(o+1-u),n&&(r=n-o-1)>0&&(l=l+"."+Xi(r))):((r=o+1)<u&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-u)>0&&(o+1===u&&(l+="."),l+=Xi(r))),e.s<0?"-"+l:l}function bT(e,t){if(e.length>t)return e.length=t,!0}function Lj(e){var t,n,r;function o(l){var u=this;if(!(u instanceof o))return new o(l);if(u.constructor=o,l instanceof o){u.s=l.s,u.e=l.e,u.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error($a+l);if(l>0)u.s=1;else if(l<0)l=-l,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(l===~~l&&l<1e7){u.e=0,u.d=[l];return}return xT(u,l.toString())}else if(typeof l!="string")throw Error($a+l);if(l.charCodeAt(0)===45?(l=l.slice(1),u.s=-1):u.s=1,H$.test(l))xT(u,l);else throw Error($a+l)}if(o.prototype=Ve,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=Lj,o.config=o.set=W$,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return o.config(e),o}function W$(e){if(!e||typeof e!="object")throw Error(yr+"Object expected");var t,n,r,o=["precision",1,hs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((r=e[n=o[t]])!==void 0)if(ms(r)===r&&r>=o[t+1]&&r<=o[t+2])this[n]=r;else throw Error($a+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($a+n+": "+r);return this}var qx=Lj(G$);tr=new qx(1);const Ct=qx;function K$(e){return Z$(e)||X$(e)||Y$(e)||J$()}function J$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y$(e,t){if(e){if(typeof e=="string")return e0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e0(e,t)}}function X$(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Z$(e){if(Array.isArray(e))return e0(e)}function e0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q$=function(t){return t},$j={},qj=function(t){return t===$j},wT=function(t){return function n(){return arguments.length===0||arguments.length===1&&qj(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},eq=function e(t,n){return t===1?n:wT(function(){for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];var u=o.filter(function(d){return d!==$j}).length;return u>=t?n.apply(void 0,o):e(t-u,wT(function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];var g=o.map(function(m){return qj(m)?f.shift():m});return n.apply(void 0,K$(g).concat(f))}))})},vf=function(t){return eq(t.length,t)},t0=function(t,n){for(var r=[],o=t;o<n;++o)r[o-t]=o;return r},tq=vf(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),nq=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Q$;var o=n.reverse(),l=o[0],u=o.slice(1);return function(){return u.reduce(function(d,f){return f(d)},l.apply(void 0,arguments))}},n0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Fj=function(t){var n=null,r=null;return function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return n&&l.every(function(d,f){return d===n[f]})||(n=l,r=t.apply(void 0,l)),r}};function rq(e){var t;return e===0?t=1:t=Math.floor(new Ct(e).abs().log(10).toNumber())+1,t}function iq(e,t,n){for(var r=new Ct(e),o=0,l=[];r.lt(t)&&o<1e5;)l.push(r.toNumber()),r=r.add(n),o++;return l}var aq=vf(function(e,t,n){var r=+e,o=+t;return r+n*(o-r)}),oq=vf(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),sq=vf(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const xf={rangeStep:iq,getDigitCount:rq,interpolateNumber:aq,uninterpolateNumber:oq,uninterpolateTruncation:sq};function r0(e){return cq(e)||uq(e)||Uj(e)||lq()}function lq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uq(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cq(e){if(Array.isArray(e))return i0(e)}function Dl(e,t){return pq(e)||fq(e,t)||Uj(e,t)||dq()}function dq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uj(e,t){if(e){if(typeof e=="string")return i0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i0(e,t)}}function i0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fq(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,l=void 0;try{for(var u=e[Symbol.iterator](),d;!(r=(d=u.next()).done)&&(n.push(d.value),!(t&&n.length===t));r=!0);}catch(f){o=!0,l=f}finally{try{!r&&u.return!=null&&u.return()}finally{if(o)throw l}}return n}}function pq(e){if(Array.isArray(e))return e}function Bj(e){var t=Dl(e,2),n=t[0],r=t[1],o=n,l=r;return n>r&&(o=r,l=n),[o,l]}function zj(e,t,n){if(e.lte(0))return new Ct(0);var r=xf.getDigitCount(e.toNumber()),o=new Ct(10).pow(r),l=e.div(o),u=r!==1?.05:.1,d=new Ct(Math.ceil(l.div(u).toNumber())).add(n).mul(u),f=d.mul(o);return t?f:new Ct(Math.ceil(f))}function hq(e,t,n){var r=1,o=new Ct(e);if(!o.isint()&&n){var l=Math.abs(e);l<1?(r=new Ct(10).pow(xf.getDigitCount(e)-1),o=new Ct(Math.floor(o.div(r).toNumber())).mul(r)):l>1&&(o=new Ct(Math.floor(e)))}else e===0?o=new Ct(Math.floor((t-1)/2)):n||(o=new Ct(Math.floor(e)));var u=Math.floor((t-1)/2),d=nq(tq(function(f){return o.add(new Ct(f-u).mul(r)).toNumber()}),t0);return d(0,t)}function Vj(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var l=zj(new Ct(t).sub(e).div(n-1),r,o),u;e<=0&&t>=0?u=new Ct(0):(u=new Ct(e).add(t).div(2),u=u.sub(new Ct(u).mod(l)));var d=Math.ceil(u.sub(e).div(l).toNumber()),f=Math.ceil(new Ct(t).sub(u).div(l).toNumber()),p=d+f+1;return p>n?Vj(e,t,n,r,o+1):(p<n&&(f=t>0?f+(n-p):f,d=t>0?d:d+(n-p)),{step:l,tickMin:u.sub(new Ct(d).mul(l)),tickMax:u.add(new Ct(f).mul(l))})}function mq(e){var t=Dl(e,2),n=t[0],r=t[1],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(o,2),d=Bj([n,r]),f=Dl(d,2),p=f[0],g=f[1];if(p===-1/0||g===1/0){var m=g===1/0?[p].concat(r0(t0(0,o-1).map(function(){return 1/0}))):[].concat(r0(t0(0,o-1).map(function(){return-1/0})),[g]);return n>r?n0(m):m}if(p===g)return hq(p,o,l);var v=Vj(p,g,u,l),w=v.step,_=v.tickMin,x=v.tickMax,b=xf.rangeStep(_,x.add(new Ct(.1).mul(w)),w);return n>r?n0(b):b}function gq(e,t){var n=Dl(e,2),r=n[0],o=n[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Bj([r,o]),d=Dl(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0)return[r,o];if(f===p)return[f];var g=Math.max(t,2),m=zj(new Ct(p).sub(f).div(g-1),l,0),v=[].concat(r0(xf.rangeStep(new Ct(f),new Ct(p).sub(new Ct(.99).mul(m)),m)),[p]);return r>o?n0(v):v}var yq=Fj(mq),vq=Fj(gq),xq="Invariant failed";function Va(e,t){throw new Error(xq)}var bq=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd.apply(this,arguments)}function wq(e,t){return Aq(e)||_q(e,t)||Nq(e,t)||Sq()}function Sq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nq(e,t){if(e){if(typeof e=="string")return ST(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(e,t)}}function ST(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _q(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function Aq(e){if(Array.isArray(e))return e}function Tq(e,t){if(e==null)return{};var n=Cq(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cq(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Eq(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pq(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wj(r.key),r)}}function jq(e,t,n){return t&&Pq(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iq(e,t,n){return t=Sd(t),kq(e,Gj()?Reflect.construct(t,n||[],Sd(e).constructor):t.apply(e,n))}function kq(e,t){if(t&&(Go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mq(e)}function Mq(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gj=function(){return!!e})()}function Sd(e){return Sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sd(e)}function Rq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a0(e,t)}function a0(e,t){return a0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},a0(e,t)}function Hj(e,t,n){return t=Wj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wj(e){var t=Oq(e,"string");return Go(t)=="symbol"?t:t+""}function Oq(e,t){if(Go(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bf=(function(e){function t(){return Eq(this,t),Iq(this,t,arguments)}return Rq(t,e),jq(t,[{key:"render",value:function(){var r=this.props,o=r.offset,l=r.layout,u=r.width,d=r.dataKey,f=r.data,p=r.dataPointFormatter,g=r.xAxis,m=r.yAxis,v=Tq(r,bq),w=Xe(v,!1);this.props.direction==="x"&&g.type!=="number"&&Va();var _=f.map(function(x){var b=p(x,d),E=b.x,A=b.y,T=b.value,P=b.errorVal;if(!P)return null;var N=[],C,I;if(Array.isArray(P)){var R=wq(P,2);C=R[0],I=R[1]}else C=I=P;if(l==="vertical"){var L=g.scale,W=A+o,q=W+u,D=W-u,B=L(T-C),ee=L(T+I);N.push({x1:ee,y1:q,x2:ee,y2:D}),N.push({x1:B,y1:W,x2:ee,y2:W}),N.push({x1:B,y1:q,x2:B,y2:D})}else if(l==="horizontal"){var Q=m.scale,ae=E+o,oe=ae-u,J=ae+u,F=Q(T-C),X=Q(T+I);N.push({x1:oe,y1:X,x2:J,y2:X}),N.push({x1:ae,y1:F,x2:ae,y2:X}),N.push({x1:oe,y1:F,x2:J,y2:F})}return z.createElement(gt,wd({className:"recharts-errorBar",key:"bar-".concat(N.map(function(O){return"".concat(O.x1,"-").concat(O.x2,"-").concat(O.y1,"-").concat(O.y2)}))},w),N.map(function(O){return z.createElement("line",wd({},O,{key:"line-".concat(O.x1,"-").concat(O.x2,"-").concat(O.y1,"-").concat(O.y2)}))}))});return z.createElement(gt,{className:"recharts-errorBars"},_)}}])})(z.Component);Hj(bf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Hj(bf,"displayName","ErrorBar");function Ll(e){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ll(e)}function NT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(n),!0).forEach(function(r){Dq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dq(e,t,n){return t=Lq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lq(e){var t=$q(e,"string");return Ll(t)=="symbol"?t:t+""}function $q(e,t){if(Ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kj=function(t){var n=t.children,r=t.formattedGraphicalItems,o=t.legendWidth,l=t.legendContent,u=Qn(n,ko);if(!u)return null;var d=ko.defaultProps,f=d!==void 0?Aa(Aa({},d),u.props):{},p;return u.props&&u.props.payload?p=u.props&&u.props.payload:l==="children"?p=(r||[]).reduce(function(g,m){var v=m.item,w=m.props,_=w.sectors||w.data||[];return g.concat(_.map(function(x){return{type:u.props.iconType||v.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):p=(r||[]).map(function(g){var m=g.item,v=m.type.defaultProps,w=v!==void 0?Aa(Aa({},v),m.props):{},_=w.dataKey,x=w.name,b=w.legendType,E=w.hide;return{inactive:E,dataKey:_,type:f.iconType||b||"square",color:Fx(m),value:x||_,payload:w}}),Aa(Aa(Aa({},f),ko.getWithHeight(u,o)),{},{payload:p,item:u})};function $l(e){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(e)}function _T(e){return Bq(e)||Uq(e)||Fq(e)||qq()}function qq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fq(e,t){if(e){if(typeof e=="string")return o0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o0(e,t)}}function Uq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Bq(e){if(Array.isArray(e))return o0(e)}function o0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(r){Ro(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ro(e,t,n){return t=zq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=Vq(e,"string");return $l(t)=="symbol"?t:t+""}function Vq(e,t){if($l(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function on(e,t,n){return lt(e)||lt(t)?n:sn(t)?nr(e,t,n):tt(t)?t(e):n}function ml(e,t,n,r){var o=B$(e,function(d){return on(d,t)});if(n==="number"){var l=o.filter(function(d){return Ie(d)||parseFloat(d)});return l.length?[yf(l),Qi(l)]:[1/0,-1/0]}var u=r?o.filter(function(d){return!lt(d)}):o;return u.map(function(d){return sn(d)||d instanceof Date?d:""})}var Gq=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,u=-1,d=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(d<=1)return 0;if(l&&l.axisType==="angleAxis"&&Math.abs(Math.abs(l.range[1]-l.range[0])-360)<=1e-6)for(var f=l.range,p=0;p<d;p++){var g=p>0?o[p-1].coordinate:o[d-1].coordinate,m=o[p].coordinate,v=p>=d-1?o[0].coordinate:o[p+1].coordinate,w=void 0;if(Pn(m-g)!==Pn(v-m)){var _=[];if(Pn(v-m)===Pn(f[1]-f[0])){w=v;var x=m+f[1]-f[0];_[0]=Math.min(x,(x+g)/2),_[1]=Math.max(x,(x+g)/2)}else{w=g;var b=v+f[1]-f[0];_[0]=Math.min(m,(b+m)/2),_[1]=Math.max(m,(b+m)/2)}var E=[Math.min(m,(w+m)/2),Math.max(m,(w+m)/2)];if(t>E[0]&&t<=E[1]||t>=_[0]&&t<=_[1]){u=o[p].index;break}}else{var A=Math.min(g,v),T=Math.max(g,v);if(t>(A+m)/2&&t<=(T+m)/2){u=o[p].index;break}}}else for(var P=0;P<d;P++)if(P===0&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<d-1&&t>(r[P].coordinate+r[P-1].coordinate)/2&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P===d-1&&t>(r[P].coordinate+r[P-1].coordinate)/2){u=r[P].index;break}return u},Fx=function(t){var n,r=t,o=r.type.displayName,l=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Wt(Wt({},t.type.defaultProps),t.props):t.props,u=l.stroke,d=l.fill,f;switch(o){case"Line":f=u;break;case"Area":case"Radar":f=u&&u!=="none"?u:d;break;default:f=d;break}return f},Hq=function(t){var n=t.barSize,r=t.totalSize,o=t.stackGroups,l=o===void 0?{}:o;if(!l)return{};for(var u={},d=Object.keys(l),f=0,p=d.length;f<p;f++)for(var g=l[d[f]].stackGroups,m=Object.keys(g),v=0,w=m.length;v<w;v++){var _=g[m[v]],x=_.items,b=_.cateAxisId,E=x.filter(function(I){return xi(I.type).indexOf("Bar")>=0});if(E&&E.length){var A=E[0].type.defaultProps,T=A!==void 0?Wt(Wt({},A),E[0].props):E[0].props,P=T.barSize,N=T[b];u[N]||(u[N]=[]);var C=lt(P)?n:P;u[N].push({item:E[0],stackList:E.slice(1),barSize:lt(C)?void 0:jn(C,r,0)})}}return u},Wq=function(t){var n=t.barGap,r=t.barCategoryGap,o=t.bandSize,l=t.sizeList,u=l===void 0?[]:l,d=t.maxBarSize,f=u.length;if(f<1)return null;var p=jn(n,o,0,!0),g,m=[];if(u[0].barSize===+u[0].barSize){var v=!1,w=o/f,_=u.reduce(function(P,N){return P+N.barSize||0},0);_+=(f-1)*p,_>=o&&(_-=(f-1)*p,p=0),_>=o&&w>0&&(v=!0,w*=.9,_=f*w);var x=(o-_)/2>>0,b={offset:x-p,size:0};g=u.reduce(function(P,N){var C={item:N.item,position:{offset:b.offset+b.size+p,size:v?w:N.barSize}},I=[].concat(_T(P),[C]);return b=I[I.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(R){I.push({item:R,position:b})}),I},m)}else{var E=jn(r,o,0,!0);o-2*E-(f-1)*p<=0&&(p=0);var A=(o-2*E-(f-1)*p)/f;A>1&&(A>>=0);var T=d===+d?Math.min(A,d):A;g=u.reduce(function(P,N,C){var I=[].concat(_T(P),[{item:N.item,position:{offset:E+(A+p)*C+(A-T)/2,size:T}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(R){I.push({item:R,position:I[I.length-1].position})}),I},m)}return g},Kq=function(t,n,r,o){var l=r.children,u=r.width,d=r.margin,f=u-(d.left||0)-(d.right||0),p=Kj({children:l,legendWidth:f});if(p){var g=o||{},m=g.width,v=g.height,w=p.align,_=p.verticalAlign,x=p.layout;if((x==="vertical"||x==="horizontal"&&_==="middle")&&w!=="center"&&Ie(t[w]))return Wt(Wt({},t),{},Ro({},w,t[w]+(m||0)));if((x==="horizontal"||x==="vertical"&&w==="center")&&_!=="middle"&&Ie(t[_]))return Wt(Wt({},t),{},Ro({},_,t[_]+(v||0)))}return t},Jq=function(t,n,r){return lt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Jj=function(t,n,r,o,l){var u=n.props.children,d=gr(u,bf).filter(function(p){return Jq(o,l,p.props.direction)});if(d&&d.length){var f=d.map(function(p){return p.props.dataKey});return t.reduce(function(p,g){var m=on(g,r);if(lt(m))return p;var v=Array.isArray(m)?[yf(m),Qi(m)]:[m,m],w=f.reduce(function(_,x){var b=on(g,x,0),E=v[0]-Math.abs(Array.isArray(b)?b[0]:b),A=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,_[0]),Math.max(A,_[1])]},[1/0,-1/0]);return[Math.min(w[0],p[0]),Math.max(w[1],p[1])]},[1/0,-1/0])}return null},Yq=function(t,n,r,o,l){var u=n.map(function(d){return Jj(t,d,r,l,o)}).filter(function(d){return!lt(d)});return u&&u.length?u.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]):null},Yj=function(t,n,r,o,l){var u=n.map(function(f){var p=f.props.dataKey;return r==="number"&&p&&Jj(t,f,p,o)||ml(t,p,r,l)});if(r==="number")return u.reduce(function(f,p){return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);var d={};return u.reduce(function(f,p){for(var g=0,m=p.length;g<m;g++)d[p[g]]||(d[p[g]]=!0,f.push(p[g]));return f},[])},Xj=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},Zj=function(t,n,r,o){if(o)return t.map(function(f){return f.coordinate});var l,u,d=t.map(function(f){return f.coordinate===n&&(l=!0),f.coordinate===r&&(u=!0),f.coordinate});return l||d.push(n),u||d.push(r),d},yi=function(t,n,r){if(!t)return null;var o=t.scale,l=t.duplicateDomain,u=t.type,d=t.range,f=t.realScaleType==="scaleBand"?o.bandwidth()/2:2,p=(n||r)&&u==="category"&&o.bandwidth?o.bandwidth()/f:0;if(p=t.axisType==="angleAxis"&&(d==null?void 0:d.length)>=2?Pn(d[0]-d[1])*2*p:p,n&&(t.ticks||t.niceTicks)){var g=(t.ticks||t.niceTicks).map(function(m){var v=l?l.indexOf(m):m;return{coordinate:o(v)+p,value:m,offset:p}});return g.filter(function(m){return!cs(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,v){return{coordinate:o(m)+p,value:m,index:v,offset:p}}):o.ticks&&!r?o.ticks(t.tickCount).map(function(m){return{coordinate:o(m)+p,value:m,offset:p}}):o.domain().map(function(m,v){return{coordinate:o(m)+p,value:l?l[m]:m,index:v,offset:p}})},Vy=new WeakMap,Rc=function(t,n){if(typeof n!="function")return t;Vy.has(t)||Vy.set(t,new WeakMap);var r=Vy.get(t);if(r.has(n))return r.get(n);var o=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,o),o},Qj=function(t,n,r){var o=t.scale,l=t.type,u=t.layout,d=t.axisType;if(o==="auto")return u==="radial"&&d==="radiusAxis"?{scale:jl(),realScaleType:"band"}:u==="radial"&&d==="angleAxis"?{scale:gd(),realScaleType:"linear"}:l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:hl(),realScaleType:"point"}:l==="category"?{scale:jl(),realScaleType:"band"}:{scale:gd(),realScaleType:"linear"};if(Fa(o)){var f="scale".concat(nf(o));return{scale:(cT[f]||hl)(),realScaleType:cT[f]?f:"point"}}return tt(o)?{scale:o}:{scale:hl(),realScaleType:"point"}},TT=1e-4,eI=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,o=t.range(),l=Math.min(o[0],o[1])-TT,u=Math.max(o[0],o[1])+TT,d=t(n[0]),f=t(n[r-1]);(d<l||d>u||f<l||f>u)&&t.domain([n[0],n[r-1]])}},Xq=function(t,n){if(!t)return null;for(var r=0,o=t.length;r<o;r++)if(t[r].item===n)return t[r].position;return null},Zq=function(t,n){if(!n||n.length!==2||!Ie(n[0])||!Ie(n[1]))return t;var r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]),l=[t[0],t[1]];return(!Ie(t[0])||t[0]<r)&&(l[0]=r),(!Ie(t[1])||t[1]>o)&&(l[1]=o),l[0]>o&&(l[0]=o),l[1]<r&&(l[1]=r),l},Qq=function(t){var n=t.length;if(!(n<=0))for(var r=0,o=t[0].length;r<o;++r)for(var l=0,u=0,d=0;d<n;++d){var f=cs(t[d][r][1])?t[d][r][0]:t[d][r][1];f>=0?(t[d][r][0]=l,t[d][r][1]=l+f,l=t[d][r][1]):(t[d][r][0]=u,t[d][r][1]=u+f,u=t[d][r][1])}},eF=function(t){var n=t.length;if(!(n<=0))for(var r=0,o=t[0].length;r<o;++r)for(var l=0,u=0;u<n;++u){var d=cs(t[u][r][1])?t[u][r][0]:t[u][r][1];d>=0?(t[u][r][0]=l,t[u][r][1]=l+d,l=t[u][r][1]):(t[u][r][0]=0,t[u][r][1]=0)}},tF={sign:Qq,expand:BD,none:Do,silhouette:zD,wiggle:VD,positive:eF},nF=function(t,n,r){var o=n.map(function(d){return d.props.dataKey}),l=tF[r],u=UD().keys(o).value(function(d,f){return+on(d,f,0)}).order(Dv).offset(l);return u(t)},rF=function(t,n,r,o,l,u){if(!t)return null;var d=u?n.reverse():n,f={},p=d.reduce(function(m,v){var w,_=(w=v.type)!==null&&w!==void 0&&w.defaultProps?Wt(Wt({},v.type.defaultProps),v.props):v.props,x=_.stackId,b=_.hide;if(b)return m;var E=_[r],A=m[E]||{hasStack:!1,stackGroups:{}};if(sn(x)){var T=A.stackGroups[x]||{numericAxisId:r,cateAxisId:o,items:[]};T.items.push(v),A.hasStack=!0,A.stackGroups[x]=T}else A.stackGroups[ds("_stackId_")]={numericAxisId:r,cateAxisId:o,items:[v]};return Wt(Wt({},m),{},Ro({},E,A))},f),g={};return Object.keys(p).reduce(function(m,v){var w=p[v];if(w.hasStack){var _={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(x,b){var E=w.stackGroups[b];return Wt(Wt({},x),{},Ro({},b,{numericAxisId:r,cateAxisId:o,items:E.items,stackedData:nF(t,E.items,l)}))},_)}return Wt(Wt({},m),{},Ro({},v,w))},g)},tI=function(t,n){var r=n.realScaleType,o=n.type,l=n.tickCount,u=n.originalDomain,d=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(l&&o==="number"&&u&&(u[0]==="auto"||u[1]==="auto")){var p=t.domain();if(!p.length)return null;var g=yq(p,l,d);return t.domain([yf(g),Qi(g)]),{niceTicks:g}}if(l&&o==="number"){var m=t.domain(),v=vq(m,l,d);return{niceTicks:v}}return null};function CT(e){var t=e.axis,n=e.ticks,r=e.bandSize,o=e.entry,l=e.index,u=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lt(o[t.dataKey])){var d=Xc(n,"value",o[t.dataKey]);if(d)return d.coordinate+r/2}return n[l]?n[l].coordinate+r/2:null}var f=on(o,lt(u)?t.dataKey:u);return lt(f)?null:t.scale(f)}var ET=function(t){var n=t.axis,r=t.ticks,o=t.offset,l=t.bandSize,u=t.entry,d=t.index;if(n.type==="category")return r[d]?r[d].coordinate+o:null;var f=on(u,n.dataKey,n.domain[d]);return lt(f)?null:n.scale(f)-l/2+o},iF=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var o=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return o<=0&&l>=0?0:l<0?l:o}return r[0]},aF=function(t,n){var r,o=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Wt(Wt({},t.type.defaultProps),t.props):t.props,l=o.stackId;if(sn(l)){var u=n[l];if(u){var d=u.items.indexOf(t);return d>=0?u.stackedData[d]:null}}return null},oF=function(t){return t.reduce(function(n,r){return[yf(r.concat([n[0]]).filter(Ie)),Qi(r.concat([n[1]]).filter(Ie))]},[1/0,-1/0])},nI=function(t,n,r){return Object.keys(t).reduce(function(o,l){var u=t[l],d=u.stackedData,f=d.reduce(function(p,g){var m=oF(g.slice(n,r+1));return[Math.min(p[0],m[0]),Math.max(p[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],o[0]),Math.max(f[1],o[1])]},[1/0,-1/0]).map(function(o){return o===1/0||o===-1/0?0:o})},PT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,s0=function(t,n,r){if(tt(t))return t(n,r);if(!Array.isArray(t))return n;var o=[];if(Ie(t[0]))o[0]=r?t[0]:Math.min(t[0],n[0]);else if(PT.test(t[0])){var l=+PT.exec(t[0])[1];o[0]=n[0]-l}else tt(t[0])?o[0]=t[0](n[0]):o[0]=n[0];if(Ie(t[1]))o[1]=r?t[1]:Math.max(t[1],n[1]);else if(jT.test(t[1])){var u=+jT.exec(t[1])[1];o[1]=n[1]+u}else tt(t[1])?o[1]=t[1](n[1]):o[1]=n[1];return o},Nd=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var o=t.scale.bandwidth();if(!r||o>0)return o}if(t&&n&&n.length>=2){for(var l=hx(n,function(m){return m.coordinate}),u=1/0,d=1,f=l.length;d<f;d++){var p=l[d],g=l[d-1];u=Math.min((p.coordinate||0)-(g.coordinate||0),u)}return u===1/0?0:u}return r?void 0:0},IT=function(t,n,r){return!t||!t.length||Vo(t,nr(r,"type.defaultProps.domain"))?n:t},rI=function(t,n){var r=t.type.defaultProps?Wt(Wt({},t.type.defaultProps),t.props):t.props,o=r.dataKey,l=r.name,u=r.unit,d=r.formatter,f=r.tooltipType,p=r.chartType,g=r.hide;return Wt(Wt({},Xe(t,!1)),{},{dataKey:o,unit:u,formatter:d,name:l||o,color:Fx(t),value:on(n,o),type:f,payload:n,chartType:p,hide:g})};function ql(e){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ql(e)}function kT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(n),!0).forEach(function(r){iI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iI(e,t,n){return t=sF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sF(e){var t=lF(e,"string");return ql(t)=="symbol"?t:t+""}function lF(e,t){if(ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uF(e,t){return pF(e)||fF(e,t)||dF(e,t)||cF()}function cF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dF(e,t){if(e){if(typeof e=="string")return MT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(e,t)}}function MT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function pF(e){if(Array.isArray(e))return e}var _d=Math.PI/180,hF=function(t){return t*180/Math.PI},Mt=function(t,n,r,o){return{x:t+Math.cos(-_d*o)*r,y:n+Math.sin(-_d*o)*r}},aI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},mF=function(t,n,r,o,l){var u=t.width,d=t.height,f=t.startAngle,p=t.endAngle,g=jn(t.cx,u,u/2),m=jn(t.cy,d,d/2),v=aI(u,d,r),w=jn(t.innerRadius,v,0),_=jn(t.outerRadius,v,v*.8),x=Object.keys(n);return x.reduce(function(b,E){var A=n[E],T=A.domain,P=A.reversed,N;if(lt(A.range))o==="angleAxis"?N=[f,p]:o==="radiusAxis"&&(N=[w,_]),P&&(N=[N[1],N[0]]);else{N=A.range;var C=N,I=uF(C,2);f=I[0],p=I[1]}var R=Qj(A,l),L=R.realScaleType,W=R.scale;W.domain(T).range(N),eI(W);var q=tI(W,di(di({},A),{},{realScaleType:L})),D=di(di(di({},A),q),{},{range:N,radius:_,realScaleType:L,scale:W,cx:g,cy:m,innerRadius:w,outerRadius:_,startAngle:f,endAngle:p});return di(di({},b),{},iI({},E,D))},{})},gF=function(t,n){var r=t.x,o=t.y,l=n.x,u=n.y;return Math.sqrt(Math.pow(r-l,2)+Math.pow(o-u,2))},yF=function(t,n){var r=t.x,o=t.y,l=n.cx,u=n.cy,d=gF({x:r,y:o},{x:l,y:u});if(d<=0)return{radius:d};var f=(r-l)/d,p=Math.acos(f);return o>u&&(p=2*Math.PI-p),{radius:d,angle:hF(p),angleInRadian:p}},vF=function(t){var n=t.startAngle,r=t.endAngle,o=Math.floor(n/360),l=Math.floor(r/360),u=Math.min(o,l);return{startAngle:n-u*360,endAngle:r-u*360}},xF=function(t,n){var r=n.startAngle,o=n.endAngle,l=Math.floor(r/360),u=Math.floor(o/360),d=Math.min(l,u);return t+d*360},RT=function(t,n){var r=t.x,o=t.y,l=yF({x:r,y:o},n),u=l.radius,d=l.angle,f=n.innerRadius,p=n.outerRadius;if(u<f||u>p)return!1;if(u===0)return!0;var g=vF(n),m=g.startAngle,v=g.endAngle,w=d,_;if(m<=v){for(;w>v;)w-=360;for(;w<m;)w+=360;_=w>=m&&w<=v}else{for(;w>m;)w-=360;for(;w<v;)w+=360;_=w>=v&&w<=m}return _?di(di({},n),{},{radius:u,angle:xF(w,n)}):null},oI=function(t){return!M.isValidElement(t)&&!tt(t)&&typeof t!="boolean"?t.className:""};function Fl(e){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fl(e)}var bF=["offset"];function wF(e){return AF(e)||_F(e)||NF(e)||SF()}function SF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NF(e,t){if(e){if(typeof e=="string")return l0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l0(e,t)}}function _F(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AF(e){if(Array.isArray(e))return l0(e)}function l0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TF(e,t){if(e==null)return{};var n=CF(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function CF(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function OT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(n),!0).forEach(function(r){EF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EF(e,t,n){return t=PF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PF(e){var t=jF(e,"string");return Fl(t)=="symbol"?t:t+""}function jF(e,t){if(Fl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(this,arguments)}var IF=function(t){var n=t.value,r=t.formatter,o=lt(t.children)?n:t.children;return tt(r)?r(o):o},kF=function(t,n){var r=Pn(n-t),o=Math.min(Math.abs(n-t),360);return r*o},MF=function(t,n,r){var o=t.position,l=t.viewBox,u=t.offset,d=t.className,f=l,p=f.cx,g=f.cy,m=f.innerRadius,v=f.outerRadius,w=f.startAngle,_=f.endAngle,x=f.clockWise,b=(m+v)/2,E=kF(w,_),A=E>=0?1:-1,T,P;o==="insideStart"?(T=w+A*u,P=x):o==="insideEnd"?(T=_-A*u,P=!x):o==="end"&&(T=_+A*u,P=x),P=E<=0?P:!P;var N=Mt(p,g,b,T),C=Mt(p,g,b,T+(P?1:-1)*359),I="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(C.x,",").concat(C.y),R=lt(t.id)?ds("recharts-radial-line-"):t.id;return z.createElement("text",Ul({},r,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",d)}),z.createElement("defs",null,z.createElement("path",{id:R,d:I})),z.createElement("textPath",{xlinkHref:"#".concat(R)},n))},RF=function(t){var n=t.viewBox,r=t.offset,o=t.position,l=n,u=l.cx,d=l.cy,f=l.innerRadius,p=l.outerRadius,g=l.startAngle,m=l.endAngle,v=(g+m)/2;if(o==="outside"){var w=Mt(u,d,p+r,v),_=w.x,x=w.y;return{x:_,y:x,textAnchor:_>=u?"start":"end",verticalAnchor:"middle"}}if(o==="center")return{x:u,y:d,textAnchor:"middle",verticalAnchor:"middle"};if(o==="centerTop")return{x:u,y:d,textAnchor:"middle",verticalAnchor:"start"};if(o==="centerBottom")return{x:u,y:d,textAnchor:"middle",verticalAnchor:"end"};var b=(f+p)/2,E=Mt(u,d,b,v),A=E.x,T=E.y;return{x:A,y:T,textAnchor:"middle",verticalAnchor:"middle"}},OF=function(t){var n=t.viewBox,r=t.parentViewBox,o=t.offset,l=t.position,u=n,d=u.x,f=u.y,p=u.width,g=u.height,m=g>=0?1:-1,v=m*o,w=m>0?"end":"start",_=m>0?"start":"end",x=p>=0?1:-1,b=x*o,E=x>0?"end":"start",A=x>0?"start":"end";if(l==="top"){var T={x:d+p/2,y:f-m*o,textAnchor:"middle",verticalAnchor:w};return an(an({},T),r?{height:Math.max(f-r.y,0),width:p}:{})}if(l==="bottom"){var P={x:d+p/2,y:f+g+v,textAnchor:"middle",verticalAnchor:_};return an(an({},P),r?{height:Math.max(r.y+r.height-(f+g),0),width:p}:{})}if(l==="left"){var N={x:d-b,y:f+g/2,textAnchor:E,verticalAnchor:"middle"};return an(an({},N),r?{width:Math.max(N.x-r.x,0),height:g}:{})}if(l==="right"){var C={x:d+p+b,y:f+g/2,textAnchor:A,verticalAnchor:"middle"};return an(an({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:g}:{})}var I=r?{width:p,height:g}:{};return l==="insideLeft"?an({x:d+b,y:f+g/2,textAnchor:A,verticalAnchor:"middle"},I):l==="insideRight"?an({x:d+p-b,y:f+g/2,textAnchor:E,verticalAnchor:"middle"},I):l==="insideTop"?an({x:d+p/2,y:f+v,textAnchor:"middle",verticalAnchor:_},I):l==="insideBottom"?an({x:d+p/2,y:f+g-v,textAnchor:"middle",verticalAnchor:w},I):l==="insideTopLeft"?an({x:d+b,y:f+v,textAnchor:A,verticalAnchor:_},I):l==="insideTopRight"?an({x:d+p-b,y:f+v,textAnchor:E,verticalAnchor:_},I):l==="insideBottomLeft"?an({x:d+b,y:f+g-v,textAnchor:A,verticalAnchor:w},I):l==="insideBottomRight"?an({x:d+p-b,y:f+g-v,textAnchor:E,verticalAnchor:w},I):us(l)&&(Ie(l.x)||Ia(l.x))&&(Ie(l.y)||Ia(l.y))?an({x:d+jn(l.x,p),y:f+jn(l.y,g),textAnchor:"end",verticalAnchor:"end"},I):an({x:d+p/2,y:f+g/2,textAnchor:"middle",verticalAnchor:"middle"},I)},DF=function(t){return"cx"in t&&Ie(t.cx)};function pn(e){var t=e.offset,n=t===void 0?5:t,r=TF(e,bF),o=an({offset:n},r),l=o.viewBox,u=o.position,d=o.value,f=o.children,p=o.content,g=o.className,m=g===void 0?"":g,v=o.textBreakAll;if(!l||lt(d)&&lt(f)&&!M.isValidElement(p)&&!tt(p))return null;if(M.isValidElement(p))return M.cloneElement(p,o);var w;if(tt(p)){if(w=M.createElement(p,o),M.isValidElement(w))return w}else w=IF(o);var _=DF(l),x=Xe(o,!0);if(_&&(u==="insideStart"||u==="insideEnd"||u==="end"))return MF(o,w,x);var b=_?RF(o):OF(o);return z.createElement(Ba,Ul({className:dt("recharts-label",m)},x,b,{breakAll:v}),w)}pn.displayName="Label";var sI=function(t){var n=t.cx,r=t.cy,o=t.angle,l=t.startAngle,u=t.endAngle,d=t.r,f=t.radius,p=t.innerRadius,g=t.outerRadius,m=t.x,v=t.y,w=t.top,_=t.left,x=t.width,b=t.height,E=t.clockWise,A=t.labelViewBox;if(A)return A;if(Ie(x)&&Ie(b)){if(Ie(m)&&Ie(v))return{x:m,y:v,width:x,height:b};if(Ie(w)&&Ie(_))return{x:w,y:_,width:x,height:b}}return Ie(m)&&Ie(v)?{x:m,y:v,width:0,height:0}:Ie(n)&&Ie(r)?{cx:n,cy:r,startAngle:l||o||0,endAngle:u||o||0,innerRadius:p||0,outerRadius:g||f||d||0,clockWise:E}:t.viewBox?t.viewBox:{}},LF=function(t,n){return t?t===!0?z.createElement(pn,{key:"label-implicit",viewBox:n}):sn(t)?z.createElement(pn,{key:"label-implicit",viewBox:n,value:t}):M.isValidElement(t)?t.type===pn?M.cloneElement(t,{key:"label-implicit",viewBox:n}):z.createElement(pn,{key:"label-implicit",content:t,viewBox:n}):tt(t)?z.createElement(pn,{key:"label-implicit",content:t,viewBox:n}):us(t)?z.createElement(pn,Ul({viewBox:n},t,{key:"label-implicit"})):null:null},$F=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var o=t.children,l=sI(t),u=gr(o,pn).map(function(f,p){return M.cloneElement(f,{viewBox:n||l,key:"label-".concat(p)})});if(!r)return u;var d=LF(t.label,n||l);return[d].concat(wF(u))};pn.parseViewBox=sI;pn.renderCallByParent=$F;var Gy,DT;function qF(){if(DT)return Gy;DT=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Gy=e,Gy}var FF=qF();const UF=_t(FF);function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}var BF=["valueAccessor"],zF=["data","dataKey","clockWise","id","textBreakAll"];function VF(e){return KF(e)||WF(e)||HF(e)||GF()}function GF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HF(e,t){if(e){if(typeof e=="string")return u0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u0(e,t)}}function WF(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KF(e){if(Array.isArray(e))return u0(e)}function u0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ad.apply(this,arguments)}function LT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $T(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(n),!0).forEach(function(r){JF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JF(e,t,n){return t=YF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YF(e){var t=XF(e,"string");return Bl(t)=="symbol"?t:t+""}function XF(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qT(e,t){if(e==null)return{};var n=ZF(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZF(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var QF=function(t){return Array.isArray(t.value)?UF(t.value):t.value};function wi(e){var t=e.valueAccessor,n=t===void 0?QF:t,r=qT(e,BF),o=r.data,l=r.dataKey,u=r.clockWise,d=r.id,f=r.textBreakAll,p=qT(r,zF);return!o||!o.length?null:z.createElement(gt,{className:"recharts-label-list"},o.map(function(g,m){var v=lt(l)?n(g,m):on(g&&g.payload,l),w=lt(d)?{}:{id:"".concat(d,"-").concat(m)};return z.createElement(pn,Ad({},Xe(g,!0),p,w,{parentViewBox:g.parentViewBox,value:v,textBreakAll:f,viewBox:pn.parseViewBox(lt(u)?g:$T($T({},g),{},{clockWise:u})),key:"label-".concat(m),index:m}))}))}wi.displayName="LabelList";function eU(e,t){return e?e===!0?z.createElement(wi,{key:"labelList-implicit",data:t}):z.isValidElement(e)||tt(e)?z.createElement(wi,{key:"labelList-implicit",data:t,content:e}):us(e)?z.createElement(wi,Ad({data:t},e,{key:"labelList-implicit"})):null:null}function tU(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,o=gr(r,wi).map(function(u,d){return M.cloneElement(u,{data:t,key:"labelList-".concat(d)})});if(!n)return o;var l=eU(e.label,t);return[l].concat(VF(o))}wi.renderCallByParent=tU;function zl(e){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(e)}function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c0.apply(this,arguments)}function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function UT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(n),!0).forEach(function(r){nU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nU(e,t,n){return t=rU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rU(e){var t=iU(e,"string");return zl(t)=="symbol"?t:t+""}function iU(e,t){if(zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aU=function(t,n){var r=Pn(n-t),o=Math.min(Math.abs(n-t),359.999);return r*o},Oc=function(t){var n=t.cx,r=t.cy,o=t.radius,l=t.angle,u=t.sign,d=t.isExternal,f=t.cornerRadius,p=t.cornerIsExternal,g=f*(d?1:-1)+o,m=Math.asin(f/g)/_d,v=p?l:l+u*m,w=Mt(n,r,g,v),_=Mt(n,r,o,v),x=p?l-u*m:l,b=Mt(n,r,g*Math.cos(m*_d),x);return{center:w,circleTangency:_,lineTangency:b,theta:m}},lI=function(t){var n=t.cx,r=t.cy,o=t.innerRadius,l=t.outerRadius,u=t.startAngle,d=t.endAngle,f=aU(u,d),p=u+f,g=Mt(n,r,l,u),m=Mt(n,r,l,p),v="M ".concat(g.x,",").concat(g.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(u>p),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(o>0){var w=Mt(n,r,o,u),_=Mt(n,r,o,p);v+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(o,",").concat(o,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(u<=p),`,
            `).concat(w.x,",").concat(w.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},oU=function(t){var n=t.cx,r=t.cy,o=t.innerRadius,l=t.outerRadius,u=t.cornerRadius,d=t.forceCornerRadius,f=t.cornerIsExternal,p=t.startAngle,g=t.endAngle,m=Pn(g-p),v=Oc({cx:n,cy:r,radius:l,angle:p,sign:m,cornerRadius:u,cornerIsExternal:f}),w=v.circleTangency,_=v.lineTangency,x=v.theta,b=Oc({cx:n,cy:r,radius:l,angle:g,sign:-m,cornerRadius:u,cornerIsExternal:f}),E=b.circleTangency,A=b.lineTangency,T=b.theta,P=f?Math.abs(p-g):Math.abs(p-g)-x-T;if(P<0)return d?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(u,",").concat(u,",0,0,1,").concat(u*2,`,0
        a`).concat(u,",").concat(u,",0,0,1,").concat(-u*2,`,0
      `):lI({cx:n,cy:r,innerRadius:o,outerRadius:l,startAngle:p,endAngle:g});var N="M ".concat(_.x,",").concat(_.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(P>180),",").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
  `);if(o>0){var C=Oc({cx:n,cy:r,radius:o,angle:p,sign:m,isExternal:!0,cornerRadius:u,cornerIsExternal:f}),I=C.circleTangency,R=C.lineTangency,L=C.theta,W=Oc({cx:n,cy:r,radius:o,angle:g,sign:-m,isExternal:!0,cornerRadius:u,cornerIsExternal:f}),q=W.circleTangency,D=W.lineTangency,B=W.theta,ee=f?Math.abs(p-g):Math.abs(p-g)-L-B;if(ee<0&&u===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(D.x,",").concat(D.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,").concat(+(ee>180),",").concat(+(m>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},sU={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uI=function(t){var n=UT(UT({},sU),t),r=n.cx,o=n.cy,l=n.innerRadius,u=n.outerRadius,d=n.cornerRadius,f=n.forceCornerRadius,p=n.cornerIsExternal,g=n.startAngle,m=n.endAngle,v=n.className;if(u<l||g===m)return null;var w=dt("recharts-sector",v),_=u-l,x=jn(d,_,0,!0),b;return x>0&&Math.abs(g-m)<360?b=oU({cx:r,cy:o,innerRadius:l,outerRadius:u,cornerRadius:Math.min(x,_/2),forceCornerRadius:f,cornerIsExternal:p,startAngle:g,endAngle:m}):b=lI({cx:r,cy:o,innerRadius:l,outerRadius:u,startAngle:g,endAngle:m}),z.createElement("path",c0({},Xe(n,!0),{className:w,d:b,role:"img"}))};function Vl(e){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vl(e)}function d0(){return d0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d0.apply(this,arguments)}function BT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(n),!0).forEach(function(r){lU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lU(e,t,n){return t=uU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uU(e){var t=cU(e,"string");return Vl(t)=="symbol"?t:t+""}function cU(e,t){if(Vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VT={curveBasisClosed:jD,curveBasisOpen:ID,curveBasis:PD,curveBumpX:mD,curveBumpY:gD,curveLinearClosed:kD,curveLinear:af,curveMonotoneX:MD,curveMonotoneY:RD,curveNatural:OD,curveStep:DD,curveStepAfter:$D,curveStepBefore:LD},Dc=function(t){return t.x===+t.x&&t.y===+t.y},ol=function(t){return t.x},sl=function(t){return t.y},dU=function(t,n){if(tt(t))return t;var r="curve".concat(nf(t));return(r==="curveMonotone"||r==="curveBump")&&n?VT["".concat(r).concat(n==="vertical"?"Y":"X")]:VT[r]||af},fU=function(t){var n=t.type,r=n===void 0?"linear":n,o=t.points,l=o===void 0?[]:o,u=t.baseLine,d=t.layout,f=t.connectNulls,p=f===void 0?!1:f,g=dU(r,d),m=p?l.filter(function(x){return Dc(x)}):l,v;if(Array.isArray(u)){var w=p?u.filter(function(x){return Dc(x)}):u,_=m.map(function(x,b){return zT(zT({},x),{},{base:w[b]})});return d==="vertical"?v=Cc().y(sl).x1(ol).x0(function(x){return x.base.x}):v=Cc().x(ol).y1(sl).y0(function(x){return x.base.y}),v.defined(Dc).curve(g),v(_)}return d==="vertical"&&Ie(u)?v=Cc().y(sl).x1(ol).x0(u):Ie(u)?v=Cc().x(ol).y1(sl).y0(u):v=s2().x(ol).y(sl),v.defined(Dc).curve(g),v(m)},Oo=function(t){var n=t.className,r=t.points,o=t.path,l=t.pathRef;if((!r||!r.length)&&!o)return null;var u=r&&r.length?fU(t):o;return M.createElement("path",d0({},Xe(t,!1),Zc(t),{className:dt("recharts-curve",n),d:u,ref:l}))},Hy={exports:{}},Wy,GT;function pU(){if(GT)return Wy;GT=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wy=e,Wy}var Ky,HT;function hU(){if(HT)return Ky;HT=1;var e=pU();function t(){}function n(){}return n.resetWarningCache=t,Ky=function(){function r(u,d,f,p,g,m){if(m!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},Ky}var WT;function mU(){return WT||(WT=1,Hy.exports=hU()()),Hy.exports}var gU=mU();const Nt=_t(gU);var yU=Object.getOwnPropertyNames,vU=Object.getOwnPropertySymbols,xU=Object.prototype.hasOwnProperty;function KT(e,t){return function(r,o,l){return e(r,o,l)&&t(r,o,l)}}function Lc(e){return function(n,r,o){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,o);var l=o.cache,u=l.get(n),d=l.get(r);if(u&&d)return u===r&&d===n;l.set(n,r),l.set(r,n);var f=e(n,r,o);return l.delete(n),l.delete(r),f}}function bU(e){return e!=null?e[Symbol.toStringTag]:void 0}function JT(e){return yU(e).concat(vU(e))}var wU=Object.hasOwn||(function(e,t){return xU.call(e,t)});function Ya(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var SU="__v",NU="__o",_U="_owner",YT=Object.getOwnPropertyDescriptor,XT=Object.keys;function AU(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function TU(e,t){return Ya(e.getTime(),t.getTime())}function CU(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function EU(e,t){return e===t}function ZT(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var o=new Array(r),l=e.entries(),u,d,f=0;(u=l.next())&&!u.done;){for(var p=t.entries(),g=!1,m=0;(d=p.next())&&!d.done;){if(o[m]){m++;continue}var v=u.value,w=d.value;if(n.equals(v[0],w[0],f,m,e,t,n)&&n.equals(v[1],w[1],v[0],w[0],e,t,n)){g=o[m]=!0;break}m++}if(!g)return!1;f++}return!0}var PU=Ya;function jU(e,t,n){var r=XT(e),o=r.length;if(XT(t).length!==o)return!1;for(;o-- >0;)if(!cI(e,t,n,r[o]))return!1;return!0}function ll(e,t,n){var r=JT(e),o=r.length;if(JT(t).length!==o)return!1;for(var l,u,d;o-- >0;)if(l=r[o],!cI(e,t,n,l)||(u=YT(e,l),d=YT(t,l),(u||d)&&(!u||!d||u.configurable!==d.configurable||u.enumerable!==d.enumerable||u.writable!==d.writable)))return!1;return!0}function IU(e,t){return Ya(e.valueOf(),t.valueOf())}function kU(e,t){return e.source===t.source&&e.flags===t.flags}function QT(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var o=new Array(r),l=e.values(),u,d;(u=l.next())&&!u.done;){for(var f=t.values(),p=!1,g=0;(d=f.next())&&!d.done;){if(!o[g]&&n.equals(u.value,d.value,u.value,d.value,e,t,n)){p=o[g]=!0;break}g++}if(!p)return!1}return!0}function MU(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function RU(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function cI(e,t,n,r){return(r===_U||r===NU||r===SU)&&(e.$$typeof||t.$$typeof)?!0:wU(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var OU="[object Arguments]",DU="[object Boolean]",LU="[object Date]",$U="[object Error]",qU="[object Map]",FU="[object Number]",UU="[object Object]",BU="[object RegExp]",zU="[object Set]",VU="[object String]",GU="[object URL]",HU=Array.isArray,eC=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,tC=Object.assign,WU=Object.prototype.toString.call.bind(Object.prototype.toString);function KU(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,o=e.areFunctionsEqual,l=e.areMapsEqual,u=e.areNumbersEqual,d=e.areObjectsEqual,f=e.arePrimitiveWrappersEqual,p=e.areRegExpsEqual,g=e.areSetsEqual,m=e.areTypedArraysEqual,v=e.areUrlsEqual,w=e.unknownTagComparators;return function(x,b,E){if(x===b)return!0;if(x==null||b==null)return!1;var A=typeof x;if(A!==typeof b)return!1;if(A!=="object")return A==="number"?u(x,b,E):A==="function"?o(x,b,E):!1;var T=x.constructor;if(T!==b.constructor)return!1;if(T===Object)return d(x,b,E);if(HU(x))return t(x,b,E);if(eC!=null&&eC(x))return m(x,b,E);if(T===Date)return n(x,b,E);if(T===RegExp)return p(x,b,E);if(T===Map)return l(x,b,E);if(T===Set)return g(x,b,E);var P=WU(x);if(P===LU)return n(x,b,E);if(P===BU)return p(x,b,E);if(P===qU)return l(x,b,E);if(P===zU)return g(x,b,E);if(P===UU)return typeof x.then!="function"&&typeof b.then!="function"&&d(x,b,E);if(P===GU)return v(x,b,E);if(P===$U)return r(x,b,E);if(P===OU)return d(x,b,E);if(P===DU||P===FU||P===VU)return f(x,b,E);if(w){var N=w[P];if(!N){var C=bU(x);C&&(N=w[C])}if(N)return N(x,b,E)}return!1}}function JU(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,o={areArraysEqual:r?ll:AU,areDatesEqual:TU,areErrorsEqual:CU,areFunctionsEqual:EU,areMapsEqual:r?KT(ZT,ll):ZT,areNumbersEqual:PU,areObjectsEqual:r?ll:jU,arePrimitiveWrappersEqual:IU,areRegExpsEqual:kU,areSetsEqual:r?KT(QT,ll):QT,areTypedArraysEqual:r?ll:MU,areUrlsEqual:RU,unknownTagComparators:void 0};if(n&&(o=tC({},o,n(o))),t){var l=Lc(o.areArraysEqual),u=Lc(o.areMapsEqual),d=Lc(o.areObjectsEqual),f=Lc(o.areSetsEqual);o=tC({},o,{areArraysEqual:l,areMapsEqual:u,areObjectsEqual:d,areSetsEqual:f})}return o}function YU(e){return function(t,n,r,o,l,u,d){return e(t,n,d)}}function XU(e){var t=e.circular,n=e.comparator,r=e.createState,o=e.equals,l=e.strict;if(r)return function(f,p){var g=r(),m=g.cache,v=m===void 0?t?new WeakMap:void 0:m,w=g.meta;return n(f,p,{cache:v,equals:o,meta:w,strict:l})};if(t)return function(f,p){return n(f,p,{cache:new WeakMap,equals:o,meta:void 0,strict:l})};var u={cache:void 0,equals:o,meta:void 0,strict:l};return function(f,p){return n(f,p,u)}}var ZU=ua();ua({strict:!0});ua({circular:!0});ua({circular:!0,strict:!0});ua({createInternalComparator:function(){return Ya}});ua({strict:!0,createInternalComparator:function(){return Ya}});ua({circular:!0,createInternalComparator:function(){return Ya}});ua({circular:!0,createInternalComparator:function(){return Ya},strict:!0});function ua(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,o=e.createState,l=e.strict,u=l===void 0?!1:l,d=JU(e),f=KU(d),p=r?r(f):YU(f);return XU({circular:n,comparator:f,createState:o,equals:p,strict:u})}function QU(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function nC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function o(l){n<0&&(n=l),l-n>t?(e(l),n=-1):QU(o)};requestAnimationFrame(r)}function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}function eB(e){return iB(e)||rB(e)||nB(e)||tB()}function tB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nB(e,t){if(e){if(typeof e=="string")return rC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(e,t)}}function rC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iB(e){if(Array.isArray(e))return e}function aB(){var e={},t=function(){return null},n=!1,r=function o(l){if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,d=eB(u),f=d[0],p=d.slice(1);if(typeof f=="number"){nC(o.bind(null,p),f);return}o(f),nC(o.bind(null,p));return}f0(l)==="object"&&(e=l,t(e)),typeof l=="function"&&l()}};return{stop:function(){n=!0},start:function(l){n=!1,r(l)},subscribe:function(l){return t=l,function(){t=function(){return null}}}}}function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function aC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){dI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dI(e,t,n){return t=oB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oB(e){var t=sB(e,"string");return Gl(t)==="symbol"?t:String(t)}function sB(e,t){if(Gl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lB=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,o){return r.filter(function(l){return o.includes(l)})})},uB=function(t){return t},cB=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},gl=function(t,n){return Object.keys(n).reduce(function(r,o){return aC(aC({},r),{},dI({},o,t(o,n[o])))},{})},oC=function(t,n,r){return t.map(function(o){return"".concat(cB(o)," ").concat(n,"ms ").concat(r)}).join(",")};function dB(e,t){return hB(e)||pB(e,t)||fI(e,t)||fB()}function fB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function hB(e){if(Array.isArray(e))return e}function mB(e){return vB(e)||yB(e)||fI(e)||gB()}function gB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fI(e,t){if(e){if(typeof e=="string")return p0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p0(e,t)}}function yB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vB(e){if(Array.isArray(e))return p0(e)}function p0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Td=1e-4,pI=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},hI=function(t,n){return t.map(function(r,o){return r*Math.pow(n,o)}).reduce(function(r,o){return r+o})},sC=function(t,n){return function(r){var o=pI(t,n);return hI(o,r)}},xB=function(t,n){return function(r){var o=pI(t,n),l=[].concat(mB(o.map(function(u,d){return u*d}).slice(1)),[0]);return hI(l,r)}},lC=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],l=n[1],u=n[2],d=n[3];if(n.length===1)switch(n[0]){case"linear":o=0,l=0,u=1,d=1;break;case"ease":o=.25,l=.1,u=.25,d=1;break;case"ease-in":o=.42,l=0,u=1,d=1;break;case"ease-out":o=.42,l=0,u=.58,d=1;break;case"ease-in-out":o=0,l=0,u=.58,d=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var p=f[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),g=dB(p,4);o=g[0],l=g[1],u=g[2],d=g[3]}}}var m=sC(o,u),v=sC(l,d),w=xB(o,u),_=function(E){return E>1?1:E<0?0:E},x=function(E){for(var A=E>1?1:E,T=A,P=0;P<8;++P){var N=m(T)-A,C=w(T);if(Math.abs(N-A)<Td||C<Td)return v(T);T=_(T-N/C)}return v(T)};return x.isStepper=!1,x},bB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,o=t.damping,l=o===void 0?8:o,u=t.dt,d=u===void 0?17:u,f=function(g,m,v){var w=-(g-m)*r,_=v*l,x=v+(w-_)*d/1e3,b=v*d/1e3+g;return Math.abs(b-m)<Td&&Math.abs(x)<Td?[m,0]:[b,x]};return f.isStepper=!0,f.dt=d,f},wB=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0];if(typeof o=="string")switch(o){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lC(o);case"spring":return bB();default:if(o.split("(")[0]==="cubic-bezier")return lC(o)}return typeof o=="function"?o:null};function Hl(e){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(e)}function uC(e){return _B(e)||NB(e)||mI(e)||SB()}function SB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _B(e){if(Array.isArray(e))return m0(e)}function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(n),!0).forEach(function(r){h0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h0(e,t,n){return t=AB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AB(e){var t=TB(e,"string");return Hl(t)==="symbol"?t:String(t)}function TB(e,t){if(Hl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CB(e,t){return jB(e)||PB(e,t)||mI(e,t)||EB()}function EB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mI(e,t){if(e){if(typeof e=="string")return m0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m0(e,t)}}function m0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function PB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function jB(e){if(Array.isArray(e))return e}var Cd=function(t,n,r){return t+(n-t)*r},g0=function(t){var n=t.from,r=t.to;return n!==r},IB=function e(t,n,r){var o=gl(function(l,u){if(g0(u)){var d=t(u.from,u.to,u.velocity),f=CB(d,2),p=f[0],g=f[1];return yn(yn({},u),{},{from:p,velocity:g})}return u},n);return r<1?gl(function(l,u){return g0(u)?yn(yn({},u),{},{velocity:Cd(u.velocity,o[l].velocity,r),from:Cd(u.from,o[l].from,r)}):u},n):e(t,o,r-1)};const kB=(function(e,t,n,r,o){var l=lB(e,t),u=l.reduce(function(b,E){return yn(yn({},b),{},h0({},E,[e[E],t[E]]))},{}),d=l.reduce(function(b,E){return yn(yn({},b),{},h0({},E,{from:e[E],velocity:0,to:t[E]}))},{}),f=-1,p,g,m=function(){return null},v=function(){return gl(function(E,A){return A.from},d)},w=function(){return!Object.values(d).filter(g0).length},_=function(E){p||(p=E);var A=E-p,T=A/n.dt;d=IB(n,d,T),o(yn(yn(yn({},e),t),v())),p=E,w()||(f=requestAnimationFrame(m))},x=function(E){g||(g=E);var A=(E-g)/r,T=gl(function(N,C){return Cd.apply(void 0,uC(C).concat([n(A)]))},u);if(o(yn(yn(yn({},e),t),T)),A<1)f=requestAnimationFrame(m);else{var P=gl(function(N,C){return Cd.apply(void 0,uC(C).concat([n(1)]))},u);o(yn(yn(yn({},e),t),P))}};return m=n.isStepper?_:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}var MB=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function RB(e,t){if(e==null)return{};var n=OB(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OB(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,l;for(l=0;l<r.length;l++)o=r[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Jy(e){return qB(e)||$B(e)||LB(e)||DB()}function DB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LB(e,t){if(e){if(typeof e=="string")return y0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y0(e,t)}}function $B(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qB(e){if(Array.isArray(e))return y0(e)}function y0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(n),!0).forEach(function(r){fl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fl(e,t,n){return t=gI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gI(r.key),r)}}function BB(e,t,n){return t&&UB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gI(e){var t=zB(e,"string");return Ho(t)==="symbol"?t:String(t)}function zB(e,t){if(Ho(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ho(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v0(e,t)}function v0(e,t){return v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},v0(e,t)}function GB(e){var t=HB();return function(){var r=Ed(e),o;if(t){var l=Ed(this).constructor;o=Reflect.construct(r,arguments,l)}else o=r.apply(this,arguments);return x0(this,o)}}function x0(e,t){if(t&&(Ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b0(e)}function b0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ed(e){return Ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ed(e)}var Hr=(function(e){VB(n,e);var t=GB(n);function n(r,o){var l;FB(this,n),l=t.call(this,r,o);var u=l.props,d=u.isActive,f=u.attributeName,p=u.from,g=u.to,m=u.steps,v=u.children,w=u.duration;if(l.handleStyleChange=l.handleStyleChange.bind(b0(l)),l.changeStyle=l.changeStyle.bind(b0(l)),!d||w<=0)return l.state={style:{}},typeof v=="function"&&(l.state={style:g}),x0(l);if(m&&m.length)l.state={style:m[0].style};else if(p){if(typeof v=="function")return l.state={style:p},x0(l);l.state={style:f?fl({},f,p):p}}else l.state={style:{}};return l}return BB(n,[{key:"componentDidMount",value:function(){var o=this.props,l=o.isActive,u=o.canBegin;this.mounted=!0,!(!l||!u)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(o){var l=this.props,u=l.isActive,d=l.canBegin,f=l.attributeName,p=l.shouldReAnimate,g=l.to,m=l.from,v=this.state.style;if(d){if(!u){var w={style:f?fl({},f,g):g};this.state&&v&&(f&&v[f]!==g||!f&&v!==g)&&this.setState(w);return}if(!(ZU(o.to,g)&&o.canBegin&&o.isActive)){var _=!o.canBegin||!o.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=_||p?m:o.to;if(this.state&&v){var b={style:f?fl({},f,x):x};(f&&v[f]!==x||!f&&v!==x)&&this.setState(b)}this.runAnimation(Tr(Tr({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var o=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),o&&o()}},{key:"handleStyleChange",value:function(o){this.changeStyle(o)}},{key:"changeStyle",value:function(o){this.mounted&&this.setState({style:o})}},{key:"runJSAnimation",value:function(o){var l=this,u=o.from,d=o.to,f=o.duration,p=o.easing,g=o.begin,m=o.onAnimationEnd,v=o.onAnimationStart,w=kB(u,d,wB(p),f,this.changeStyle),_=function(){l.stopJSAnimation=w()};this.manager.start([v,g,_,f,m])}},{key:"runStepAnimation",value:function(o){var l=this,u=o.steps,d=o.begin,f=o.onAnimationStart,p=u[0],g=p.style,m=p.duration,v=m===void 0?0:m,w=function(x,b,E){if(E===0)return x;var A=b.duration,T=b.easing,P=T===void 0?"ease":T,N=b.style,C=b.properties,I=b.onAnimationEnd,R=E>0?u[E-1]:b,L=C||Object.keys(N);if(typeof P=="function"||P==="spring")return[].concat(Jy(x),[l.runJSAnimation.bind(l,{from:R.style,to:N,duration:A,easing:P}),A]);var W=oC(L,A,P),q=Tr(Tr(Tr({},R.style),N),{},{transition:W});return[].concat(Jy(x),[q,A,I]).filter(uB)};return this.manager.start([f].concat(Jy(u.reduce(w,[g,Math.max(v,d)])),[o.onAnimationEnd]))}},{key:"runAnimation",value:function(o){this.manager||(this.manager=aB());var l=o.begin,u=o.duration,d=o.attributeName,f=o.to,p=o.easing,g=o.onAnimationStart,m=o.onAnimationEnd,v=o.steps,w=o.children,_=this.manager;if(this.unSubscribe=_.subscribe(this.handleStyleChange),typeof p=="function"||typeof w=="function"||p==="spring"){this.runJSAnimation(o);return}if(v.length>1){this.runStepAnimation(o);return}var x=d?fl({},d,f):f,b=oC(Object.keys(x),u,p);_.start([g,l,Tr(Tr({},x),{},{transition:b}),u,m])}},{key:"render",value:function(){var o=this.props,l=o.children;o.begin;var u=o.duration;o.attributeName,o.easing;var d=o.isActive;o.steps,o.from,o.to,o.canBegin,o.onAnimationEnd,o.shouldReAnimate,o.onAnimationReStart;var f=RB(o,MB),p=M.Children.count(l),g=this.state.style;if(typeof l=="function")return l(g);if(!d||p===0||u<=0)return l;var m=function(w){var _=w.props,x=_.style,b=x===void 0?{}:x,E=_.className,A=M.cloneElement(w,Tr(Tr({},f),{},{style:Tr(Tr({},b),g),className:E}));return A};return p===1?m(M.Children.only(l)):z.createElement("div",null,M.Children.map(l,function(v){return m(v)}))}}]),n})(M.PureComponent);Hr.displayName="Animate";Hr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Hr.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function Wl(e){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wl(e)}function Pd(){return Pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pd.apply(this,arguments)}function WB(e,t){return XB(e)||YB(e,t)||JB(e,t)||KB()}function KB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JB(e,t){if(e){if(typeof e=="string")return fC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(e,t)}}function fC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function XB(e){if(Array.isArray(e))return e}function pC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function hC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(n),!0).forEach(function(r){ZB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZB(e,t,n){return t=QB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QB(e){var t=ez(e,"string");return Wl(t)=="symbol"?t:t+""}function ez(e,t){if(Wl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mC=function(t,n,r,o,l){var u=Math.min(Math.abs(r)/2,Math.abs(o)/2),d=o>=0?1:-1,f=r>=0?1:-1,p=o>=0&&r>=0||o<0&&r<0?1:0,g;if(u>0&&l instanceof Array){for(var m=[0,0,0,0],v=0,w=4;v<w;v++)m[v]=l[v]>u?u:l[v];g="M".concat(t,",").concat(n+d*m[0]),m[0]>0&&(g+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(p,",").concat(t+f*m[0],",").concat(n)),g+="L ".concat(t+r-f*m[1],",").concat(n),m[1]>0&&(g+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(p,`,
        `).concat(t+r,",").concat(n+d*m[1])),g+="L ".concat(t+r,",").concat(n+o-d*m[2]),m[2]>0&&(g+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(p,`,
        `).concat(t+r-f*m[2],",").concat(n+o)),g+="L ".concat(t+f*m[3],",").concat(n+o),m[3]>0&&(g+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(p,`,
        `).concat(t,",").concat(n+o-d*m[3])),g+="Z"}else if(u>0&&l===+l&&l>0){var _=Math.min(u,l);g="M ".concat(t,",").concat(n+d*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(p,",").concat(t+f*_,",").concat(n,`
            L `).concat(t+r-f*_,",").concat(n,`
            A `).concat(_,",").concat(_,",0,0,").concat(p,",").concat(t+r,",").concat(n+d*_,`
            L `).concat(t+r,",").concat(n+o-d*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(p,",").concat(t+r-f*_,",").concat(n+o,`
            L `).concat(t+f*_,",").concat(n+o,`
            A `).concat(_,",").concat(_,",0,0,").concat(p,",").concat(t,",").concat(n+o-d*_," Z")}else g="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(o," h ").concat(-r," Z");return g},tz=function(t,n){if(!t||!n)return!1;var r=t.x,o=t.y,l=n.x,u=n.y,d=n.width,f=n.height;if(Math.abs(d)>0&&Math.abs(f)>0){var p=Math.min(l,l+d),g=Math.max(l,l+d),m=Math.min(u,u+f),v=Math.max(u,u+f);return r>=p&&r<=g&&o>=m&&o<=v}return!1},nz={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ux=function(t){var n=hC(hC({},nz),t),r=M.useRef(),o=M.useState(-1),l=WB(o,2),u=l[0],d=l[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&d(P)}catch{}},[]);var f=n.x,p=n.y,g=n.width,m=n.height,v=n.radius,w=n.className,_=n.animationEasing,x=n.animationDuration,b=n.animationBegin,E=n.isAnimationActive,A=n.isUpdateAnimationActive;if(f!==+f||p!==+p||g!==+g||m!==+m||g===0||m===0)return null;var T=dt("recharts-rectangle",w);return A?z.createElement(Hr,{canBegin:u>0,from:{width:g,height:m,x:f,y:p},to:{width:g,height:m,x:f,y:p},duration:x,animationEasing:_,isActive:A},function(P){var N=P.width,C=P.height,I=P.x,R=P.y;return z.createElement(Hr,{canBegin:u>0,from:"0px ".concat(u===-1?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,isActive:E,easing:_},z.createElement("path",Pd({},Xe(n,!0),{className:T,d:mC(I,R,N,C,v),ref:r})))}):z.createElement("path",Pd({},Xe(n,!0),{className:T,d:mC(f,p,g,m,v)}))},rz=["points","className","baseLinePoints","connectNulls"];function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Co.apply(this,arguments)}function iz(e,t){if(e==null)return{};var n=az(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function az(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gC(e){return uz(e)||lz(e)||sz(e)||oz()}function oz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sz(e,t){if(e){if(typeof e=="string")return w0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w0(e,t)}}function lz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uz(e){if(Array.isArray(e))return w0(e)}function w0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var yC=function(t){return t&&t.x===+t.x&&t.y===+t.y},cz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){yC(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),yC(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},yl=function(t,n){var r=cz(t);n&&(r=[r.reduce(function(l,u){return[].concat(gC(l),gC(u))},[])]);var o=r.map(function(l){return l.reduce(function(u,d,f){return"".concat(u).concat(f===0?"M":"L").concat(d.x,",").concat(d.y)},"")}).join("");return r.length===1?"".concat(o,"Z"):o},dz=function(t,n,r){var o=yl(t,r);return"".concat(o.slice(-1)==="Z"?o.slice(0,-1):o,"L").concat(yl(n.reverse(),r).slice(1))},fz=function(t){var n=t.points,r=t.className,o=t.baseLinePoints,l=t.connectNulls,u=iz(t,rz);if(!n||!n.length)return null;var d=dt("recharts-polygon",r);if(o&&o.length){var f=u.stroke&&u.stroke!=="none",p=dz(n,o,l);return z.createElement("g",{className:d},z.createElement("path",Co({},Xe(u,!0),{fill:p.slice(-1)==="Z"?u.fill:"none",stroke:"none",d:p})),f?z.createElement("path",Co({},Xe(u,!0),{fill:"none",d:yl(n,l)})):null,f?z.createElement("path",Co({},Xe(u,!0),{fill:"none",d:yl(o,l)})):null)}var g=yl(n,l);return z.createElement("path",Co({},Xe(u,!0),{fill:g.slice(-1)==="Z"?u.fill:"none",className:d,d:g}))};function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S0.apply(this,arguments)}var wf=function(t){var n=t.cx,r=t.cy,o=t.r,l=t.className,u=dt("recharts-dot",l);return n===+n&&r===+r&&o===+o?M.createElement("circle",S0({},Xe(t,!1),Zc(t),{className:u,cx:n,cy:r,r:o})):null};function Kl(e){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kl(e)}var pz=["x","y","top","left","width","height","className"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(this,arguments)}function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function hz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(n),!0).forEach(function(r){mz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mz(e,t,n){return t=gz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gz(e){var t=yz(e,"string");return Kl(t)=="symbol"?t:t+""}function yz(e,t){if(Kl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vz(e,t){if(e==null)return{};var n=xz(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xz(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var bz=function(t,n,r,o,l,u){return"M".concat(t,",").concat(l,"v").concat(o,"M").concat(u,",").concat(n,"h").concat(r)},wz=function(t){var n=t.x,r=n===void 0?0:n,o=t.y,l=o===void 0?0:o,u=t.top,d=u===void 0?0:u,f=t.left,p=f===void 0?0:f,g=t.width,m=g===void 0?0:g,v=t.height,w=v===void 0?0:v,_=t.className,x=vz(t,pz),b=hz({x:r,y:l,top:d,left:p,width:m,height:w},x);return!Ie(r)||!Ie(l)||!Ie(m)||!Ie(w)||!Ie(d)||!Ie(p)?null:z.createElement("path",N0({},Xe(b,!0),{className:dt("recharts-cross",_),d:bz(r,l,m,w,d,p)}))},Yy,xC;function Sz(){if(xC)return Yy;xC=1;var e=gf(),t=Ij(),n=Kr();function r(o,l){return o&&o.length?e(o,n(l,2),t):void 0}return Yy=r,Yy}var Nz=Sz();const _z=_t(Nz);var Xy,bC;function Az(){if(bC)return Xy;bC=1;var e=gf(),t=Kr(),n=kj();function r(o,l){return o&&o.length?e(o,t(l,2),n):void 0}return Xy=r,Xy}var Tz=Az();const Cz=_t(Tz);var Ez=["cx","cy","angle","ticks","axisLine"],Pz=["ticks","tick","angle","tickFormatter","stroke"];function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(this,arguments)}function wC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ta(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(n),!0).forEach(function(r){Sf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SC(e,t){if(e==null)return{};var n=jz(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jz(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Iz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vI(r.key),r)}}function kz(e,t,n){return t&&NC(e.prototype,t),n&&NC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mz(e,t,n){return t=jd(t),Rz(e,yI()?Reflect.construct(t,n||[],jd(e).constructor):t.apply(e,n))}function Rz(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oz(e)}function Oz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yI=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jd(e)}function Dz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_0(e,t)}function _0(e,t){return _0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_0(e,t)}function Sf(e,t,n){return t=vI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vI(e){var t=Lz(e,"string");return Wo(t)=="symbol"?t:t+""}function Lz(e,t){if(Wo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nf=(function(e){function t(){return Iz(this,t),Mz(this,t,arguments)}return Dz(t,e),kz(t,[{key:"getTickValueCoord",value:function(r){var o=r.coordinate,l=this.props,u=l.angle,d=l.cx,f=l.cy;return Mt(d,f,o,u)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,o;switch(r){case"left":o="end";break;case"right":o="start";break;default:o="middle";break}return o}},{key:"getViewBox",value:function(){var r=this.props,o=r.cx,l=r.cy,u=r.angle,d=r.ticks,f=_z(d,function(g){return g.coordinate||0}),p=Cz(d,function(g){return g.coordinate||0});return{cx:o,cy:l,startAngle:u,endAngle:u,innerRadius:p.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,o=r.cx,l=r.cy,u=r.angle,d=r.ticks,f=r.axisLine,p=SC(r,Ez),g=d.reduce(function(_,x){return[Math.min(_[0],x.coordinate),Math.max(_[1],x.coordinate)]},[1/0,-1/0]),m=Mt(o,l,g[0],u),v=Mt(o,l,g[1],u),w=Ta(Ta(Ta({},Xe(p,!1)),{},{fill:"none"},Xe(f,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return z.createElement("line",vl({className:"recharts-polar-radius-axis-line"},w))}},{key:"renderTicks",value:function(){var r=this,o=this.props,l=o.ticks,u=o.tick,d=o.angle,f=o.tickFormatter,p=o.stroke,g=SC(o,Pz),m=this.getTickTextAnchor(),v=Xe(g,!1),w=Xe(u,!1),_=l.map(function(x,b){var E=r.getTickValueCoord(x),A=Ta(Ta(Ta(Ta({textAnchor:m,transform:"rotate(".concat(90-d,", ").concat(E.x,", ").concat(E.y,")")},v),{},{stroke:"none",fill:p},w),{},{index:b},E),{},{payload:x});return z.createElement(gt,vl({className:dt("recharts-polar-radius-axis-tick",oI(u)),key:"tick-".concat(x.coordinate)},Ua(r.props,x,b)),t.renderTickItem(u,A,f?f(x.value,b):x.value))});return z.createElement(gt,{className:"recharts-polar-radius-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,o=r.ticks,l=r.axisLine,u=r.tick;return!o||!o.length?null:z.createElement(gt,{className:dt("recharts-polar-radius-axis",this.props.className)},l&&this.renderAxisLine(),u&&this.renderTicks(),pn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,o,l){var u;return z.isValidElement(r)?u=z.cloneElement(r,o):tt(r)?u=r(o):u=z.createElement(Ba,vl({},o,{className:"recharts-polar-radius-axis-tick-value"}),l),u}}])})(M.PureComponent);Sf(Nf,"displayName","PolarRadiusAxis");Sf(Nf,"axisType","radiusAxis");Sf(Nf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(this,arguments)}function _C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(n),!0).forEach(function(r){_f(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bI(r.key),r)}}function qz(e,t,n){return t&&AC(e.prototype,t),n&&AC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fz(e,t,n){return t=Id(t),Uz(e,xI()?Reflect.construct(t,n||[],Id(e).constructor):t.apply(e,n))}function Uz(e,t){if(t&&(Ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bz(e)}function Bz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xI=function(){return!!e})()}function Id(e){return Id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Id(e)}function zz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A0(e,t)}function A0(e,t){return A0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},A0(e,t)}function _f(e,t,n){return t=bI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bI(e){var t=Vz(e,"string");return Ko(t)=="symbol"?t:t+""}function Vz(e,t){if(Ko(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ko(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Gz=Math.PI/180,TC=1e-5,Af=(function(e){function t(){return $z(this,t),Fz(this,t,arguments)}return zz(t,e),qz(t,[{key:"getTickLineCoord",value:function(r){var o=this.props,l=o.cx,u=o.cy,d=o.radius,f=o.orientation,p=o.tickSize,g=p||8,m=Mt(l,u,d,r.coordinate),v=Mt(l,u,d+(f==="inner"?-1:1)*g,r.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var o=this.props.orientation,l=Math.cos(-r.coordinate*Gz),u;return l>TC?u=o==="outer"?"start":"end":l<-TC?u=o==="outer"?"end":"start":u="middle",u}},{key:"renderAxisLine",value:function(){var r=this.props,o=r.cx,l=r.cy,u=r.radius,d=r.axisLine,f=r.axisLineType,p=Ca(Ca({},Xe(this.props,!1)),{},{fill:"none"},Xe(d,!1));if(f==="circle")return z.createElement(wf,ja({className:"recharts-polar-angle-axis-line"},p,{cx:o,cy:l,r:u}));var g=this.props.ticks,m=g.map(function(v){return Mt(o,l,u,v.coordinate)});return z.createElement(fz,ja({className:"recharts-polar-angle-axis-line"},p,{points:m}))}},{key:"renderTicks",value:function(){var r=this,o=this.props,l=o.ticks,u=o.tick,d=o.tickLine,f=o.tickFormatter,p=o.stroke,g=Xe(this.props,!1),m=Xe(u,!1),v=Ca(Ca({},g),{},{fill:"none"},Xe(d,!1)),w=l.map(function(_,x){var b=r.getTickLineCoord(_),E=r.getTickTextAnchor(_),A=Ca(Ca(Ca({textAnchor:E},g),{},{stroke:"none",fill:p},m),{},{index:x,payload:_,x:b.x2,y:b.y2});return z.createElement(gt,ja({className:dt("recharts-polar-angle-axis-tick",oI(u)),key:"tick-".concat(_.coordinate)},Ua(r.props,_,x)),d&&z.createElement("line",ja({className:"recharts-polar-angle-axis-tick-line"},v,b)),u&&t.renderTickItem(u,A,f?f(_.value,x):_.value))});return z.createElement(gt,{className:"recharts-polar-angle-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,o=r.ticks,l=r.radius,u=r.axisLine;return l<=0||!o||!o.length?null:z.createElement(gt,{className:dt("recharts-polar-angle-axis",this.props.className)},u&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,o,l){var u;return z.isValidElement(r)?u=z.cloneElement(r,o):tt(r)?u=r(o):u=z.createElement(Ba,ja({},o,{className:"recharts-polar-angle-axis-tick-value"}),l),u}}])})(M.PureComponent);_f(Af,"displayName","PolarAngleAxis");_f(Af,"axisType","angleAxis");_f(Af,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Zy,CC;function Hz(){if(CC)return Zy;CC=1;var e=j2(),t=e(Object.getPrototypeOf,Object);return Zy=t,Zy}var Qy,EC;function Wz(){if(EC)return Qy;EC=1;var e=Ai(),t=Hz(),n=Ti(),r="[object Object]",o=Function.prototype,l=Object.prototype,u=o.toString,d=l.hasOwnProperty,f=u.call(Object);function p(g){if(!n(g)||e(g)!=r)return!1;var m=t(g);if(m===null)return!0;var v=d.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&u.call(v)==f}return Qy=p,Qy}var Kz=Wz();const Jz=_t(Kz);var ev,PC;function Yz(){if(PC)return ev;PC=1;var e=Ai(),t=Ti(),n="[object Boolean]";function r(o){return o===!0||o===!1||t(o)&&e(o)==n}return ev=r,ev}var Xz=Yz();const Zz=_t(Xz);function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kd.apply(this,arguments)}function Qz(e,t){return rV(e)||nV(e,t)||tV(e,t)||eV()}function eV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tV(e,t){if(e){if(typeof e=="string")return jC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jC(e,t)}}function jC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function rV(e){if(Array.isArray(e))return e}function IC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function kC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(n),!0).forEach(function(r){iV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iV(e,t,n){return t=aV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aV(e){var t=oV(e,"string");return Jl(t)=="symbol"?t:t+""}function oV(e,t){if(Jl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MC=function(t,n,r,o,l){var u=r-o,d;return d="M ".concat(t,",").concat(n),d+="L ".concat(t+r,",").concat(n),d+="L ".concat(t+r-u/2,",").concat(n+l),d+="L ".concat(t+r-u/2-o,",").concat(n+l),d+="L ".concat(t,",").concat(n," Z"),d},sV={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lV=function(t){var n=kC(kC({},sV),t),r=M.useRef(),o=M.useState(-1),l=Qz(o,2),u=l[0],d=l[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&d(T)}catch{}},[]);var f=n.x,p=n.y,g=n.upperWidth,m=n.lowerWidth,v=n.height,w=n.className,_=n.animationEasing,x=n.animationDuration,b=n.animationBegin,E=n.isUpdateAnimationActive;if(f!==+f||p!==+p||g!==+g||m!==+m||v!==+v||g===0&&m===0||v===0)return null;var A=dt("recharts-trapezoid",w);return E?z.createElement(Hr,{canBegin:u>0,from:{upperWidth:0,lowerWidth:0,height:v,x:f,y:p},to:{upperWidth:g,lowerWidth:m,height:v,x:f,y:p},duration:x,animationEasing:_,isActive:E},function(T){var P=T.upperWidth,N=T.lowerWidth,C=T.height,I=T.x,R=T.y;return z.createElement(Hr,{canBegin:u>0,from:"0px ".concat(u===-1?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:x,easing:_},z.createElement("path",kd({},Xe(n,!0),{className:A,d:MC(I,R,P,N,C),ref:r})))}):z.createElement("g",null,z.createElement("path",kd({},Xe(n,!0),{className:A,d:MC(f,p,g,m,v)})))},uV=["option","shapeType","propTransformer","activeClassName","isActive"];function Yl(e){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yl(e)}function cV(e,t){if(e==null)return{};var n=dV(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dV(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(n),!0).forEach(function(r){fV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fV(e,t,n){return t=pV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=hV(e,"string");return Yl(t)=="symbol"?t:t+""}function hV(e,t){if(Yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mV(e,t){return Md(Md({},t),e)}function gV(e,t){return e==="symbols"}function OC(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return z.createElement(Ux,n);case"trapezoid":return z.createElement(lV,n);case"sector":return z.createElement(uI,n);case"symbols":if(gV(t))return z.createElement(ox,n);break;default:return null}}function yV(e){return M.isValidElement(e)?e.props:e}function wI(e){var t=e.option,n=e.shapeType,r=e.propTransformer,o=r===void 0?mV:r,l=e.activeClassName,u=l===void 0?"recharts-active-shape":l,d=e.isActive,f=cV(e,uV),p;if(M.isValidElement(t))p=M.cloneElement(t,Md(Md({},f),yV(t)));else if(tt(t))p=t(f);else if(Jz(t)&&!Zz(t)){var g=o(t,f);p=z.createElement(OC,{shapeType:n,elementProps:g})}else{var m=f;p=z.createElement(OC,{shapeType:n,elementProps:m})}return d?z.createElement(gt,{className:u},p):p}function Tf(e,t){return t!=null&&"trapezoids"in e.props}function Cf(e,t){return t!=null&&"sectors"in e.props}function Xl(e,t){return t!=null&&"points"in e.props}function vV(e,t){var n,r,o=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,l=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return o&&l}function xV(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function bV(e,t){var n=e.x===t.x,r=e.y===t.y,o=e.z===t.z;return n&&r&&o}function wV(e,t){var n;return Tf(e,t)?n=vV:Cf(e,t)?n=xV:Xl(e,t)&&(n=bV),n}function SV(e,t){var n;return Tf(e,t)?n="trapezoids":Cf(e,t)?n="sectors":Xl(e,t)&&(n="points"),n}function NV(e,t){if(Tf(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Cf(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Xl(e,t)?t.payload:{}}function _V(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,o=SV(n,t),l=NV(n,t),u=r.filter(function(f,p){var g=Vo(l,f),m=n.props[o].filter(function(_){var x=wV(n,t);return x(_,t)}),v=n.props[o].indexOf(m[m.length-1]),w=p===v;return g&&w}),d=r.indexOf(u[u.length-1]);return d}var Hc;function Jo(e){"@babel/helpers - typeof";return Jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jo(e)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eo.apply(this,arguments)}function DC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(n),!0).forEach(function(r){hr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NI(r.key),r)}}function TV(e,t,n){return t&&LC(e.prototype,t),n&&LC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CV(e,t,n){return t=Rd(t),EV(e,SI()?Reflect.construct(t,n||[],Rd(e).constructor):t.apply(e,n))}function EV(e,t){if(t&&(Jo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PV(e)}function PV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SI=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rd(e)}function jV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T0(e,t)}function T0(e,t){return T0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},T0(e,t)}function hr(e,t,n){return t=NI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NI(e){var t=IV(e,"string");return Jo(t)=="symbol"?t:t+""}function IV(e,t){if(Jo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Jr=(function(e){function t(n){var r;return AV(this,t),r=CV(this,t,[n]),hr(r,"pieRef",null),hr(r,"sectorRefs",[]),hr(r,"id",ds("recharts-pie-")),hr(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),tt(o)&&o()}),hr(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),tt(o)&&o()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return jV(t,e),TV(t,[{key:"isActiveIndex",value:function(r){var o=this.props.activeIndex;return Array.isArray(o)?o.indexOf(r)!==-1:r===o}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.label,d=l.labelLine,f=l.dataKey,p=l.valueKey,g=Xe(this.props,!1),m=Xe(u,!1),v=Xe(d,!1),w=u&&u.offsetRadius||20,_=r.map(function(x,b){var E=(x.startAngle+x.endAngle)/2,A=Mt(x.cx,x.cy,x.outerRadius+w,E),T=jt(jt(jt(jt({},g),x),{},{stroke:"none"},m),{},{index:b,textAnchor:t.getTextAnchor(A.x,x.cx)},A),P=jt(jt(jt(jt({},g),x),{},{fill:"none",stroke:x.fill},v),{},{index:b,points:[Mt(x.cx,x.cy,x.outerRadius,E),A]}),N=f;return lt(f)&&lt(p)?N="value":lt(f)&&(N=p),z.createElement(gt,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(b)},d&&t.renderLabelLineItem(d,P,"line"),t.renderLabelItem(u,T,on(x,N)))});return z.createElement(gt,{className:"recharts-pie-labels"},_)}},{key:"renderSectorsStatically",value:function(r){var o=this,l=this.props,u=l.activeShape,d=l.blendStroke,f=l.inactiveShape;return r.map(function(p,g){if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&r.length!==1)return null;var m=o.isActiveIndex(g),v=f&&o.hasActiveIndex()?f:null,w=m?u:v,_=jt(jt({},p),{},{stroke:d?p.fill:p.stroke,tabIndex:-1});return z.createElement(gt,Eo({ref:function(b){b&&!o.sectorRefs.includes(b)&&o.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Ua(o.props,p,g),{key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(g)}),z.createElement(wI,Eo({option:w,isActive:m,shapeType:"sector"},_)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,o=this.props,l=o.sectors,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,p=o.animationEasing,g=o.animationId,m=this.state,v=m.prevSectors,w=m.prevIsAnimationActive;return z.createElement(Hr,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(w),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_){var x=_.t,b=[],E=l&&l[0],A=E.startAngle;return l.forEach(function(T,P){var N=v&&v[P],C=P>0?nr(T,"paddingAngle",0):0;if(N){var I=Un(N.endAngle-N.startAngle,T.endAngle-T.startAngle),R=jt(jt({},T),{},{startAngle:A+C,endAngle:A+I(x)+C});b.push(R),A=R.endAngle}else{var L=T.endAngle,W=T.startAngle,q=Un(0,L-W),D=q(x),B=jt(jt({},T),{},{startAngle:A+C,endAngle:A+D+C});b.push(B),A=B.endAngle}}),z.createElement(gt,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var o=this;r.onkeydown=function(l){if(!l.altKey)switch(l.key){case"ArrowLeft":{var u=++o.state.sectorToFocus%o.sectorRefs.length;o.sectorRefs[u].focus(),o.setState({sectorToFocus:u});break}case"ArrowRight":{var d=--o.state.sectorToFocus<0?o.sectorRefs.length-1:o.state.sectorToFocus%o.sectorRefs.length;o.sectorRefs[d].focus(),o.setState({sectorToFocus:d});break}case"Escape":{o.sectorRefs[o.state.sectorToFocus].blur(),o.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,o=r.sectors,l=r.isAnimationActive,u=this.state.prevSectors;return l&&o&&o.length&&(!u||!Vo(u,o))?this.renderSectorsWithAnimation():this.renderSectorsStatically(o)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,o=this.props,l=o.hide,u=o.sectors,d=o.className,f=o.label,p=o.cx,g=o.cy,m=o.innerRadius,v=o.outerRadius,w=o.isAnimationActive,_=this.state.isAnimationFinished;if(l||!u||!u.length||!Ie(p)||!Ie(g)||!Ie(m)||!Ie(v))return null;var x=dt("recharts-pie",d);return z.createElement(gt,{tabIndex:this.props.rootTabIndex,className:x,ref:function(E){r.pieRef=E}},this.renderSectors(),f&&this.renderLabels(u),pn.renderCallByParent(this.props,null,!1),(!w||_)&&wi.renderCallByParent(this.props,u,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return o.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:o.curSectors,isAnimationFinished:!0}:r.sectors!==o.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,o){return r>o?"start":r<o?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,o,l){if(z.isValidElement(r))return z.cloneElement(r,o);if(tt(r))return r(o);var u=dt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return z.createElement(Oo,Eo({},o,{key:l,type:"linear",className:u}))}},{key:"renderLabelItem",value:function(r,o,l){if(z.isValidElement(r))return z.cloneElement(r,o);var u=l;if(tt(r)&&(u=r(o),z.isValidElement(u)))return u;var d=dt("recharts-pie-label-text",typeof r!="boolean"&&!tt(r)?r.className:"");return z.createElement(Ba,Eo({},o,{alignmentBaseline:"middle",className:d}),u)}}])})(M.PureComponent);Hc=Jr;hr(Jr,"displayName","Pie");hr(Jr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});hr(Jr,"parseDeltaAngle",function(e,t){var n=Pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r});hr(Jr,"getRealPieData",function(e){var t=e.data,n=e.children,r=Xe(e,!1),o=gr(n,su);return t&&t.length?t.map(function(l,u){return jt(jt(jt({payload:l},r),l),o&&o[u]&&o[u].props)}):o&&o.length?o.map(function(l){return jt(jt({},r),l.props)}):[]});hr(Jr,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,o=t.width,l=t.height,u=aI(o,l),d=r+jn(e.cx,o,o/2),f=n+jn(e.cy,l,l/2),p=jn(e.innerRadius,u,0),g=jn(e.outerRadius,u,u*.8),m=e.maxRadius||Math.sqrt(o*o+l*l)/2;return{cx:d,cy:f,innerRadius:p,outerRadius:g,maxRadius:m}});hr(Jr,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?jt(jt({},t.type.defaultProps),t.props):t.props,o=Hc.getRealPieData(r);if(!o||!o.length)return null;var l=r.cornerRadius,u=r.startAngle,d=r.endAngle,f=r.paddingAngle,p=r.dataKey,g=r.nameKey,m=r.valueKey,v=r.tooltipType,w=Math.abs(r.minAngle),_=Hc.parseCoordinateOfPie(r,n),x=Hc.parseDeltaAngle(u,d),b=Math.abs(x),E=p;lt(p)&&lt(m)?(Ir(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):lt(p)&&(Ir(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=m);var A=o.filter(function(R){return on(R,E,0)!==0}).length,T=(b>=360?A:A-1)*f,P=b-A*w-T,N=o.reduce(function(R,L){var W=on(L,E,0);return R+(Ie(W)?W:0)},0),C;if(N>0){var I;C=o.map(function(R,L){var W=on(R,E,0),q=on(R,g,L),D=(Ie(W)?W:0)/N,B;L?B=I.endAngle+Pn(x)*f*(W!==0?1:0):B=u;var ee=B+Pn(x)*((W!==0?w:0)+D*P),Q=(B+ee)/2,ae=(_.innerRadius+_.outerRadius)/2,oe=[{name:q,value:W,payload:R,dataKey:E,type:v}],J=Mt(_.cx,_.cy,ae,Q);return I=jt(jt(jt({percent:D,cornerRadius:l,name:q,tooltipPayload:oe,midAngle:Q,middleRadius:ae,tooltipPosition:J},R),_),{},{value:on(R,E),startAngle:B,endAngle:ee,payload:R,paddingAngle:Pn(x)*f}),I})}return jt(jt({},_),{},{sectors:C,data:o})});var tv,$C;function kV(){if($C)return tv;$C=1;var e=Math.ceil,t=Math.max;function n(r,o,l,u){for(var d=-1,f=t(e((o-r)/(l||1)),0),p=Array(f);f--;)p[u?f:++d]=r,r+=l;return p}return tv=n,tv}var nv,qC;function _I(){if(qC)return nv;qC=1;var e=H2(),t=1/0,n=17976931348623157e292;function r(o){if(!o)return o===0?o:0;if(o=e(o),o===t||o===-t){var l=o<0?-1:1;return l*n}return o===o?o:0}return nv=r,nv}var rv,FC;function MV(){if(FC)return rv;FC=1;var e=kV(),t=uf(),n=_I();function r(o){return function(l,u,d){return d&&typeof d!="number"&&t(l,u,d)&&(u=d=void 0),l=n(l),u===void 0?(u=l,l=0):u=n(u),d=d===void 0?l<u?1:-1:n(d),e(l,u,d,o)}}return rv=r,rv}var iv,UC;function RV(){if(UC)return iv;UC=1;var e=MV(),t=e();return iv=t,iv}var OV=RV();const Od=_t(OV);function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function BC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function zC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(n),!0).forEach(function(r){AI(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AI(e,t,n){return t=DV(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DV(e){var t=LV(e,"string");return Zl(t)=="symbol"?t:t+""}function LV(e,t){if(Zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $V=["Webkit","Moz","O","ms"],qV=function(t,n){var r=t.replace(/(\w)/,function(l){return l.toUpperCase()}),o=$V.reduce(function(l,u){return zC(zC({},l),{},AI({},u+r,n))},{});return o[t]=n,o};function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd.apply(this,arguments)}function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(n),!0).forEach(function(r){Zn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FV(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CI(r.key),r)}}function UV(e,t,n){return t&&GC(e.prototype,t),n&&GC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BV(e,t,n){return t=Ld(t),zV(e,TI()?Reflect.construct(t,n||[],Ld(e).constructor):t.apply(e,n))}function zV(e,t){if(t&&(Yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VV(e)}function VV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TI=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ld(e)}function GV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C0(e,t)}function C0(e,t){return C0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},C0(e,t)}function Zn(e,t,n){return t=CI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CI(e){var t=HV(e,"string");return Yo(t)=="symbol"?t:t+""}function HV(e,t){if(Yo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WV=function(t){var n=t.data,r=t.startIndex,o=t.endIndex,l=t.x,u=t.width,d=t.travellerWidth;if(!n||!n.length)return{};var f=n.length,p=hl().domain(Od(0,f)).range([l,l+u-d]),g=p.domain().map(function(m){return p(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:p(r),endX:p(o),scale:p,scaleValues:g}},HC=function(t){return t.changedTouches&&!!t.changedTouches.length},Xo=(function(e){function t(n){var r;return FV(this,t),r=BV(this,t,[n]),Zn(r,"handleDrag",function(o){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(o):r.state.isSlideMoving&&r.handleSlideDrag(o)}),Zn(r,"handleTouchMove",function(o){o.changedTouches!=null&&o.changedTouches.length>0&&r.handleDrag(o.changedTouches[0])}),Zn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var o=r.props,l=o.endIndex,u=o.onDragEnd,d=o.startIndex;u==null||u({endIndex:l,startIndex:d})}),r.detachDragEndListener()}),Zn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zn(r,"handleSlideDragStart",function(o){var l=HC(o)?o.changedTouches[0]:o;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:l.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return GV(t,e),UV(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var o=r.startX,l=r.endX,u=this.state.scaleValues,d=this.props,f=d.gap,p=d.data,g=p.length-1,m=Math.min(o,l),v=Math.max(o,l),w=t.getIndexInRange(u,m),_=t.getIndexInRange(u,v);return{startIndex:w-w%f,endIndex:_===g?g:_-_%f}}},{key:"getTextOfTick",value:function(r){var o=this.props,l=o.data,u=o.tickFormatter,d=o.dataKey,f=on(l[r],d,r);return tt(u)?u(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var o=this.state,l=o.slideMoveStartX,u=o.startX,d=o.endX,f=this.props,p=f.x,g=f.width,m=f.travellerWidth,v=f.startIndex,w=f.endIndex,_=f.onChange,x=r.pageX-l;x>0?x=Math.min(x,p+g-m-d,p+g-m-u):x<0&&(x=Math.max(x,p-u,p-d));var b=this.getIndex({startX:u+x,endX:d+x});(b.startIndex!==v||b.endIndex!==w)&&_&&_(b),this.setState({startX:u+x,endX:d+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,o){var l=HC(o)?o.changedTouches[0]:o;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:l.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var o=this.state,l=o.brushMoveStartX,u=o.movingTravellerId,d=o.endX,f=o.startX,p=this.state[u],g=this.props,m=g.x,v=g.width,w=g.travellerWidth,_=g.onChange,x=g.gap,b=g.data,E={startX:this.state.startX,endX:this.state.endX},A=r.pageX-l;A>0?A=Math.min(A,m+v-w-p):A<0&&(A=Math.max(A,m-p)),E[u]=p+A;var T=this.getIndex(E),P=T.startIndex,N=T.endIndex,C=function(){var R=b.length-1;return u==="startX"&&(d>f?P%x===0:N%x===0)||d<f&&N===R||u==="endX"&&(d>f?N%x===0:P%x===0)||d>f&&N===R};this.setState(Zn(Zn({},u,p+A),"brushMoveStartX",r.pageX),function(){_&&C()&&_(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,o){var l=this,u=this.state,d=u.scaleValues,f=u.startX,p=u.endX,g=this.state[o],m=d.indexOf(g);if(m!==-1){var v=m+r;if(!(v===-1||v>=d.length)){var w=d[v];o==="startX"&&w>=p||o==="endX"&&w<=f||this.setState(Zn({},o,w),function(){l.props.onChange(l.getIndex({startX:l.state.startX,endX:l.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,o=r.x,l=r.y,u=r.width,d=r.height,f=r.fill,p=r.stroke;return z.createElement("rect",{stroke:p,fill:f,x:o,y:l,width:u,height:d})}},{key:"renderPanorama",value:function(){var r=this.props,o=r.x,l=r.y,u=r.width,d=r.height,f=r.data,p=r.children,g=r.padding,m=M.Children.only(p);return m?z.cloneElement(m,{x:o,y:l,width:u,height:d,margin:g,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,o){var l,u,d=this,f=this.props,p=f.y,g=f.travellerWidth,m=f.height,v=f.traveller,w=f.ariaLabel,_=f.data,x=f.startIndex,b=f.endIndex,E=Math.max(r,this.props.x),A=av(av({},Xe(this.props,!1)),{},{x:E,y:p,width:g,height:m}),T=w||"Min value: ".concat((l=_[x])===null||l===void 0?void 0:l.name,", Max value: ").concat((u=_[b])===null||u===void 0?void 0:u.name);return z.createElement(gt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[o],onTouchStart:this.travellerDragStartHandlers[o],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),d.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,o))},onFocus:function(){d.setState({isTravellerFocused:!0})},onBlur:function(){d.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(v,A))}},{key:"renderSlide",value:function(r,o){var l=this.props,u=l.y,d=l.height,f=l.stroke,p=l.travellerWidth,g=Math.min(r,o)+p,m=Math.max(Math.abs(o-r)-p,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:g,y:u,width:m,height:d})}},{key:"renderText",value:function(){var r=this.props,o=r.startIndex,l=r.endIndex,u=r.y,d=r.height,f=r.travellerWidth,p=r.stroke,g=this.state,m=g.startX,v=g.endX,w=5,_={pointerEvents:"none",fill:p};return z.createElement(gt,{className:"recharts-brush-texts"},z.createElement(Ba,Dd({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-w,y:u+d/2},_),this.getTextOfTick(o)),z.createElement(Ba,Dd({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+f+w,y:u+d/2},_),this.getTextOfTick(l)))}},{key:"render",value:function(){var r=this.props,o=r.data,l=r.className,u=r.children,d=r.x,f=r.y,p=r.width,g=r.height,m=r.alwaysShowText,v=this.state,w=v.startX,_=v.endX,x=v.isTextActive,b=v.isSlideMoving,E=v.isTravellerMoving,A=v.isTravellerFocused;if(!o||!o.length||!Ie(d)||!Ie(f)||!Ie(p)||!Ie(g)||p<=0||g<=0)return null;var T=dt("recharts-brush",l),P=z.Children.count(u)===1,N=qV("userSelect","none");return z.createElement(gt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(w,_),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(_,"endX"),(x||b||E||A||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var o=r.x,l=r.y,u=r.width,d=r.height,f=r.stroke,p=Math.floor(l+d/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:o,y:l,width:u,height:d,fill:f,stroke:"none"}),z.createElement("line",{x1:o+1,y1:p,x2:o+u-1,y2:p,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:o+1,y1:p+2,x2:o+u-1,y2:p+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,o){var l;return z.isValidElement(r)?l=z.cloneElement(r,o):tt(r)?l=r(o):l=t.renderDefaultTraveller(o),l}},{key:"getDerivedStateFromProps",value:function(r,o){var l=r.data,u=r.width,d=r.x,f=r.travellerWidth,p=r.updateId,g=r.startIndex,m=r.endIndex;if(l!==o.prevData||p!==o.prevUpdateId)return av({prevData:l,prevTravellerWidth:f,prevUpdateId:p,prevX:d,prevWidth:u},l&&l.length?WV({data:l,width:u,x:d,travellerWidth:f,startIndex:g,endIndex:m}):{scale:null,scaleValues:null});if(o.scale&&(u!==o.prevWidth||d!==o.prevX||f!==o.prevTravellerWidth)){o.scale.range([d,d+u-f]);var v=o.scale.domain().map(function(w){return o.scale(w)});return{prevData:l,prevTravellerWidth:f,prevUpdateId:p,prevX:d,prevWidth:u,startX:o.scale(r.startIndex),endX:o.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,o){for(var l=r.length,u=0,d=l-1;d-u>1;){var f=Math.floor((u+d)/2);r[f]>o?d=f:u=f}return o>=r[d]?d:u}}])})(M.PureComponent);Zn(Xo,"displayName","Brush");Zn(Xo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ov,WC;function KV(){if(WC)return ov;WC=1;var e=px();function t(n,r){var o;return e(n,function(l,u,d){return o=r(l,u,d),!o}),!!o}return ov=t,ov}var sv,KC;function JV(){if(KC)return sv;KC=1;var e=N2(),t=Kr(),n=KV(),r=Vn(),o=uf();function l(u,d,f){var p=r(u)?e:n;return f&&o(u,d,f)&&(d=void 0),p(u,t(d,3))}return sv=l,sv}var YV=JV();const XV=_t(YV);var Vr=function(t,n){var r=t.alwaysShow,o=t.ifOverflow;return r&&(o="extendDomain"),o===n},lv,JC;function ZV(){if(JC)return lv;JC=1;var e=U2();function t(n,r,o){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):n[r]=o}return lv=t,lv}var uv,YC;function QV(){if(YC)return uv;YC=1;var e=ZV(),t=q2(),n=Kr();function r(o,l){var u={};return l=n(l,3),t(o,function(d,f,p){e(u,f,l(d,f,p))}),u}return uv=r,uv}var e8=QV();const t8=_t(e8);var cv,XC;function n8(){if(XC)return cv;XC=1;function e(t,n){for(var r=-1,o=t==null?0:t.length;++r<o;)if(!n(t[r],r,t))return!1;return!0}return cv=e,cv}var dv,ZC;function r8(){if(ZC)return dv;ZC=1;var e=px();function t(n,r){var o=!0;return e(n,function(l,u,d){return o=!!r(l,u,d),o}),o}return dv=t,dv}var fv,QC;function i8(){if(QC)return fv;QC=1;var e=n8(),t=r8(),n=Kr(),r=Vn(),o=uf();function l(u,d,f){var p=r(u)?e:t;return f&&o(u,d,f)&&(d=void 0),p(u,n(d,3))}return fv=l,fv}var a8=i8();const EI=_t(a8);var o8=["x","y"];function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E0.apply(this,arguments)}function eE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(n),!0).forEach(function(r){s8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s8(e,t,n){return t=l8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l8(e){var t=u8(e,"string");return Ql(t)=="symbol"?t:t+""}function u8(e,t){if(Ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8(e,t){if(e==null)return{};var n=d8(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d8(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function f8(e,t){var n=e.x,r=e.y,o=c8(e,o8),l="".concat(n),u=parseInt(l,10),d="".concat(r),f=parseInt(d,10),p="".concat(t.height||o.height),g=parseInt(p,10),m="".concat(t.width||o.width),v=parseInt(m,10);return ul(ul(ul(ul(ul({},t),o),u?{x:u}:{}),f?{y:f}:{}),{},{height:g,width:v,name:t.name,radius:t.radius})}function tE(e){return z.createElement(wI,E0({shapeType:"rectangle",propTransformer:f8,activeClassName:"recharts-active-bar"},e))}var p8=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,o){if(typeof t=="number")return t;var l=Ie(r)||DO(r);return l?t(r,o):(l||Va(),n)}},h8=["value","background"],PI;function Zo(e){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(e)}function m8(e,t){if(e==null)return{};var n=g8(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function g8(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$d.apply(this,arguments)}function nE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nE(Object(n),!0).forEach(function(r){ea(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,II(r.key),r)}}function v8(e,t,n){return t&&rE(e.prototype,t),n&&rE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x8(e,t,n){return t=qd(t),b8(e,jI()?Reflect.construct(t,n||[],qd(e).constructor):t.apply(e,n))}function b8(e,t){if(t&&(Zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w8(e)}function w8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jI=function(){return!!e})()}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qd(e)}function S8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P0(e,t)}function P0(e,t){return P0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},P0(e,t)}function ea(e,t,n){return t=II(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function II(e){var t=N8(e,"string");return Zo(t)=="symbol"?t:t+""}function N8(e,t){if(Zo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aa=(function(e){function t(){var n;y8(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=x8(this,t,[].concat(o)),ea(n,"state",{isAnimationFinished:!1}),ea(n,"id",ds("recharts-bar-")),ea(n,"handleAnimationEnd",function(){var u=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),u&&u()}),ea(n,"handleAnimationStart",function(){var u=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),u&&u()}),n}return S8(t,e),v8(t,[{key:"renderRectanglesStatically",value:function(r){var o=this,l=this.props,u=l.shape,d=l.dataKey,f=l.activeIndex,p=l.activeBar,g=Xe(this.props,!1);return r&&r.map(function(m,v){var w=v===f,_=w?p:u,x=Qt(Qt(Qt({},g),m),{},{isActive:w,option:_,index:v,dataKey:d,onAnimationStart:o.handleAnimationStart,onAnimationEnd:o.handleAnimationEnd});return z.createElement(gt,$d({className:"recharts-bar-rectangle"},Ua(o.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(v)}),z.createElement(tE,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,o=this.props,l=o.data,u=o.layout,d=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,m=o.animationId,v=this.state.prevData;return z.createElement(Hr,{begin:f,duration:p,isActive:d,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t,x=l.map(function(b,E){var A=v&&v[E];if(A){var T=Un(A.x,b.x),P=Un(A.y,b.y),N=Un(A.width,b.width),C=Un(A.height,b.height);return Qt(Qt({},b),{},{x:T(_),y:P(_),width:N(_),height:C(_)})}if(u==="horizontal"){var I=Un(0,b.height),R=I(_);return Qt(Qt({},b),{},{y:b.y+b.height-R,height:R})}var L=Un(0,b.width),W=L(_);return Qt(Qt({},b),{},{width:W})});return z.createElement(gt,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,o=r.data,l=r.isAnimationActive,u=this.state.prevData;return l&&o&&o.length&&(!u||!Vo(u,o))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(o)}},{key:"renderBackground",value:function(){var r=this,o=this.props,l=o.data,u=o.dataKey,d=o.activeIndex,f=Xe(this.props.background,!1);return l.map(function(p,g){p.value;var m=p.background,v=m8(p,h8);if(!m)return null;var w=Qt(Qt(Qt(Qt(Qt({},v),{},{fill:"#eee"},m),f),Ua(r.props,p,g)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:u,index:g,className:"recharts-bar-background-rectangle"});return z.createElement(tE,$d({key:"background-bar-".concat(g),option:r.props.background,isActive:g===d},w))})}},{key:"renderErrorBar",value:function(r,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.data,d=l.xAxis,f=l.yAxis,p=l.layout,g=l.children,m=gr(g,bf);if(!m)return null;var v=p==="vertical"?u[0].height/2:u[0].width/2,w=function(b,E){var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:on(b,E)}},_={clipPath:r?"url(#clipPath-".concat(o,")"):null};return z.createElement(gt,_,m.map(function(x){return z.cloneElement(x,{key:"error-bar-".concat(o,"-").concat(x.props.dataKey),data:u,xAxis:d,yAxis:f,layout:p,offset:v,dataPointFormatter:w})}))}},{key:"render",value:function(){var r=this.props,o=r.hide,l=r.data,u=r.className,d=r.xAxis,f=r.yAxis,p=r.left,g=r.top,m=r.width,v=r.height,w=r.isAnimationActive,_=r.background,x=r.id;if(o||!l||!l.length)return null;var b=this.state.isAnimationFinished,E=dt("recharts-bar",u),A=d&&d.allowDataOverflow,T=f&&f.allowDataOverflow,P=A||T,N=lt(x)?this.id:x;return z.createElement(gt,{className:E},A||T?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(N)},z.createElement("rect",{x:A?p:p-m/2,y:T?g:g-v/2,width:A?m:m*2,height:T?v:v*2}))):null,z.createElement(gt,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(N,")"):null},_?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,N),(!w||b)&&wi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:o.curData}:r.data!==o.curData?{curData:r.data}:null}}])})(M.PureComponent);PI=aa;ea(aa,"displayName","Bar");ea(aa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ea(aa,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,o=e.bandSize,l=e.xAxis,u=e.yAxis,d=e.xAxisTicks,f=e.yAxisTicks,p=e.stackedData,g=e.dataStartIndex,m=e.displayedData,v=e.offset,w=Xq(r,n);if(!w)return null;var _=t.layout,x=n.type.defaultProps,b=x!==void 0?Qt(Qt({},x),n.props):n.props,E=b.dataKey,A=b.children,T=b.minPointSize,P=_==="horizontal"?u:l,N=p?P.scale.domain():null,C=iF({numericAxis:P}),I=gr(A,su),R=m.map(function(L,W){var q,D,B,ee,Q,ae;p?q=Zq(p[g+W],N):(q=on(L,E),Array.isArray(q)||(q=[C,q]));var oe=p8(T,PI.defaultProps.minPointSize)(q[1],W);if(_==="horizontal"){var J,F=[u.scale(q[0]),u.scale(q[1])],X=F[0],O=F[1];D=ET({axis:l,ticks:d,bandSize:o,offset:w.offset,entry:L,index:W}),B=(J=O??X)!==null&&J!==void 0?J:void 0,ee=w.size;var H=X-O;if(Q=Number.isNaN(H)?0:H,ae={x:D,y:u.y,width:ee,height:u.height},Math.abs(oe)>0&&Math.abs(Q)<Math.abs(oe)){var fe=Pn(Q||oe)*(Math.abs(oe)-Math.abs(Q));B-=fe,Q+=fe}}else{var G=[l.scale(q[0]),l.scale(q[1])],pe=G[0],me=G[1];if(D=pe,B=ET({axis:u,ticks:f,bandSize:o,offset:w.offset,entry:L,index:W}),ee=me-pe,Q=w.size,ae={x:l.x,y:B,width:l.width,height:Q},Math.abs(oe)>0&&Math.abs(ee)<Math.abs(oe)){var ne=Pn(ee||oe)*(Math.abs(oe)-Math.abs(ee));ee+=ne}}return Qt(Qt(Qt({},L),{},{x:D,y:B,width:ee,height:Q,value:p?q:q[1],payload:L,background:ae},I&&I[W]&&I[W].props),{},{tooltipPayload:[rI(n,L)],tooltipPosition:{x:D+ee/2,y:B+Q/2}})});return Qt({data:R,layout:_},v)});function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function _8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kI(r.key),r)}}function A8(e,t,n){return t&&iE(e.prototype,t),n&&iE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(n),!0).forEach(function(r){Ef(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ef(e,t,n){return t=kI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kI(e){var t=T8(e,"string");return eu(t)=="symbol"?t:t+""}function T8(e,t){if(eu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MI=function(t,n,r,o,l){var u=t.width,d=t.height,f=t.layout,p=t.children,g=Object.keys(n),m={left:r.left,leftMirror:r.left,right:u-r.right,rightMirror:u-r.right,top:r.top,topMirror:r.top,bottom:d-r.bottom,bottomMirror:d-r.bottom},v=!!Qn(p,aa);return g.reduce(function(w,_){var x=n[_],b=x.orientation,E=x.domain,A=x.padding,T=A===void 0?{}:A,P=x.mirror,N=x.reversed,C="".concat(b).concat(P?"Mirror":""),I,R,L,W,q;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var D=E[1]-E[0],B=1/0,ee=x.categoricalDomain.sort(qO);if(ee.forEach(function(G,pe){pe>0&&(B=Math.min((G||0)-(ee[pe-1]||0),B))}),Number.isFinite(B)){var Q=B/D,ae=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(I=Q*ae/2),x.padding==="no-gap"){var oe=jn(t.barCategoryGap,Q*ae),J=Q*ae/2;I=J-oe-(J-oe)/ae*oe}}}o==="xAxis"?R=[r.left+(T.left||0)+(I||0),r.left+r.width-(T.right||0)-(I||0)]:o==="yAxis"?R=f==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(I||0),r.top+r.height-(T.bottom||0)-(I||0)]:R=x.range,N&&(R=[R[1],R[0]]);var F=Qj(x,l,v),X=F.scale,O=F.realScaleType;X.domain(E).range(R),eI(X);var H=tI(X,Cr(Cr({},x),{},{realScaleType:O}));o==="xAxis"?(q=b==="top"&&!P||b==="bottom"&&P,L=r.left,W=m[C]-q*x.height):o==="yAxis"&&(q=b==="left"&&!P||b==="right"&&P,L=m[C]-q*x.width,W=r.top);var fe=Cr(Cr(Cr({},x),H),{},{realScaleType:O,x:L,y:W,scale:X,width:o==="xAxis"?r.width:x.width,height:o==="yAxis"?r.height:x.height});return fe.bandSize=Nd(fe,H),!x.hide&&o==="xAxis"?m[C]+=(q?-1:1)*fe.height:x.hide||(m[C]+=(q?-1:1)*fe.width),Cr(Cr({},w),{},Ef({},_,fe))},{})},RI=function(t,n){var r=t.x,o=t.y,l=n.x,u=n.y;return{x:Math.min(r,l),y:Math.min(o,u),width:Math.abs(l-r),height:Math.abs(u-o)}},C8=function(t){var n=t.x1,r=t.y1,o=t.x2,l=t.y2;return RI({x:n,y:r},{x:o,y:l})},OI=(function(){function e(t){_8(this,e),this.scale=t}return A8(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.bandAware,l=r.position;if(n!==void 0){if(l)switch(l){case"start":return this.scale(n);case"middle":{var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}case"end":{var d=this.bandwidth?this.bandwidth():0;return this.scale(n)+d}default:return this.scale(n)}if(o){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),o=r[0],l=r[r.length-1];return o<=l?n>=o&&n<=l:n>=l&&n<=o}}],[{key:"create",value:function(n){return new e(n)}}])})();Ef(OI,"EPS",1e-4);var Bx=function(t){var n=Object.keys(t).reduce(function(r,o){return Cr(Cr({},r),{},Ef({},o,OI.create(t[o])))},{});return Cr(Cr({},n),{},{apply:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.bandAware,d=l.position;return t8(o,function(f,p){return n[p].apply(f,{bandAware:u,position:d})})},isInRange:function(o){return EI(o,function(l,u){return n[u].isInRange(l)})}})};function E8(e){return(e%180+180)%180}var P8=function(t){var n=t.width,r=t.height,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=E8(o),u=l*Math.PI/180,d=Math.atan(r/n),f=u>d&&u<Math.PI-d?r/Math.sin(u):n/Math.cos(u);return Math.abs(f)},pv,oE;function j8(){if(oE)return pv;oE=1;var e=Kr(),t=ou(),n=sf();function r(o){return function(l,u,d){var f=Object(l);if(!t(l)){var p=e(u,3);l=n(l),u=function(m){return p(f[m],m,f)}}var g=o(l,u,d);return g>-1?f[p?l[g]:g]:void 0}}return pv=r,pv}var hv,sE;function I8(){if(sE)return hv;sE=1;var e=_I();function t(n){var r=e(n),o=r%1;return r===r?o?r-o:r:0}return hv=t,hv}var mv,lE;function k8(){if(lE)return mv;lE=1;var e=R2(),t=Kr(),n=I8(),r=Math.max;function o(l,u,d){var f=l==null?0:l.length;if(!f)return-1;var p=d==null?0:n(d);return p<0&&(p=r(f+p,0)),e(l,t(u,3),p)}return mv=o,mv}var gv,uE;function M8(){if(uE)return gv;uE=1;var e=j8(),t=k8(),n=e(t);return gv=n,gv}var R8=M8();const O8=_t(R8);var D8=YP();const L8=_t(D8);var $8=L8(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),zx=M.createContext(void 0),Vx=M.createContext(void 0),DI=M.createContext(void 0),LI=M.createContext({}),$I=M.createContext(void 0),qI=M.createContext(0),FI=M.createContext(0),cE=function(t){var n=t.state,r=n.xAxisMap,o=n.yAxisMap,l=n.offset,u=t.clipPathId,d=t.children,f=t.width,p=t.height,g=$8(l);return z.createElement(zx.Provider,{value:r},z.createElement(Vx.Provider,{value:o},z.createElement(LI.Provider,{value:l},z.createElement(DI.Provider,{value:g},z.createElement($I.Provider,{value:u},z.createElement(qI.Provider,{value:p},z.createElement(FI.Provider,{value:f},d)))))))},q8=function(){return M.useContext($I)},UI=function(t){var n=M.useContext(zx);n==null&&Va();var r=n[t];return r==null&&Va(),r},F8=function(){var t=M.useContext(zx);return Zi(t)},U8=function(){var t=M.useContext(Vx),n=O8(t,function(r){return EI(r.domain,Number.isFinite)});return n||Zi(t)},BI=function(t){var n=M.useContext(Vx);n==null&&Va();var r=n[t];return r==null&&Va(),r},B8=function(){var t=M.useContext(DI);return t},z8=function(){return M.useContext(LI)},Gx=function(){return M.useContext(FI)},Hx=function(){return M.useContext(qI)};function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function V8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VI(r.key),r)}}function H8(e,t,n){return t&&G8(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function W8(e,t,n){return t=Fd(t),K8(e,zI()?Reflect.construct(t,n||[],Fd(e).constructor):t.apply(e,n))}function K8(e,t){if(t&&(Qo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J8(e)}function J8(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zI=function(){return!!e})()}function Fd(e){return Fd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fd(e)}function Y8(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j0(e,t)}function j0(e,t){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},j0(e,t)}function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dE(Object(n),!0).forEach(function(r){Wx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wx(e,t,n){return t=VI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VI(e){var t=X8(e,"string");return Qo(t)=="symbol"?t:t+""}function X8(e,t){if(Qo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z8(e,t){return n7(e)||t7(e,t)||e7(e,t)||Q8()}function Q8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e7(e,t){if(e){if(typeof e=="string")return pE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pE(e,t)}}function pE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function n7(e){if(Array.isArray(e))return e}function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I0.apply(this,arguments)}var r7=function(t,n){var r;return z.isValidElement(t)?r=z.cloneElement(t,n):tt(t)?r=t(n):r=z.createElement("line",I0({},n,{className:"recharts-reference-line-line"})),r},i7=function(t,n,r,o,l,u,d,f,p){var g=l.x,m=l.y,v=l.width,w=l.height;if(r){var _=p.y,x=t.y.apply(_,{position:u});if(Vr(p,"discard")&&!t.y.isInRange(x))return null;var b=[{x:g+v,y:x},{x:g,y:x}];return f==="left"?b.reverse():b}if(n){var E=p.x,A=t.x.apply(E,{position:u});if(Vr(p,"discard")&&!t.x.isInRange(A))return null;var T=[{x:A,y:m+w},{x:A,y:m}];return d==="top"?T.reverse():T}if(o){var P=p.segment,N=P.map(function(C){return t.apply(C,{position:u})});return Vr(p,"discard")&&XV(N,function(C){return!t.isInRange(C)})?null:N}return null};function a7(e){var t=e.x,n=e.y,r=e.segment,o=e.xAxisId,l=e.yAxisId,u=e.shape,d=e.className,f=e.alwaysShow,p=q8(),g=UI(o),m=BI(l),v=B8();if(!p||!v)return null;Ir(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=Bx({x:g.scale,y:m.scale}),_=sn(t),x=sn(n),b=r&&r.length===2,E=i7(w,_,x,b,v,e.position,g.orientation,m.orientation,e);if(!E)return null;var A=Z8(E,2),T=A[0],P=T.x,N=T.y,C=A[1],I=C.x,R=C.y,L=Vr(e,"hidden")?"url(#".concat(p,")"):void 0,W=fE(fE({clipPath:L},Xe(e,!0)),{},{x1:P,y1:N,x2:I,y2:R});return z.createElement(gt,{className:dt("recharts-reference-line",d)},r7(u,W),pn.renderCallByParent(e,C8({x1:P,y1:N,x2:I,y2:R})))}var Kx=(function(e){function t(){return V8(this,t),W8(this,t,arguments)}return Y8(t,e),H8(t,[{key:"render",value:function(){return z.createElement(a7,this.props)}}])})(z.Component);Wx(Kx,"displayName","ReferenceLine");Wx(Kx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(this,arguments)}function es(e){"@babel/helpers - typeof";return es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function hE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(n),!0).forEach(function(r){Pf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function o7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HI(r.key),r)}}function l7(e,t,n){return t&&s7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u7(e,t,n){return t=Ud(t),c7(e,GI()?Reflect.construct(t,n||[],Ud(e).constructor):t.apply(e,n))}function c7(e,t){if(t&&(es(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d7(e)}function d7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GI=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ud(e)}function f7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M0(e,t)}function M0(e,t){return M0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},M0(e,t)}function Pf(e,t,n){return t=HI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HI(e){var t=p7(e,"string");return es(t)=="symbol"?t:t+""}function p7(e,t){if(es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var h7=function(t){var n=t.x,r=t.y,o=t.xAxis,l=t.yAxis,u=Bx({x:o.scale,y:l.scale}),d=u.apply({x:n,y:r},{bandAware:!0});return Vr(t,"discard")&&!u.isInRange(d)?null:d},jf=(function(e){function t(){return o7(this,t),u7(this,t,arguments)}return f7(t,e),l7(t,[{key:"render",value:function(){var r=this.props,o=r.x,l=r.y,u=r.r,d=r.alwaysShow,f=r.clipPathId,p=sn(o),g=sn(l);if(Ir(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!p||!g)return null;var m=h7(this.props);if(!m)return null;var v=m.x,w=m.y,_=this.props,x=_.shape,b=_.className,E=Vr(this.props,"hidden")?"url(#".concat(f,")"):void 0,A=mE(mE({clipPath:E},Xe(this.props,!0)),{},{cx:v,cy:w});return z.createElement(gt,{className:dt("recharts-reference-dot",b)},t.renderDot(x,A),pn.renderCallByParent(this.props,{x:v-u,y:w-u,width:2*u,height:2*u}))}}])})(z.Component);Pf(jf,"displayName","ReferenceDot");Pf(jf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pf(jf,"renderDot",function(e,t){var n;return z.isValidElement(e)?n=z.cloneElement(e,t):tt(e)?n=e(t):n=z.createElement(wf,k0({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(this,arguments)}function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function gE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(n),!0).forEach(function(r){If(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KI(r.key),r)}}function y7(e,t,n){return t&&g7(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v7(e,t,n){return t=Bd(t),x7(e,WI()?Reflect.construct(t,n||[],Bd(e).constructor):t.apply(e,n))}function x7(e,t){if(t&&(ts(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b7(e)}function b7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WI=function(){return!!e})()}function Bd(e){return Bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bd(e)}function w7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O0(e,t)}function O0(e,t){return O0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},O0(e,t)}function If(e,t,n){return t=KI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KI(e){var t=S7(e,"string");return ts(t)=="symbol"?t:t+""}function S7(e,t){if(ts(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ts(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var N7=function(t,n,r,o,l){var u=l.x1,d=l.x2,f=l.y1,p=l.y2,g=l.xAxis,m=l.yAxis;if(!g||!m)return null;var v=Bx({x:g.scale,y:m.scale}),w={x:t?v.x.apply(u,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(f,{position:"start"}):v.y.rangeMin},_={x:n?v.x.apply(d,{position:"end"}):v.x.rangeMax,y:o?v.y.apply(p,{position:"end"}):v.y.rangeMax};return Vr(l,"discard")&&(!v.isInRange(w)||!v.isInRange(_))?null:RI(w,_)},kf=(function(e){function t(){return m7(this,t),v7(this,t,arguments)}return w7(t,e),y7(t,[{key:"render",value:function(){var r=this.props,o=r.x1,l=r.x2,u=r.y1,d=r.y2,f=r.className,p=r.alwaysShow,g=r.clipPathId;Ir(p===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=sn(o),v=sn(l),w=sn(u),_=sn(d),x=this.props.shape;if(!m&&!v&&!w&&!_&&!x)return null;var b=N7(m,v,w,_,this.props);if(!b&&!x)return null;var E=Vr(this.props,"hidden")?"url(#".concat(g,")"):void 0;return z.createElement(gt,{className:dt("recharts-reference-area",f)},t.renderRect(x,yE(yE({clipPath:E},Xe(this.props,!0)),b)),pn.renderCallByParent(this.props,b))}}])})(z.Component);If(kf,"displayName","ReferenceArea");If(kf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});If(kf,"renderRect",function(e,t){var n;return z.isValidElement(e)?n=z.cloneElement(e,t):tt(e)?n=e(t):n=z.createElement(Ux,R0({},t,{className:"recharts-reference-area-rect"})),n});function JI(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],o=0;o<e.length;o+=t)r.push(e[o]);return r}function _7(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return P8(r,n)}function A7(e,t,n){var r=n==="width",o=e.x,l=e.y,u=e.width,d=e.height;return t===1?{start:r?o:l,end:r?o+u:l+d}:{start:r?o+u:l+d,end:r?o:l}}function zd(e,t,n,r,o){if(e*t<e*r||e*t>e*o)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-o)<=0}function T7(e,t){return JI(e,t+1)}function C7(e,t,n,r,o){for(var l=(r||[]).slice(),u=t.start,d=t.end,f=0,p=1,g=u,m=function(){var _=r==null?void 0:r[f];if(_===void 0)return{v:JI(r,p)};var x=f,b,E=function(){return b===void 0&&(b=n(_,x)),b},A=_.coordinate,T=f===0||zd(e,A,E,g,d);T||(f=0,g=u,p+=1),T&&(g=A+e*(E()/2+o),f+=p)},v;p<=l.length;)if(v=m(),v)return v.v;return[]}function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function vE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(n),!0).forEach(function(r){E7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E7(e,t,n){return t=P7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P7(e){var t=j7(e,"string");return tu(t)=="symbol"?t:t+""}function j7(e,t){if(tu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I7(e,t,n,r,o){for(var l=(r||[]).slice(),u=l.length,d=t.start,f=t.end,p=function(v){var w=l[v],_,x=function(){return _===void 0&&(_=n(w,v)),_};if(v===u-1){var b=e*(w.coordinate+e*x()/2-f);l[v]=w=Sn(Sn({},w),{},{tickCoord:b>0?w.coordinate-b*e:w.coordinate})}else l[v]=w=Sn(Sn({},w),{},{tickCoord:w.coordinate});var E=zd(e,w.tickCoord,x,d,f);E&&(f=w.tickCoord-e*(x()/2+o),l[v]=Sn(Sn({},w),{},{isShow:!0}))},g=u-1;g>=0;g--)p(g);return l}function k7(e,t,n,r,o,l){var u=(r||[]).slice(),d=u.length,f=t.start,p=t.end;if(l){var g=r[d-1],m=n(g,d-1),v=e*(g.coordinate+e*m/2-p);u[d-1]=g=Sn(Sn({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate});var w=zd(e,g.tickCoord,function(){return m},f,p);w&&(p=g.tickCoord-e*(m/2+o),u[d-1]=Sn(Sn({},g),{},{isShow:!0}))}for(var _=l?d-1:d,x=function(A){var T=u[A],P,N=function(){return P===void 0&&(P=n(T,A)),P};if(A===0){var C=e*(T.coordinate-e*N()/2-f);u[A]=T=Sn(Sn({},T),{},{tickCoord:C<0?T.coordinate-C*e:T.coordinate})}else u[A]=T=Sn(Sn({},T),{},{tickCoord:T.coordinate});var I=zd(e,T.tickCoord,N,f,p);I&&(f=T.tickCoord+e*(N()/2+o),u[A]=Sn(Sn({},T),{},{isShow:!0}))},b=0;b<_;b++)x(b);return u}function Jx(e,t,n){var r=e.tick,o=e.ticks,l=e.viewBox,u=e.minTickGap,d=e.orientation,f=e.interval,p=e.tickFormatter,g=e.unit,m=e.angle;if(!o||!o.length||!r)return[];if(Ie(f)||Wa.isSsr)return T7(o,typeof f=="number"&&Ie(f)?f:0);var v=[],w=d==="top"||d==="bottom"?"width":"height",_=g&&w==="width"?pl(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=function(T,P){var N=tt(p)?p(T.value,P):T.value;return w==="width"?_7(pl(N,{fontSize:t,letterSpacing:n}),_,m):pl(N,{fontSize:t,letterSpacing:n})[w]},b=o.length>=2?Pn(o[1].coordinate-o[0].coordinate):1,E=A7(l,b,w);return f==="equidistantPreserveStart"?C7(b,E,x,o,u):(f==="preserveStart"||f==="preserveStartEnd"?v=k7(b,E,x,o,u,f==="preserveStartEnd"):v=I7(b,E,x,o,u),v.filter(function(A){return A.isShow}))}var M7=["viewBox"],R7=["viewBox"],O7=["ticks"];function ns(e){"@babel/helpers - typeof";return ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ns(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Po.apply(this,arguments)}function xE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(n),!0).forEach(function(r){Yx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yv(e,t){if(e==null)return{};var n=D7(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function D7(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function L7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XI(r.key),r)}}function $7(e,t,n){return t&&bE(e.prototype,t),n&&bE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function q7(e,t,n){return t=Vd(t),F7(e,YI()?Reflect.construct(t,n||[],Vd(e).constructor):t.apply(e,n))}function F7(e,t){if(t&&(ns(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U7(e)}function U7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YI=function(){return!!e})()}function Vd(e){return Vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vd(e)}function B7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D0(e,t)}function D0(e,t){return D0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},D0(e,t)}function Yx(e,t,n){return t=XI(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XI(e){var t=z7(e,"string");return ns(t)=="symbol"?t:t+""}function z7(e,t){if(ns(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gs=(function(e){function t(n){var r;return L7(this,t),r=q7(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return B7(t,e),$7(t,[{key:"shouldComponentUpdate",value:function(r,o){var l=r.viewBox,u=yv(r,M7),d=this.props,f=d.viewBox,p=yv(d,R7);return!Io(l,f)||!Io(u,p)||!Io(o,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var o=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];o&&this.setState({fontSize:window.getComputedStyle(o).fontSize,letterSpacing:window.getComputedStyle(o).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var o=this.props,l=o.x,u=o.y,d=o.width,f=o.height,p=o.orientation,g=o.tickSize,m=o.mirror,v=o.tickMargin,w,_,x,b,E,A,T=m?-1:1,P=r.tickSize||g,N=Ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(p){case"top":w=_=r.coordinate,b=u+ +!m*f,x=b-T*P,A=x-T*v,E=N;break;case"left":x=b=r.coordinate,_=l+ +!m*d,w=_-T*P,E=w-T*v,A=N;break;case"right":x=b=r.coordinate,_=l+ +m*d,w=_+T*P,E=w+T*v,A=N;break;default:w=_=r.coordinate,b=u+ +m*f,x=b+T*P,A=x+T*v,E=N;break}return{line:{x1:w,y1:x,x2:_,y2:b},tick:{x:E,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,o=r.orientation,l=r.mirror,u;switch(o){case"left":u=l?"start":"end";break;case"right":u=l?"end":"start";break;default:u="middle";break}return u}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,o=r.orientation,l=r.mirror,u="end";switch(o){case"left":case"right":u="middle";break;case"top":u=l?"start":"end";break;default:u=l?"end":"start";break}return u}},{key:"renderAxisLine",value:function(){var r=this.props,o=r.x,l=r.y,u=r.width,d=r.height,f=r.orientation,p=r.mirror,g=r.axisLine,m=rn(rn(rn({},Xe(this.props,!1)),Xe(g,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var v=+(f==="top"&&!p||f==="bottom"&&p);m=rn(rn({},m),{},{x1:o,y1:l+v*d,x2:o+u,y2:l+v*d})}else{var w=+(f==="left"&&!p||f==="right"&&p);m=rn(rn({},m),{},{x1:o+w*u,y1:l,x2:o+w*u,y2:l+d})}return z.createElement("line",Po({},m,{className:dt("recharts-cartesian-axis-line",nr(g,"className"))}))}},{key:"renderTicks",value:function(r,o,l){var u=this,d=this.props,f=d.tickLine,p=d.stroke,g=d.tick,m=d.tickFormatter,v=d.unit,w=Jx(rn(rn({},this.props),{},{ticks:r}),o,l),_=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),b=Xe(this.props,!1),E=Xe(g,!1),A=rn(rn({},b),{},{fill:"none"},Xe(f,!1)),T=w.map(function(P,N){var C=u.getTickLineCoord(P),I=C.line,R=C.tick,L=rn(rn(rn(rn({textAnchor:_,verticalAnchor:x},b),{},{stroke:"none",fill:p},E),R),{},{index:N,payload:P,visibleTicksCount:w.length,tickFormatter:m});return z.createElement(gt,Po({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},Ua(u.props,P,N)),f&&z.createElement("line",Po({},A,I,{className:dt("recharts-cartesian-axis-tick-line",nr(f,"className"))})),g&&t.renderTickItem(g,L,"".concat(tt(m)?m(P.value,N):P.value).concat(v||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,o=this.props,l=o.axisLine,u=o.width,d=o.height,f=o.ticksGenerator,p=o.className,g=o.hide;if(g)return null;var m=this.props,v=m.ticks,w=yv(m,O7),_=v;return tt(f)&&(_=v&&v.length>0?f(this.props):f(w)),u<=0||d<=0||!_||!_.length?null:z.createElement(gt,{className:dt("recharts-cartesian-axis",p),ref:function(b){r.layerReference=b}},l&&this.renderAxisLine(),this.renderTicks(_,this.state.fontSize,this.state.letterSpacing),pn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,o,l){var u,d=dt(o.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?u=z.cloneElement(r,rn(rn({},o),{},{className:d})):tt(r)?u=r(rn(rn({},o),{},{className:d})):u=z.createElement(Ba,Po({},o,{className:"recharts-cartesian-axis-tick-value"}),l),u}}])})(M.Component);Yx(gs,"displayName","CartesianAxis");Yx(gs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var V7=["x1","y1","x2","y2","key"],G7=["offset"];function Ga(e){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function wE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(n),!0).forEach(function(r){H7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H7(e,t,n){return t=W7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W7(e){var t=K7(e,"string");return Ga(t)=="symbol"?t:t+""}function K7(e,t){if(Ga(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ra.apply(this,arguments)}function SE(e,t){if(e==null)return{};var n=J7(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function J7(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Y7=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,o=t.x,l=t.y,u=t.width,d=t.height,f=t.ry;return z.createElement("rect",{x:o,y:l,ry:f,width:u,height:d,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZI(e,t){var n;if(z.isValidElement(e))n=z.cloneElement(e,t);else if(tt(e))n=e(t);else{var r=t.x1,o=t.y1,l=t.x2,u=t.y2,d=t.key,f=SE(t,V7),p=Xe(f,!1);p.offset;var g=SE(p,G7);n=z.createElement("line",Ra({},g,{x1:r,y1:o,x2:l,y2:u,fill:"none",key:d}))}return n}function X7(e){var t=e.x,n=e.width,r=e.horizontal,o=r===void 0?!0:r,l=e.horizontalPoints;if(!o||!l||!l.length)return null;var u=l.map(function(d,f){var p=Nn(Nn({},e),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(f),index:f});return ZI(o,p)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Z7(e){var t=e.y,n=e.height,r=e.vertical,o=r===void 0?!0:r,l=e.verticalPoints;if(!o||!l||!l.length)return null;var u=l.map(function(d,f){var p=Nn(Nn({},e),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(f),index:f});return ZI(o,p)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Q7(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,o=e.y,l=e.width,u=e.height,d=e.horizontalPoints,f=e.horizontal,p=f===void 0?!0:f;if(!p||!t||!t.length)return null;var g=d.map(function(v){return Math.round(v+o-o)}).sort(function(v,w){return v-w});o!==g[0]&&g.unshift(0);var m=g.map(function(v,w){var _=!g[w+1],x=_?o+u-v:g[w+1]-v;if(x<=0)return null;var b=w%t.length;return z.createElement("rect",{key:"react-".concat(w),y:v,x:r,height:x,width:l,stroke:"none",fill:t[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function eG(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,o=e.fillOpacity,l=e.x,u=e.y,d=e.width,f=e.height,p=e.verticalPoints;if(!n||!r||!r.length)return null;var g=p.map(function(v){return Math.round(v+l-l)}).sort(function(v,w){return v-w});l!==g[0]&&g.unshift(0);var m=g.map(function(v,w){var _=!g[w+1],x=_?l+d-v:g[w+1]-v;if(x<=0)return null;var b=w%r.length;return z.createElement("rect",{key:"react-".concat(w),x:v,y:u,width:x,height:f,stroke:"none",fill:r[b],fillOpacity:o,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var tG=function(t,n){var r=t.xAxis,o=t.width,l=t.height,u=t.offset;return Zj(Jx(Nn(Nn(Nn({},gs.defaultProps),r),{},{ticks:yi(r,!0),viewBox:{x:0,y:0,width:o,height:l}})),u.left,u.left+u.width,n)},nG=function(t,n){var r=t.yAxis,o=t.width,l=t.height,u=t.offset;return Zj(Jx(Nn(Nn(Nn({},gs.defaultProps),r),{},{ticks:yi(r,!0),viewBox:{x:0,y:0,width:o,height:l}})),u.top,u.top+u.height,n)},Ao={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xx(e){var t,n,r,o,l,u,d=Gx(),f=Hx(),p=z8(),g=Nn(Nn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Ao.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Ao.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Ao.horizontal,horizontalFill:(o=e.horizontalFill)!==null&&o!==void 0?o:Ao.horizontalFill,vertical:(l=e.vertical)!==null&&l!==void 0?l:Ao.vertical,verticalFill:(u=e.verticalFill)!==null&&u!==void 0?u:Ao.verticalFill,x:Ie(e.x)?e.x:p.left,y:Ie(e.y)?e.y:p.top,width:Ie(e.width)?e.width:p.width,height:Ie(e.height)?e.height:p.height}),m=g.x,v=g.y,w=g.width,_=g.height,x=g.syncWithTicks,b=g.horizontalValues,E=g.verticalValues,A=F8(),T=U8();if(!Ie(w)||w<=0||!Ie(_)||_<=0||!Ie(m)||m!==+m||!Ie(v)||v!==+v)return null;var P=g.verticalCoordinatesGenerator||tG,N=g.horizontalCoordinatesGenerator||nG,C=g.horizontalPoints,I=g.verticalPoints;if((!C||!C.length)&&tt(N)){var R=b&&b.length,L=N({yAxis:T?Nn(Nn({},T),{},{ticks:R?b:T.ticks}):void 0,width:d,height:f,offset:p},R?!0:x);Ir(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ga(L),"]")),Array.isArray(L)&&(C=L)}if((!I||!I.length)&&tt(P)){var W=E&&E.length,q=P({xAxis:A?Nn(Nn({},A),{},{ticks:W?E:A.ticks}):void 0,width:d,height:f,offset:p},W?!0:x);Ir(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ga(q),"]")),Array.isArray(q)&&(I=q)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(Y7,{fill:g.fill,fillOpacity:g.fillOpacity,x:g.x,y:g.y,width:g.width,height:g.height,ry:g.ry}),z.createElement(X7,Ra({},g,{offset:p,horizontalPoints:C,xAxis:A,yAxis:T})),z.createElement(Z7,Ra({},g,{offset:p,verticalPoints:I,xAxis:A,yAxis:T})),z.createElement(Q7,Ra({},g,{horizontalPoints:C})),z.createElement(eG,Ra({},g,{verticalPoints:I})))}Xx.displayName="CartesianGrid";var rG=["layout","type","stroke","connectNulls","isRange","ref"],iG=["key"],QI;function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function ek(e,t){if(e==null)return{};var n=aG(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function aG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oa.apply(this,arguments)}function NE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(n),!0).forEach(function(r){Br(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nk(r.key),r)}}function sG(e,t,n){return t&&_E(e.prototype,t),n&&_E(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lG(e,t,n){return t=Gd(t),uG(e,tk()?Reflect.construct(t,n||[],Gd(e).constructor):t.apply(e,n))}function uG(e,t){if(t&&(rs(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cG(e)}function cG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tk=function(){return!!e})()}function Gd(e){return Gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gd(e)}function dG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L0(e,t)}function L0(e,t){return L0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},L0(e,t)}function Br(e,t,n){return t=nk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nk(e){var t=fG(e,"string");return rs(t)=="symbol"?t:t+""}function fG(e,t){if(rs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ca=(function(e){function t(){var n;oG(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=lG(this,t,[].concat(o)),Br(n,"state",{isAnimationFinished:!0}),Br(n,"id",ds("recharts-area-")),Br(n,"handleAnimationEnd",function(){var u=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),tt(u)&&u()}),Br(n,"handleAnimationStart",function(){var u=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),tt(u)&&u()}),n}return dG(t,e),sG(t,[{key:"renderDots",value:function(r,o,l){var u=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(u&&!d)return null;var f=this.props,p=f.dot,g=f.points,m=f.dataKey,v=Xe(this.props,!1),w=Xe(p,!0),_=g.map(function(b,E){var A=Ji(Ji(Ji({key:"dot-".concat(E),r:3},v),w),{},{index:E,cx:b.x,cy:b.y,dataKey:m,value:b.value,payload:b.payload,points:g});return t.renderDotItem(p,A)}),x={clipPath:r?"url(#clipPath-".concat(o?"":"dots-").concat(l,")"):null};return z.createElement(gt,Oa({className:"recharts-area-dots"},x),_)}},{key:"renderHorizontalRect",value:function(r){var o=this.props,l=o.baseLine,u=o.points,d=o.strokeWidth,f=u[0].x,p=u[u.length-1].x,g=r*Math.abs(f-p),m=Qi(u.map(function(v){return v.y||0}));return Ie(l)&&typeof l=="number"?m=Math.max(l,m):l&&Array.isArray(l)&&l.length&&(m=Math.max(Qi(l.map(function(v){return v.y||0})),m)),Ie(m)?z.createElement("rect",{x:f<p?f:f-g,y:0,width:g,height:Math.floor(m+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var o=this.props,l=o.baseLine,u=o.points,d=o.strokeWidth,f=u[0].y,p=u[u.length-1].y,g=r*Math.abs(f-p),m=Qi(u.map(function(v){return v.x||0}));return Ie(l)&&typeof l=="number"?m=Math.max(l,m):l&&Array.isArray(l)&&l.length&&(m=Math.max(Qi(l.map(function(v){return v.x||0})),m)),Ie(m)?z.createElement("rect",{x:0,y:f<p?f:f-g,width:m+(d?parseInt("".concat(d),10):1),height:Math.floor(g)}):null}},{key:"renderClipRect",value:function(r){var o=this.props.layout;return o==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,o,l,u){var d=this.props,f=d.layout,p=d.type,g=d.stroke,m=d.connectNulls,v=d.isRange;d.ref;var w=ek(d,rG);return z.createElement(gt,{clipPath:l?"url(#clipPath-".concat(u,")"):null},z.createElement(Oo,Oa({},Xe(w,!0),{points:r,connectNulls:m,type:p,baseLine:o,layout:f,stroke:"none",className:"recharts-area-area"})),g!=="none"&&z.createElement(Oo,Oa({},Xe(this.props,!1),{className:"recharts-area-curve",layout:f,type:p,connectNulls:m,fill:"none",points:r})),g!=="none"&&v&&z.createElement(Oo,Oa({},Xe(this.props,!1),{className:"recharts-area-curve",layout:f,type:p,connectNulls:m,fill:"none",points:o})))}},{key:"renderAreaWithAnimation",value:function(r,o){var l=this,u=this.props,d=u.points,f=u.baseLine,p=u.isAnimationActive,g=u.animationBegin,m=u.animationDuration,v=u.animationEasing,w=u.animationId,_=this.state,x=_.prevPoints,b=_.prevBaseLine;return z.createElement(Hr,{begin:g,duration:m,isActive:p,easing:v,from:{t:0},to:{t:1},key:"area-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var A=E.t;if(x){var T=x.length/d.length,P=d.map(function(R,L){var W=Math.floor(L*T);if(x[W]){var q=x[W],D=Un(q.x,R.x),B=Un(q.y,R.y);return Ji(Ji({},R),{},{x:D(A),y:B(A)})}return R}),N;if(Ie(f)&&typeof f=="number"){var C=Un(b,f);N=C(A)}else if(lt(f)||cs(f)){var I=Un(b,0);N=I(A)}else N=f.map(function(R,L){var W=Math.floor(L*T);if(b[W]){var q=b[W],D=Un(q.x,R.x),B=Un(q.y,R.y);return Ji(Ji({},R),{},{x:D(A),y:B(A)})}return R});return l.renderAreaStatically(P,N,r,o)}return z.createElement(gt,null,z.createElement("defs",null,z.createElement("clipPath",{id:"animationClipPath-".concat(o)},l.renderClipRect(A))),z.createElement(gt,{clipPath:"url(#animationClipPath-".concat(o,")")},l.renderAreaStatically(d,f,r,o)))})}},{key:"renderArea",value:function(r,o){var l=this.props,u=l.points,d=l.baseLine,f=l.isAnimationActive,p=this.state,g=p.prevPoints,m=p.prevBaseLine,v=p.totalLength;return f&&u&&u.length&&(!g&&v>0||!Vo(g,u)||!Vo(m,d))?this.renderAreaWithAnimation(r,o):this.renderAreaStatically(u,d,r,o)}},{key:"render",value:function(){var r,o=this.props,l=o.hide,u=o.dot,d=o.points,f=o.className,p=o.top,g=o.left,m=o.xAxis,v=o.yAxis,w=o.width,_=o.height,x=o.isAnimationActive,b=o.id;if(l||!d||!d.length)return null;var E=this.state.isAnimationFinished,A=d.length===1,T=dt("recharts-area",f),P=m&&m.allowDataOverflow,N=v&&v.allowDataOverflow,C=P||N,I=lt(b)?this.id:b,R=(r=Xe(u,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},L=R.r,W=L===void 0?3:L,q=R.strokeWidth,D=q===void 0?2:q,B=KO(u)?u:{},ee=B.clipDot,Q=ee===void 0?!0:ee,ae=W*2+D;return z.createElement(gt,{className:T},P||N?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(I)},z.createElement("rect",{x:P?g:g-w/2,y:N?p:p-_/2,width:P?w:w*2,height:N?_:_*2})),!Q&&z.createElement("clipPath",{id:"clipPath-dots-".concat(I)},z.createElement("rect",{x:g-ae/2,y:p-ae/2,width:w+ae,height:_+ae}))):null,A?null:this.renderArea(C,I),(u||A)&&this.renderDots(C,Q,I),(!x||E)&&wi.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(r,o){return r.animationId!==o.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:o.curPoints,prevBaseLine:o.curBaseLine}:r.points!==o.curPoints||r.baseLine!==o.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(M.PureComponent);QI=ca;Br(ca,"displayName","Area");Br(ca,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Wa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Br(ca,"getBaseValue",function(e,t,n,r){var o=e.layout,l=e.baseValue,u=t.props.baseValue,d=u??l;if(Ie(d)&&typeof d=="number")return d;var f=o==="horizontal"?r:n,p=f.scale.domain();if(f.type==="number"){var g=Math.max(p[0],p[1]),m=Math.min(p[0],p[1]);return d==="dataMin"?m:d==="dataMax"||g<0?g:Math.max(Math.min(p[0],p[1]),0)}return d==="dataMin"?p[0]:d==="dataMax"?p[1]:p[0]});Br(ca,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,o=e.yAxis,l=e.xAxisTicks,u=e.yAxisTicks,d=e.bandSize,f=e.dataKey,p=e.stackedData,g=e.dataStartIndex,m=e.displayedData,v=e.offset,w=t.layout,_=p&&p.length,x=QI.getBaseValue(t,n,r,o),b=w==="horizontal",E=!1,A=m.map(function(P,N){var C;_?C=p[g+N]:(C=on(P,f),Array.isArray(C)?E=!0:C=[x,C]);var I=C[1]==null||_&&on(P,f)==null;return b?{x:CT({axis:r,ticks:l,bandSize:d,entry:P,index:N}),y:I?null:o.scale(C[1]),value:C,payload:P}:{x:I?null:r.scale(C[1]),y:CT({axis:o,ticks:u,bandSize:d,entry:P,index:N}),value:C,payload:P}}),T;return _||E?T=A.map(function(P){var N=Array.isArray(P.value)?P.value[0]:null;return b?{x:P.x,y:N!=null&&P.y!=null?o.scale(N):null}:{x:N!=null?r.scale(N):null,y:P.y}}):T=b?o.scale(x):r.scale(x),Ji({points:A,baseLine:T,layout:w,isRange:E},v)});Br(ca,"renderDotItem",function(e,t){var n;if(z.isValidElement(e))n=z.cloneElement(e,t);else if(tt(e))n=e(t);else{var r=dt("recharts-area-dot",typeof e!="boolean"?e.className:""),o=t.key,l=ek(t,iG);n=z.createElement(wf,Oa({},l,{key:o,className:r}))}return n});function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function pG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ak(r.key),r)}}function mG(e,t,n){return t&&hG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gG(e,t,n){return t=Hd(t),yG(e,rk()?Reflect.construct(t,n||[],Hd(e).constructor):t.apply(e,n))}function yG(e,t){if(t&&(is(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vG(e)}function vG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rk=function(){return!!e})()}function Hd(e){return Hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hd(e)}function xG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$0(e,t)}function $0(e,t){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},$0(e,t)}function ik(e,t,n){return t=ak(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ak(e){var t=bG(e,"string");return is(t)=="symbol"?t:t+""}function bG(e,t){if(is(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(this,arguments)}function wG(e){var t=e.xAxisId,n=Gx(),r=Hx(),o=UI(t);return o==null?null:M.createElement(gs,q0({},o,{className:dt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(u){return yi(u,!0)}}))}var ys=(function(e){function t(){return pG(this,t),gG(this,t,arguments)}return xG(t,e),mG(t,[{key:"render",value:function(){return M.createElement(wG,this.props)}}])})(M.Component);ik(ys,"displayName","XAxis");ik(ys,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function as(e){"@babel/helpers - typeof";return as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function SG(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lk(r.key),r)}}function _G(e,t,n){return t&&NG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AG(e,t,n){return t=Wd(t),TG(e,ok()?Reflect.construct(t,n||[],Wd(e).constructor):t.apply(e,n))}function TG(e,t){if(t&&(as(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CG(e)}function CG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ok(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ok=function(){return!!e})()}function Wd(e){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wd(e)}function EG(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F0(e,t)}function F0(e,t){return F0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},F0(e,t)}function sk(e,t,n){return t=lk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lk(e){var t=PG(e,"string");return as(t)=="symbol"?t:t+""}function PG(e,t){if(as(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(as(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(this,arguments)}var jG=function(t){var n=t.yAxisId,r=Gx(),o=Hx(),l=BI(n);return l==null?null:M.createElement(gs,U0({},l,{className:dt("recharts-".concat(l.axisType," ").concat(l.axisType),l.className),viewBox:{x:0,y:0,width:r,height:o},ticksGenerator:function(d){return yi(d,!0)}}))},vs=(function(e){function t(){return SG(this,t),AG(this,t,arguments)}return EG(t,e),_G(t,[{key:"render",value:function(){return M.createElement(jG,this.props)}}])})(M.Component);sk(vs,"displayName","YAxis");sk(vs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function AE(e){return RG(e)||MG(e)||kG(e)||IG()}function IG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kG(e,t){if(e){if(typeof e=="string")return B0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B0(e,t)}}function MG(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RG(e){if(Array.isArray(e))return B0(e)}function B0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z0=function(t,n,r,o,l){var u=gr(t,Kx),d=gr(t,jf),f=[].concat(AE(u),AE(d)),p=gr(t,kf),g="".concat(o,"Id"),m=o[0],v=n;if(f.length&&(v=f.reduce(function(x,b){if(b.props[g]===r&&Vr(b.props,"extendDomain")&&Ie(b.props[m])){var E=b.props[m];return[Math.min(x[0],E),Math.max(x[1],E)]}return x},v)),p.length){var w="".concat(m,"1"),_="".concat(m,"2");v=p.reduce(function(x,b){if(b.props[g]===r&&Vr(b.props,"extendDomain")&&Ie(b.props[w])&&Ie(b.props[_])){var E=b.props[w],A=b.props[_];return[Math.min(x[0],E,A),Math.max(x[1],E,A)]}return x},v)}return l&&l.length&&(v=l.reduce(function(x,b){return Ie(b)?[Math.min(x[0],b),Math.max(x[1],b)]:x},v)),v},vv={exports:{}},TE;function OG(){return TE||(TE=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(f,p,g){this.fn=f,this.context=p,this.once=g||!1}function l(f,p,g,m,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var w=new o(g,m||f,v),_=n?n+p:p;return f._events[_]?f._events[_].fn?f._events[_]=[f._events[_],w]:f._events[_].push(w):(f._events[_]=w,f._eventsCount++),f}function u(f,p){--f._eventsCount===0?f._events=new r:delete f._events[p]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],g,m;if(this._eventsCount===0)return p;for(m in g=this._events)t.call(g,m)&&p.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(g)):p},d.prototype.listeners=function(p){var g=n?n+p:p,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,w=m.length,_=new Array(w);v<w;v++)_[v]=m[v].fn;return _},d.prototype.listenerCount=function(p){var g=n?n+p:p,m=this._events[g];return m?m.fn?1:m.length:0},d.prototype.emit=function(p,g,m,v,w,_){var x=n?n+p:p;if(!this._events[x])return!1;var b=this._events[x],E=arguments.length,A,T;if(b.fn){switch(b.once&&this.removeListener(p,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,g),!0;case 3:return b.fn.call(b.context,g,m),!0;case 4:return b.fn.call(b.context,g,m,v),!0;case 5:return b.fn.call(b.context,g,m,v,w),!0;case 6:return b.fn.call(b.context,g,m,v,w,_),!0}for(T=1,A=new Array(E-1);T<E;T++)A[T-1]=arguments[T];b.fn.apply(b.context,A)}else{var P=b.length,N;for(T=0;T<P;T++)switch(b[T].once&&this.removeListener(p,b[T].fn,void 0,!0),E){case 1:b[T].fn.call(b[T].context);break;case 2:b[T].fn.call(b[T].context,g);break;case 3:b[T].fn.call(b[T].context,g,m);break;case 4:b[T].fn.call(b[T].context,g,m,v);break;default:if(!A)for(N=1,A=new Array(E-1);N<E;N++)A[N-1]=arguments[N];b[T].fn.apply(b[T].context,A)}}return!0},d.prototype.on=function(p,g,m){return l(this,p,g,m,!1)},d.prototype.once=function(p,g,m){return l(this,p,g,m,!0)},d.prototype.removeListener=function(p,g,m,v){var w=n?n+p:p;if(!this._events[w])return this;if(!g)return u(this,w),this;var _=this._events[w];if(_.fn)_.fn===g&&(!v||_.once)&&(!m||_.context===m)&&u(this,w);else{for(var x=0,b=[],E=_.length;x<E;x++)(_[x].fn!==g||v&&!_[x].once||m&&_[x].context!==m)&&b.push(_[x]);b.length?this._events[w]=b.length===1?b[0]:b:u(this,w)}return this},d.prototype.removeAllListeners=function(p){var g;return p?(g=n?n+p:p,this._events[g]&&u(this,g)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(vv)),vv.exports}var DG=OG();const LG=_t(DG);var xv=new LG,bv="recharts.syncMouseEvents";function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function $G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qG(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uk(r.key),r)}}function FG(e,t,n){return t&&qG(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wv(e,t,n){return t=uk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uk(e){var t=UG(e,"string");return nu(t)=="symbol"?t:t+""}function UG(e,t){if(nu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BG=(function(){function e(){$G(this,e),wv(this,"activeIndex",0),wv(this,"coordinateList",[]),wv(this,"layout","horizontal")}return FG(e,[{key:"setDetails",value:function(n){var r,o=n.coordinateList,l=o===void 0?null:o,u=n.container,d=u===void 0?null:u,f=n.layout,p=f===void 0?null:f,g=n.offset,m=g===void 0?null:g,v=n.mouseHandlerCallback,w=v===void 0?null:v;this.coordinateList=(r=l??this.coordinateList)!==null&&r!==void 0?r:[],this.container=d??this.container,this.layout=p??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var o=this.container.getBoundingClientRect(),l=o.x,u=o.y,d=o.height,f=this.coordinateList[this.activeIndex].coordinate,p=((n=window)===null||n===void 0?void 0:n.scrollX)||0,g=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=l+f+p,v=u+this.offset.top+d/2+g;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function zG(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],o=e==null?void 0:e[1];if(r&&o&&Ie(r)&&Ie(o))return!0}return!1}function VG(e,t,n,r){var o=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-o,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function ck(e){var t=e.cx,n=e.cy,r=e.radius,o=e.startAngle,l=e.endAngle,u=Mt(t,n,r,o),d=Mt(t,n,r,l);return{points:[u,d],cx:t,cy:n,radius:r,startAngle:o,endAngle:l}}function GG(e,t,n){var r,o,l,u;if(e==="horizontal")r=t.x,l=r,o=n.top,u=n.top+n.height;else if(e==="vertical")o=t.y,u=o,r=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var d=t.cx,f=t.cy,p=t.innerRadius,g=t.outerRadius,m=t.angle,v=Mt(d,f,p,m),w=Mt(d,f,g,m);r=v.x,o=v.y,l=w.x,u=w.y}else return ck(t);return[{x:r,y:o},{x:l,y:u}]}function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function CE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function $c(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(n),!0).forEach(function(r){HG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HG(e,t,n){return t=WG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WG(e){var t=KG(e,"string");return ru(t)=="symbol"?t:t+""}function KG(e,t){if(ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JG(e){var t,n,r=e.element,o=e.tooltipEventType,l=e.isActive,u=e.activeCoordinate,d=e.activePayload,f=e.offset,p=e.activeTooltipIndex,g=e.tooltipAxisBandSize,m=e.layout,v=e.chartName,w=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!w||!l||!u||v!=="ScatterChart"&&o!=="axis")return null;var _,x=Oo;if(v==="ScatterChart")_=u,x=wz;else if(v==="BarChart")_=VG(m,u,f,g),x=Ux;else if(m==="radial"){var b=ck(u),E=b.cx,A=b.cy,T=b.radius,P=b.startAngle,N=b.endAngle;_={cx:E,cy:A,startAngle:P,endAngle:N,innerRadius:T,outerRadius:T},x=uI}else _={points:GG(m,u,f)},x=Oo;var C=$c($c($c($c({stroke:"#ccc",pointerEvents:"none"},f),_),Xe(w,!1)),{},{payload:d,payloadIndex:p,className:dt("recharts-tooltip-cursor",w.className)});return M.isValidElement(w)?M.cloneElement(w,C):M.createElement(x,C)}var YG=["item"],XG=["children","className","width","height","style","compact","title","desc"];function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jo.apply(this,arguments)}function EE(e,t){return eH(e)||QG(e,t)||fk(e,t)||ZG()}function ZG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QG(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,l,u,d=[],f=!0,p=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(f=(r=l.call(n)).done)&&(d.push(r.value),d.length!==t);f=!0);}catch(g){p=!0,o=g}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(p)throw o}}return d}}function eH(e){if(Array.isArray(e))return e}function PE(e,t){if(e==null)return{};var n=tH(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tH(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pk(r.key),r)}}function iH(e,t,n){return t&&rH(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aH(e,t,n){return t=Kd(t),oH(e,dk()?Reflect.construct(t,n||[],Kd(e).constructor):t.apply(e,n))}function oH(e,t){if(t&&(os(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sH(e)}function sH(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dk=function(){return!!e})()}function Kd(e){return Kd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kd(e)}function lH(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},V0(e,t)}function ss(e){return dH(e)||cH(e)||fk(e)||uH()}function uH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fk(e,t){if(e){if(typeof e=="string")return G0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G0(e,t)}}function cH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dH(e){if(Array.isArray(e))return G0(e)}function G0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(n),!0).forEach(function(r){et(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function et(e,t,n){return t=pk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pk(e){var t=fH(e,"string");return os(t)=="symbol"?t:t+""}function fH(e,t){if(os(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pH={xAxis:["bottom","top"],yAxis:["left","right"]},hH={width:"100%",height:"100%"},hk={x:0,y:0};function qc(e){return e}var mH=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},gH=function(t,n,r,o){var l=n.find(function(g){return g&&g.index===r});if(l){if(t==="horizontal")return{x:l.coordinate,y:o.y};if(t==="vertical")return{x:o.x,y:l.coordinate};if(t==="centric"){var u=l.coordinate,d=o.radius;return ye(ye(ye({},o),Mt(o.cx,o.cy,d,u)),{},{angle:u,radius:d})}var f=l.coordinate,p=o.angle;return ye(ye(ye({},o),Mt(o.cx,o.cy,f,p)),{},{angle:p,radius:f})}return hk},Mf=function(t,n){var r=n.graphicalItems,o=n.dataStartIndex,l=n.dataEndIndex,u=(r??[]).reduce(function(d,f){var p=f.props.data;return p&&p.length?[].concat(ss(d),ss(p)):d},[]);return u.length>0?u:t&&t.length&&Ie(o)&&Ie(l)?t.slice(o,l+1):[]};function mk(e){return e==="number"?[0,"auto"]:void 0}var H0=function(t,n,r,o){var l=t.graphicalItems,u=t.tooltipAxis,d=Mf(n,t);return r<0||!l||!l.length||r>=d.length?null:l.reduce(function(f,p){var g,m=(g=p.props.data)!==null&&g!==void 0?g:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var v;if(u.dataKey&&!u.allowDuplicatedCategory){var w=m===void 0?d:m;v=Xc(w,u.dataKey,o)}else v=m&&m[r]||d[r];return v?[].concat(ss(f),[rI(p,v)]):f},[])},IE=function(t,n,r,o){var l=o||{x:t.chartX,y:t.chartY},u=mH(l,r),d=t.orderedTooltipTicks,f=t.tooltipAxis,p=t.tooltipTicks,g=Gq(u,d,p,f);if(g>=0&&p){var m=p[g]&&p[g].value,v=H0(t,n,g,m),w=gH(r,d,g,l);return{activeTooltipIndex:g,activeLabel:m,activePayload:v,activeCoordinate:w}}return null},yH=function(t,n){var r=n.axes,o=n.graphicalItems,l=n.axisType,u=n.axisIdKey,d=n.stackGroups,f=n.dataStartIndex,p=n.dataEndIndex,g=t.layout,m=t.children,v=t.stackOffset,w=Xj(g,l);return r.reduce(function(_,x){var b,E=x.type.defaultProps!==void 0?ye(ye({},x.type.defaultProps),x.props):x.props,A=E.type,T=E.dataKey,P=E.allowDataOverflow,N=E.allowDuplicatedCategory,C=E.scale,I=E.ticks,R=E.includeHidden,L=E[u];if(_[L])return _;var W=Mf(t.data,{graphicalItems:o.filter(function(H){var fe,G=u in H.props?H.props[u]:(fe=H.type.defaultProps)===null||fe===void 0?void 0:fe[u];return G===L}),dataStartIndex:f,dataEndIndex:p}),q=W.length,D,B,ee;zG(E.domain,P,A)&&(D=s0(E.domain,null,P),w&&(A==="number"||C!=="auto")&&(ee=ml(W,T,"category")));var Q=mk(A);if(!D||D.length===0){var ae,oe=(ae=E.domain)!==null&&ae!==void 0?ae:Q;if(T){if(D=ml(W,T,A),A==="category"&&w){var J=$O(D);N&&J?(B=D,D=Od(0,q)):N||(D=IT(oe,D,x).reduce(function(H,fe){return H.indexOf(fe)>=0?H:[].concat(ss(H),[fe])},[]))}else if(A==="category")N?D=D.filter(function(H){return H!==""&&!lt(H)}):D=IT(oe,D,x).reduce(function(H,fe){return H.indexOf(fe)>=0||fe===""||lt(fe)?H:[].concat(ss(H),[fe])},[]);else if(A==="number"){var F=Yq(W,o.filter(function(H){var fe,G,pe=u in H.props?H.props[u]:(fe=H.type.defaultProps)===null||fe===void 0?void 0:fe[u],me="hide"in H.props?H.props.hide:(G=H.type.defaultProps)===null||G===void 0?void 0:G.hide;return pe===L&&(R||!me)}),T,l,g);F&&(D=F)}w&&(A==="number"||C!=="auto")&&(ee=ml(W,T,"category"))}else w?D=Od(0,q):d&&d[L]&&d[L].hasStack&&A==="number"?D=v==="expand"?[0,1]:nI(d[L].stackGroups,f,p):D=Yj(W,o.filter(function(H){var fe=u in H.props?H.props[u]:H.type.defaultProps[u],G="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return fe===L&&(R||!G)}),A,g,!0);if(A==="number")D=z0(m,D,L,l,I),oe&&(D=s0(oe,D,P));else if(A==="category"&&oe){var X=oe,O=D.every(function(H){return X.indexOf(H)>=0});O&&(D=X)}}return ye(ye({},_),{},et({},L,ye(ye({},E),{},{axisType:l,domain:D,categoricalDomain:ee,duplicateDomain:B,originalDomain:(b=E.domain)!==null&&b!==void 0?b:Q,isCategorical:w,layout:g})))},{})},vH=function(t,n){var r=n.graphicalItems,o=n.Axis,l=n.axisType,u=n.axisIdKey,d=n.stackGroups,f=n.dataStartIndex,p=n.dataEndIndex,g=t.layout,m=t.children,v=Mf(t.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:p}),w=v.length,_=Xj(g,l),x=-1;return r.reduce(function(b,E){var A=E.type.defaultProps!==void 0?ye(ye({},E.type.defaultProps),E.props):E.props,T=A[u],P=mk("number");if(!b[T]){x++;var N;return _?N=Od(0,w):d&&d[T]&&d[T].hasStack?(N=nI(d[T].stackGroups,f,p),N=z0(m,N,T,l)):(N=s0(P,Yj(v,r.filter(function(C){var I,R,L=u in C.props?C.props[u]:(I=C.type.defaultProps)===null||I===void 0?void 0:I[u],W="hide"in C.props?C.props.hide:(R=C.type.defaultProps)===null||R===void 0?void 0:R.hide;return L===T&&!W}),"number",g),o.defaultProps.allowDataOverflow),N=z0(m,N,T,l)),ye(ye({},b),{},et({},T,ye(ye({axisType:l},o.defaultProps),{},{hide:!0,orientation:nr(pH,"".concat(l,".").concat(x%2),null),domain:N,originalDomain:P,isCategorical:_,layout:g})))}return b},{})},xH=function(t,n){var r=n.axisType,o=r===void 0?"xAxis":r,l=n.AxisComp,u=n.graphicalItems,d=n.stackGroups,f=n.dataStartIndex,p=n.dataEndIndex,g=t.children,m="".concat(o,"Id"),v=gr(g,l),w={};return v&&v.length?w=yH(t,{axes:v,graphicalItems:u,axisType:o,axisIdKey:m,stackGroups:d,dataStartIndex:f,dataEndIndex:p}):u&&u.length&&(w=vH(t,{Axis:l,graphicalItems:u,axisType:o,axisIdKey:m,stackGroups:d,dataStartIndex:f,dataEndIndex:p})),w},bH=function(t){var n=Zi(t),r=yi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:hx(r,function(o){return o.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Nd(n,r)}},kE=function(t){var n=t.children,r=t.defaultShowTooltip,o=Qn(n,Xo),l=0,u=0;return t.data&&t.data.length!==0&&(u=t.data.length-1),o&&o.props&&(o.props.startIndex>=0&&(l=o.props.startIndex),o.props.endIndex>=0&&(u=o.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:l,dataEndIndex:u,activeTooltipIndex:-1,isTooltipActive:!!r}},wH=function(t){return!t||!t.length?!1:t.some(function(n){var r=xi(n&&n.type);return r&&r.indexOf("Bar")>=0})},ME=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},SH=function(t,n){var r=t.props,o=t.graphicalItems,l=t.xAxisMap,u=l===void 0?{}:l,d=t.yAxisMap,f=d===void 0?{}:d,p=r.width,g=r.height,m=r.children,v=r.margin||{},w=Qn(m,Xo),_=Qn(m,ko),x=Object.keys(f).reduce(function(N,C){var I=f[C],R=I.orientation;return!I.mirror&&!I.hide?ye(ye({},N),{},et({},R,N[R]+I.width)):N},{left:v.left||0,right:v.right||0}),b=Object.keys(u).reduce(function(N,C){var I=u[C],R=I.orientation;return!I.mirror&&!I.hide?ye(ye({},N),{},et({},R,nr(N,"".concat(R))+I.height)):N},{top:v.top||0,bottom:v.bottom||0}),E=ye(ye({},b),x),A=E.bottom;w&&(E.bottom+=w.props.height||Xo.defaultProps.height),_&&n&&(E=Kq(E,o,r,n));var T=p-E.left-E.right,P=g-E.top-E.bottom;return ye(ye({brushBottom:A},E),{},{width:Math.max(T,0),height:Math.max(P,0)})},NH=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Zx=function(t){var n=t.chartName,r=t.GraphicalChild,o=t.defaultTooltipEventType,l=o===void 0?"axis":o,u=t.validateTooltipEventTypes,d=u===void 0?["axis"]:u,f=t.axisComponents,p=t.legendContent,g=t.formatAxisMap,m=t.defaultProps,v=function(E,A){var T=A.graphicalItems,P=A.stackGroups,N=A.offset,C=A.updateId,I=A.dataStartIndex,R=A.dataEndIndex,L=E.barSize,W=E.layout,q=E.barGap,D=E.barCategoryGap,B=E.maxBarSize,ee=ME(W),Q=ee.numericAxisName,ae=ee.cateAxisName,oe=wH(T),J=[];return T.forEach(function(F,X){var O=Mf(E.data,{graphicalItems:[F],dataStartIndex:I,dataEndIndex:R}),H=F.type.defaultProps!==void 0?ye(ye({},F.type.defaultProps),F.props):F.props,fe=H.dataKey,G=H.maxBarSize,pe=H["".concat(Q,"Id")],me=H["".concat(ae,"Id")],ne={},ve=f.reduce(function(Ee,Ue){var je=A["".concat(Ue.axisType,"Map")],ot=H["".concat(Ue.axisType,"Id")];je&&je[ot]||Ue.axisType==="zAxis"||Va();var Be=je[ot];return ye(ye({},Ee),{},et(et({},Ue.axisType,Be),"".concat(Ue.axisType,"Ticks"),yi(Be)))},ne),re=ve[ae],ge=ve["".concat(ae,"Ticks")],xe=P&&P[pe]&&P[pe].hasStack&&aF(F,P[pe].stackGroups),$=xi(F.type).indexOf("Bar")>=0,Ae=Nd(re,ge),Se=[],Re=oe&&Hq({barSize:L,stackGroups:P,totalSize:NH(ve,ae)});if($){var Y,le,te=lt(G)?B:G,he=(Y=(le=Nd(re,ge,!0))!==null&&le!==void 0?le:te)!==null&&Y!==void 0?Y:0;Se=Wq({barGap:q,barCategoryGap:D,bandSize:he!==Ae?he:Ae,sizeList:Re[me],maxBarSize:te}),he!==Ae&&(Se=Se.map(function(Ee){return ye(ye({},Ee),{},{position:ye(ye({},Ee.position),{},{offset:Ee.position.offset-he/2})})}))}var Te=F&&F.type&&F.type.getComposedData;Te&&J.push({props:ye(ye({},Te(ye(ye({},ve),{},{displayedData:O,props:E,dataKey:fe,item:F,bandSize:Ae,barPosition:Se,offset:N,stackedData:xe,layout:W,dataStartIndex:I,dataEndIndex:R}))),{},et(et(et({key:F.key||"item-".concat(X)},Q,ve[Q]),ae,ve[ae]),"animationId",C)),childIndex:XO(F,E.children),item:F})}),J},w=function(E,A){var T=E.props,P=E.dataStartIndex,N=E.dataEndIndex,C=E.updateId;if(!GS({props:T}))return null;var I=T.children,R=T.layout,L=T.stackOffset,W=T.data,q=T.reverseStackOrder,D=ME(R),B=D.numericAxisName,ee=D.cateAxisName,Q=gr(I,r),ae=rF(W,Q,"".concat(B,"Id"),"".concat(ee,"Id"),L,q),oe=f.reduce(function(H,fe){var G="".concat(fe.axisType,"Map");return ye(ye({},H),{},et({},G,xH(T,ye(ye({},fe),{},{graphicalItems:Q,stackGroups:fe.axisType===B&&ae,dataStartIndex:P,dataEndIndex:N}))))},{}),J=SH(ye(ye({},oe),{},{props:T,graphicalItems:Q}),A==null?void 0:A.legendBBox);Object.keys(oe).forEach(function(H){oe[H]=g(T,oe[H],J,H.replace("Map",""),n)});var F=oe["".concat(ee,"Map")],X=bH(F),O=v(T,ye(ye({},oe),{},{dataStartIndex:P,dataEndIndex:N,updateId:C,graphicalItems:Q,stackGroups:ae,offset:J}));return ye(ye({formattedGraphicalItems:O,graphicalItems:Q,offset:J,stackGroups:ae},X),oe)},_=(function(b){function E(A){var T,P,N;return nH(this,E),N=aH(this,E,[A]),et(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(N,"accessibilityManager",new BG),et(N,"handleLegendBBoxUpdate",function(C){if(C){var I=N.state,R=I.dataStartIndex,L=I.dataEndIndex,W=I.updateId;N.setState(ye({legendBBox:C},w({props:N.props,dataStartIndex:R,dataEndIndex:L,updateId:W},ye(ye({},N.state),{},{legendBBox:C}))))}}),et(N,"handleReceiveSyncEvent",function(C,I,R){if(N.props.syncId===C){if(R===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(I)}}),et(N,"handleBrushChange",function(C){var I=C.startIndex,R=C.endIndex;if(I!==N.state.dataStartIndex||R!==N.state.dataEndIndex){var L=N.state.updateId;N.setState(function(){return ye({dataStartIndex:I,dataEndIndex:R},w({props:N.props,dataStartIndex:I,dataEndIndex:R,updateId:L},N.state))}),N.triggerSyncEvent({dataStartIndex:I,dataEndIndex:R})}}),et(N,"handleMouseEnter",function(C){var I=N.getMouseInfo(C);if(I){var R=ye(ye({},I),{},{isTooltipActive:!0});N.setState(R),N.triggerSyncEvent(R);var L=N.props.onMouseEnter;tt(L)&&L(R,C)}}),et(N,"triggeredAfterMouseMove",function(C){var I=N.getMouseInfo(C),R=I?ye(ye({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(R),N.triggerSyncEvent(R);var L=N.props.onMouseMove;tt(L)&&L(R,C)}),et(N,"handleItemMouseEnter",function(C){N.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),et(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),et(N,"handleMouseMove",function(C){C.persist(),N.throttleTriggeredAfterMouseMove(C)}),et(N,"handleMouseLeave",function(C){N.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};N.setState(I),N.triggerSyncEvent(I);var R=N.props.onMouseLeave;tt(R)&&R(I,C)}),et(N,"handleOuterEvent",function(C){var I=YO(C),R=nr(N.props,"".concat(I));if(I&&tt(R)){var L,W;/.*touch.*/i.test(I)?W=N.getMouseInfo(C.changedTouches[0]):W=N.getMouseInfo(C),R((L=W)!==null&&L!==void 0?L:{},C)}}),et(N,"handleClick",function(C){var I=N.getMouseInfo(C);if(I){var R=ye(ye({},I),{},{isTooltipActive:!0});N.setState(R),N.triggerSyncEvent(R);var L=N.props.onClick;tt(L)&&L(R,C)}}),et(N,"handleMouseDown",function(C){var I=N.props.onMouseDown;if(tt(I)){var R=N.getMouseInfo(C);I(R,C)}}),et(N,"handleMouseUp",function(C){var I=N.props.onMouseUp;if(tt(I)){var R=N.getMouseInfo(C);I(R,C)}}),et(N,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),et(N,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseDown(C.changedTouches[0])}),et(N,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&N.handleMouseUp(C.changedTouches[0])}),et(N,"handleDoubleClick",function(C){var I=N.props.onDoubleClick;if(tt(I)){var R=N.getMouseInfo(C);I(R,C)}}),et(N,"handleContextMenu",function(C){var I=N.props.onContextMenu;if(tt(I)){var R=N.getMouseInfo(C);I(R,C)}}),et(N,"triggerSyncEvent",function(C){N.props.syncId!==void 0&&xv.emit(bv,N.props.syncId,C,N.eventEmitterSymbol)}),et(N,"applySyncEvent",function(C){var I=N.props,R=I.layout,L=I.syncMethod,W=N.state.updateId,q=C.dataStartIndex,D=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)N.setState(ye({dataStartIndex:q,dataEndIndex:D},w({props:N.props,dataStartIndex:q,dataEndIndex:D,updateId:W},N.state)));else if(C.activeTooltipIndex!==void 0){var B=C.chartX,ee=C.chartY,Q=C.activeTooltipIndex,ae=N.state,oe=ae.offset,J=ae.tooltipTicks;if(!oe)return;if(typeof L=="function")Q=L(J,C);else if(L==="value"){Q=-1;for(var F=0;F<J.length;F++)if(J[F].value===C.activeLabel){Q=F;break}}var X=ye(ye({},oe),{},{x:oe.left,y:oe.top}),O=Math.min(B,X.x+X.width),H=Math.min(ee,X.y+X.height),fe=J[Q]&&J[Q].value,G=H0(N.state,N.props.data,Q),pe=J[Q]?{x:R==="horizontal"?J[Q].coordinate:O,y:R==="horizontal"?H:J[Q].coordinate}:hk;N.setState(ye(ye({},C),{},{activeLabel:fe,activeCoordinate:pe,activePayload:G,activeTooltipIndex:Q}))}else N.setState(C)}),et(N,"renderCursor",function(C){var I,R=N.state,L=R.isTooltipActive,W=R.activeCoordinate,q=R.activePayload,D=R.offset,B=R.activeTooltipIndex,ee=R.tooltipAxisBandSize,Q=N.getTooltipEventType(),ae=(I=C.props.active)!==null&&I!==void 0?I:L,oe=N.props.layout,J=C.key||"_recharts-cursor";return z.createElement(JG,{key:J,activeCoordinate:W,activePayload:q,activeTooltipIndex:B,chartName:n,element:C,isActive:ae,layout:oe,offset:D,tooltipAxisBandSize:ee,tooltipEventType:Q})}),et(N,"renderPolarAxis",function(C,I,R){var L=nr(C,"type.axisType"),W=nr(N.state,"".concat(L,"Map")),q=C.type.defaultProps,D=q!==void 0?ye(ye({},q),C.props):C.props,B=W&&W[D["".concat(L,"Id")]];return M.cloneElement(C,ye(ye({},B),{},{className:dt(L,B.className),key:C.key||"".concat(I,"-").concat(R),ticks:yi(B,!0)}))}),et(N,"renderPolarGrid",function(C){var I=C.props,R=I.radialLines,L=I.polarAngles,W=I.polarRadius,q=N.state,D=q.radiusAxisMap,B=q.angleAxisMap,ee=Zi(D),Q=Zi(B),ae=Q.cx,oe=Q.cy,J=Q.innerRadius,F=Q.outerRadius;return M.cloneElement(C,{polarAngles:Array.isArray(L)?L:yi(Q,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(W)?W:yi(ee,!0).map(function(X){return X.coordinate}),cx:ae,cy:oe,innerRadius:J,outerRadius:F,key:C.key||"polar-grid",radialLines:R})}),et(N,"renderLegend",function(){var C=N.state.formattedGraphicalItems,I=N.props,R=I.children,L=I.width,W=I.height,q=N.props.margin||{},D=L-(q.left||0)-(q.right||0),B=Kj({children:R,formattedGraphicalItems:C,legendWidth:D,legendContent:p});if(!B)return null;var ee=B.item,Q=PE(B,YG);return M.cloneElement(ee,ye(ye({},Q),{},{chartWidth:L,chartHeight:W,margin:q,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),et(N,"renderTooltip",function(){var C,I=N.props,R=I.children,L=I.accessibilityLayer,W=Qn(R,er);if(!W)return null;var q=N.state,D=q.isTooltipActive,B=q.activeCoordinate,ee=q.activePayload,Q=q.activeLabel,ae=q.offset,oe=(C=W.props.active)!==null&&C!==void 0?C:D;return M.cloneElement(W,{viewBox:ye(ye({},ae),{},{x:ae.left,y:ae.top}),active:oe,label:Q,payload:oe?ee:[],coordinate:B,accessibilityLayer:L})}),et(N,"renderBrush",function(C){var I=N.props,R=I.margin,L=I.data,W=N.state,q=W.offset,D=W.dataStartIndex,B=W.dataEndIndex,ee=W.updateId;return M.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Rc(N.handleBrushChange,C.props.onChange),data:L,x:Ie(C.props.x)?C.props.x:q.left,y:Ie(C.props.y)?C.props.y:q.top+q.height+q.brushBottom-(R.bottom||0),width:Ie(C.props.width)?C.props.width:q.width,startIndex:D,endIndex:B,updateId:"brush-".concat(ee)})}),et(N,"renderReferenceElement",function(C,I,R){if(!C)return null;var L=N,W=L.clipPathId,q=N.state,D=q.xAxisMap,B=q.yAxisMap,ee=q.offset,Q=C.type.defaultProps||{},ae=C.props,oe=ae.xAxisId,J=oe===void 0?Q.xAxisId:oe,F=ae.yAxisId,X=F===void 0?Q.yAxisId:F;return M.cloneElement(C,{key:C.key||"".concat(I,"-").concat(R),xAxis:D[J],yAxis:B[X],viewBox:{x:ee.left,y:ee.top,width:ee.width,height:ee.height},clipPathId:W})}),et(N,"renderActivePoints",function(C){var I=C.item,R=C.activePoint,L=C.basePoint,W=C.childIndex,q=C.isRange,D=[],B=I.props.key,ee=I.item.type.defaultProps!==void 0?ye(ye({},I.item.type.defaultProps),I.item.props):I.item.props,Q=ee.activeDot,ae=ee.dataKey,oe=ye(ye({index:W,dataKey:ae,cx:R.x,cy:R.y,r:4,fill:Fx(I.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Xe(Q,!1)),Zc(Q));return D.push(E.renderActiveDot(Q,oe,"".concat(B,"-activePoint-").concat(W))),L?D.push(E.renderActiveDot(Q,ye(ye({},oe),{},{cx:L.x,cy:L.y}),"".concat(B,"-basePoint-").concat(W))):q&&D.push(null),D}),et(N,"renderGraphicChild",function(C,I,R){var L=N.filterFormatItem(C,I,R);if(!L)return null;var W=N.getTooltipEventType(),q=N.state,D=q.isTooltipActive,B=q.tooltipAxis,ee=q.activeTooltipIndex,Q=q.activeLabel,ae=N.props.children,oe=Qn(ae,er),J=L.props,F=J.points,X=J.isRange,O=J.baseLine,H=L.item.type.defaultProps!==void 0?ye(ye({},L.item.type.defaultProps),L.item.props):L.item.props,fe=H.activeDot,G=H.hide,pe=H.activeBar,me=H.activeShape,ne=!!(!G&&D&&oe&&(fe||pe||me)),ve={};W!=="axis"&&oe&&oe.props.trigger==="click"?ve={onClick:Rc(N.handleItemMouseEnter,C.props.onClick)}:W!=="axis"&&(ve={onMouseLeave:Rc(N.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Rc(N.handleItemMouseEnter,C.props.onMouseEnter)});var re=M.cloneElement(C,ye(ye({},L.props),ve));function ge(Ue){return typeof B.dataKey=="function"?B.dataKey(Ue.payload):null}if(ne)if(ee>=0){var xe,$;if(B.dataKey&&!B.allowDuplicatedCategory){var Ae=typeof B.dataKey=="function"?ge:"payload.".concat(B.dataKey.toString());xe=Xc(F,Ae,Q),$=X&&O&&Xc(O,Ae,Q)}else xe=F==null?void 0:F[ee],$=X&&O&&O[ee];if(me||pe){var Se=C.props.activeIndex!==void 0?C.props.activeIndex:ee;return[M.cloneElement(C,ye(ye(ye({},L.props),ve),{},{activeIndex:Se})),null,null]}if(!lt(xe))return[re].concat(ss(N.renderActivePoints({item:L,activePoint:xe,basePoint:$,childIndex:ee,isRange:X})))}else{var Re,Y=(Re=N.getItemByXY(N.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:re},le=Y.graphicalItem,te=le.item,he=te===void 0?C:te,Te=le.childIndex,Ee=ye(ye(ye({},L.props),ve),{},{activeIndex:Te});return[M.cloneElement(he,Ee),null,null]}return X?[re,null,null]:[re,null]}),et(N,"renderCustomized",function(C,I,R){return M.cloneElement(C,ye(ye({key:"recharts-customized-".concat(R)},N.props),N.state))}),et(N,"renderMap",{CartesianGrid:{handler:qc,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:qc},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:qc},YAxis:{handler:qc},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((T=A.id)!==null&&T!==void 0?T:ds("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=W2(N.triggeredAfterMouseMove,(P=A.throttleDelay)!==null&&P!==void 0?P:1e3/60),N.state={},N}return lH(E,b),iH(E,[{key:"componentDidMount",value:function(){var T,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,P=T.children,N=T.data,C=T.height,I=T.layout,R=Qn(P,er);if(R){var L=R.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var W=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,q=H0(this.state,N,L,W),D=this.state.tooltipTicks[L].coordinate,B=(this.state.offset.top+C)/2,ee=I==="horizontal",Q=ee?{x:D,y:B}:{y:D,x:B},ae=this.state.formattedGraphicalItems.find(function(J){var F=J.item;return F.type.name==="Scatter"});ae&&(Q=ye(ye({},Q),ae.props.points[L].tooltipPosition),q=ae.props.points[L].tooltipPayload);var oe={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:W,activePayload:q,activeCoordinate:Q};this.setState(oe),this.renderCursor(R),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var N,C;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(T){Pv([Qn(T.children,er)],[Qn(this.props.children,er)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Qn(this.props.children,er);if(T&&typeof T.props.shared=="boolean"){var P=T.props.shared?"axis":"item";return d.indexOf(P)>=0?P:l}return l}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var P=this.container,N=P.getBoundingClientRect(),C=L6(N),I={chartX:Math.round(T.pageX-C.left),chartY:Math.round(T.pageY-C.top)},R=N.width/P.offsetWidth||1,L=this.inRange(I.chartX,I.chartY,R);if(!L)return null;var W=this.state,q=W.xAxisMap,D=W.yAxisMap,B=this.getTooltipEventType(),ee=IE(this.state,this.props.data,this.props.layout,L);if(B!=="axis"&&q&&D){var Q=Zi(q).scale,ae=Zi(D).scale,oe=Q&&Q.invert?Q.invert(I.chartX):null,J=ae&&ae.invert?ae.invert(I.chartY):null;return ye(ye({},I),{},{xValue:oe,yValue:J},ee)}return ee?ye(ye({},I),ee):null}},{key:"inRange",value:function(T,P){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,I=T/N,R=P/N;if(C==="horizontal"||C==="vertical"){var L=this.state.offset,W=I>=L.left&&I<=L.left+L.width&&R>=L.top&&R<=L.top+L.height;return W?{x:I,y:R}:null}var q=this.state,D=q.angleAxisMap,B=q.radiusAxisMap;if(D&&B){var ee=Zi(D);return RT({x:I,y:R},ee)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,P=this.getTooltipEventType(),N=Qn(T,er),C={};N&&P==="axis"&&(N.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Zc(this.props,this.handleOuterEvent);return ye(ye({},I),C)}},{key:"addListener",value:function(){xv.on(bv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){xv.removeListener(bv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,P,N){for(var C=this.state.formattedGraphicalItems,I=0,R=C.length;I<R;I++){var L=C[I];if(L.item===T||L.props.key===T.key||P===xi(L.item.type)&&N===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,P=this.state.offset,N=P.left,C=P.top,I=P.height,R=P.width;return z.createElement("defs",null,z.createElement("clipPath",{id:T},z.createElement("rect",{x:N,y:C,height:I,width:R})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(P,N){var C=EE(N,2),I=C[0],R=C[1];return ye(ye({},P),{},et({},I,R.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(P,N){var C=EE(N,2),I=C[0],R=C[1];return ye(ye({},P),{},et({},I,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[T])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(T){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[T])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(T){var P=this.state,N=P.formattedGraphicalItems,C=P.activeItem;if(N&&N.length)for(var I=0,R=N.length;I<R;I++){var L=N[I],W=L.props,q=L.item,D=q.type.defaultProps!==void 0?ye(ye({},q.type.defaultProps),q.props):q.props,B=xi(q.type);if(B==="Bar"){var ee=(W.data||[]).find(function(J){return tz(T,J)});if(ee)return{graphicalItem:L,payload:ee}}else if(B==="RadialBar"){var Q=(W.data||[]).find(function(J){return RT(T,J)});if(Q)return{graphicalItem:L,payload:Q}}else if(Tf(L,C)||Cf(L,C)||Xl(L,C)){var ae=_V({graphicalItem:L,activeTooltipItem:C,itemData:D.data}),oe=D.activeIndex===void 0?ae:D.activeIndex;return{graphicalItem:ye(ye({},L),{},{childIndex:oe}),payload:Xl(L,C)?D.data[ae]:L.props.data[ae]}}}return null}},{key:"render",value:function(){var T=this;if(!GS(this))return null;var P=this.props,N=P.children,C=P.className,I=P.width,R=P.height,L=P.style,W=P.compact,q=P.title,D=P.desc,B=PE(P,XG),ee=Xe(B,!1);if(W)return z.createElement(cE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(Iv,jo({},ee,{width:I,height:R,title:q,desc:D}),this.renderClipPath(),WS(N,this.renderMap)));if(this.props.accessibilityLayer){var Q,ae;ee.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,ee.role=(ae=this.props.role)!==null&&ae!==void 0?ae:"application",ee.onKeyDown=function(J){T.accessibilityManager.keyboardEvent(J)},ee.onFocus=function(){T.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return z.createElement(cE,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",jo({className:dt("recharts-wrapper",C),style:ye({position:"relative",cursor:"default",width:I,height:R},L)},oe,{ref:function(F){T.container=F}}),z.createElement(Iv,jo({},ee,{width:I,height:R,title:q,desc:D,style:hH}),this.renderClipPath(),WS(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(M.Component);et(_,"displayName",n),et(_,"defaultProps",ye({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),et(_,"getDerivedStateFromProps",function(b,E){var A=b.dataKey,T=b.data,P=b.children,N=b.width,C=b.height,I=b.layout,R=b.stackOffset,L=b.margin,W=E.dataStartIndex,q=E.dataEndIndex;if(E.updateId===void 0){var D=kE(b);return ye(ye(ye({},D),{},{updateId:0},w(ye(ye({props:b},D),{},{updateId:0}),E)),{},{prevDataKey:A,prevData:T,prevWidth:N,prevHeight:C,prevLayout:I,prevStackOffset:R,prevMargin:L,prevChildren:P})}if(A!==E.prevDataKey||T!==E.prevData||N!==E.prevWidth||C!==E.prevHeight||I!==E.prevLayout||R!==E.prevStackOffset||!Io(L,E.prevMargin)){var B=kE(b),ee={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},Q=ye(ye({},IE(E,T,I)),{},{updateId:E.updateId+1}),ae=ye(ye(ye({},B),ee),Q);return ye(ye(ye({},ae),w(ye({props:b},ae),E)),{},{prevDataKey:A,prevData:T,prevWidth:N,prevHeight:C,prevLayout:I,prevStackOffset:R,prevMargin:L,prevChildren:P})}if(!Pv(P,E.prevChildren)){var oe,J,F,X,O=Qn(P,Xo),H=O&&(oe=(J=O.props)===null||J===void 0?void 0:J.startIndex)!==null&&oe!==void 0?oe:W,fe=O&&(F=(X=O.props)===null||X===void 0?void 0:X.endIndex)!==null&&F!==void 0?F:q,G=H!==W||fe!==q,pe=!lt(T),me=pe&&!G?E.updateId:E.updateId+1;return ye(ye({updateId:me},w(ye(ye({props:b},E),{},{updateId:me,dataStartIndex:H,dataEndIndex:fe}),E)),{},{prevChildren:P,dataStartIndex:H,dataEndIndex:fe})}return null}),et(_,"renderActiveDot",function(b,E,A){var T;return M.isValidElement(b)?T=M.cloneElement(b,E):tt(b)?T=b(E):T=z.createElement(wf,E),z.createElement(gt,{className:"recharts-active-dot",key:A},T)});var x=M.forwardRef(function(E,A){return z.createElement(_,jo({},E,{ref:A}))});return x.displayName=_.displayName,x},_H=Zx({chartName:"BarChart",GraphicalChild:aa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ys},{axisType:"yAxis",AxisComp:vs}],formatAxisMap:MI}),gk=Zx({chartName:"PieChart",GraphicalChild:Jr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Af},{axisType:"radiusAxis",AxisComp:Nf}],formatAxisMap:mF,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),AH=Zx({chartName:"AreaChart",GraphicalChild:ca,axisComponents:[{axisType:"xAxis",AxisComp:ys},{axisType:"yAxis",AxisComp:vs}],formatAxisMap:MI});const Fc=["#0f766e","#14b8a6","#5eead4","#ccfbf1"],Uc=({title:e,value:t,subtext:n,icon:r,color:o})=>i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:e}),i.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:t})]}),i.jsx("div",{className:`p-3 rounded-lg ${o}`,children:i.jsx(r,{size:24,className:"text-white"})})]}),i.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[i.jsxs("span",{className:"text-emerald-600 font-medium flex items-center",children:[i.jsx(Pr,{size:14,className:"mr-1"}),n]}),i.jsx("span",{className:"text-slate-400 ml-2",children:"vs last month"})]})]}),RE=({currentBranchId:e,inventory:t,sales:n,expenses:r,onViewInventory:o})=>{var E;const[l,u]=M.useState([]),[d,f]=M.useState([]);M.useEffect(()=>{let A=!0;return(async()=>{try{const[T,P]=await Promise.all([$e.getBranches(),$e.getProducts()]);A&&(u(T||[]),f(P||[]))}catch(T){console.error("Failed to load branches/products",T)}})(),()=>{A=!1}},[]);const p=e==="HEAD_OFFICE",g=((E=l.find(A=>A.id===e))==null?void 0:E.name)||"Unknown",m=M.useMemo(()=>{const A=n.filter(L=>p||L.branchId===e),T=r.filter(L=>p||L.branchId===e),P=A.reduce((L,W)=>L+(W.totalAmount||0),0),N=A.reduce((L,W)=>L+(W.profit||0),0),C=T.reduce((L,W)=>L+(W.amount||0),0),I=N-C,R=A.length;return{revenue:P,netProfit:I,transactions:R}},[n,r,e,p]),v=M.useMemo(()=>{const A=n.filter(P=>p||P.branchId===e);return Array.from({length:7},(P,N)=>{const C=new Date;return C.setDate(C.getDate()-(6-N)),C.toISOString().split("T")[0]}).map(P=>{const N=A.filter(L=>L.date.startsWith(P)),C=N.reduce((L,W)=>L+(W.totalAmount||0),0),I=N.length;return{name:new Date(P).toLocaleDateString("en-US",{weekday:"short"}),sales:I*10,revenue:C}})},[n,e,p]),w=M.useMemo(()=>{if(!p)return[];const A={};return n.forEach(T=>{T.branchId&&(A[T.branchId]=(A[T.branchId]||0)+(T.totalAmount||0))}),Object.entries(A).map(([T,P])=>{var N;return{name:((N=l.find(C=>C.id===T))==null?void 0:N.name)||T,value:P}})},[n,p,l]);let _=0;const x=[];return(p?Object.keys(t):[e]).forEach(A=>{(t[A]||[]).forEach(P=>{var I;const N=d.find(R=>R.id===P.productId),C=P.batches?P.batches.filter(R=>R.status==="ACTIVE").reduce((R,L)=>R+L.quantity,0):0;N&&C<=N.minStockLevel&&(_++,x.length<5&&x.push({name:N.name,stock:C,branch:((I=l.find(R=>R.id===A))==null?void 0:I.name)||A}))})}),i.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:p?"Head Office Overview":`${g} Overview`}),i.jsx("p",{className:"text-slate-500 mt-1",children:p?"Real-time aggregated insights across all branches.":`Monitoring performance for ${g} only.`})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Uc,{title:"Total Revenue (All Time)",value:`TZS ${(m.revenue/1e6).toFixed(2)}M`,subtext:"Dynamic",icon:Er,color:"bg-emerald-600"}),i.jsx(Uc,{title:"Transactions",value:m.transactions.toLocaleString(),subtext:"Processed",icon:Da,color:"bg-blue-600"}),i.jsx(Uc,{title:"Stock Alerts",value:`${_} Items`,subtext:"Below Min Level",icon:Bn,color:"bg-amber-500"}),i.jsx(Uc,{title:"Net Profit",value:`TZS ${(m.netProfit/1e6).toFixed(2)}M`,subtext:"Rev - Cost - Exp",icon:Pr,color:"bg-teal-600"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:p?"Global Sales Analytics (7 Days)":"Branch Sales Analytics (7 Days)"}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(ld,{width:"100%",height:"100%",children:i.jsxs(AH,{data:v,margin:{top:10,right:30,left:0,bottom:0},children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#0d9488",stopOpacity:.1}),i.jsx("stop",{offset:"95%",stopColor:"#0d9488",stopOpacity:0})]})}),i.jsx(Xx,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),i.jsx(ys,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},dy:10}),i.jsx(vs,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},tickFormatter:A=>`${A/1e3}k`}),i.jsx(er,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},itemStyle:{color:"#0f766e",fontWeight:600},formatter:A=>[`TZS ${A.toLocaleString()}`,"Revenue"]}),i.jsx(ca,{type:"monotone",dataKey:"revenue",stroke:"#0d9488",fillOpacity:1,fill:"url(#colorRevenue)",strokeWidth:3})]})})})]}),p?i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Revenue by Branch"}),i.jsxs("div",{className:"h-60 w-full relative",children:[i.jsx(ld,{width:"100%",height:"100%",children:i.jsxs(gk,{children:[i.jsx(Jr,{data:w,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:w.map((A,T)=>i.jsx(su,{fill:Fc[T%Fc.length]},`cell-${T}`))}),i.jsx(er,{formatter:A=>`TZS ${A.toLocaleString()}`})]})}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-3xl font-bold text-teal-800",children:w.length}),i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Branches"})]})})]}),i.jsx("div",{className:"mt-6 space-y-3",children:w.map((A,T)=>i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:Fc[T%Fc.length]}}),i.jsx("span",{className:"text-slate-600",children:A.name})]}),i.jsxs("span",{className:"font-medium text-slate-900",children:[(A.value/1e6).toFixed(1),"M"]})]},A.name))})]}):i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex flex-col justify-center items-center text-center",children:[i.jsx("div",{className:"p-4 bg-teal-50 rounded-full mb-4",children:i.jsx(Yc,{size:40,className:"text-teal-600"})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:g}),i.jsx("p",{className:"text-slate-500 mb-6",children:"Performance is solid. Keep monitoring stock levels."}),i.jsx("button",{onClick:o,className:"text-teal-600 font-bold hover:underline",children:"Manage Stock"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800",children:p?"Critical Stock Alerts (Real-time)":"Branch Stock Alerts"}),i.jsx("button",{onClick:o,className:"text-teal-600 text-sm font-medium hover:underline",children:"View All Inventory"})]}),i.jsxs("table",{className:"w-full text-left text-sm text-slate-600",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-700 font-semibold uppercase text-xs",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Product Name"}),i.jsx("th",{className:"px-6 py-4",children:"Branch"}),i.jsx("th",{className:"px-6 py-4",children:"Active Stock"}),i.jsx("th",{className:"px-6 py-4",children:"Status"}),i.jsx("th",{className:"px-6 py-4",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:x.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-400 italic",children:"No low stock items detected."})}):x.map((A,T)=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:A.name}),i.jsx("td",{className:"px-6 py-4",children:A.branch}),i.jsxs("td",{className:"px-6 py-4 text-red-600 font-bold",children:[A.stock," Units"]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded font-bold",children:"LOW"})}),i.jsx("td",{className:"px-6 py-4 text-teal-600 hover:text-teal-800 cursor-pointer",children:"Reorder"})]},T))})]})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var OE;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(OE||(OE={}));var DE;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(DE||(DE={}));var LE;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(LE||(LE={}));var $E;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})($E||($E={}));var qE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(qE||(qE={}));var FE;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(FE||(FE={}));var UE;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(UE||(UE={}));var BE;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(BE||(BE={}));var zE;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zE||(zE={}));var VE;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(VE||(VE={}));var GE;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(GE||(GE={}));var HE;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(HE||(HE={}));var WE;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(WE||(WE={}));var KE;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(KE||(KE={}));var JE;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(JE||(JE={}));var YE;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(YE||(YE={}));var XE;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(XE||(XE={}));var ZE;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(ZE||(ZE={}));var QE;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(QE||(QE={}));var eP;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(eP||(eP={}));var tP;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tP||(tP={}));var nP;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nP||(nP={}));var rP;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rP||(rP={}));var iP;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(iP||(iP={}));var aP;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(aP||(aP={}));var oP;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oP||(oP={}));var sP;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(sP||(sP={}));var lP;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(lP||(lP={}));var uP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(uP||(uP={}));var cP;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(cP||(cP={}));var dP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(dP||(dP={}));var fP;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(fP||(fP={}));var pP;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(pP||(pP={}));var hP;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(hP||(hP={}));var mP;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(mP||(mP={}));var gP;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(gP||(gP={}));var yP;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(yP||(yP={}));var vP;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(vP||(vP={}));var xP;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(xP||(xP={}));var bP;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(bP||(bP={}));var wP;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(wP||(wP={}));var SP;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(SP||(SP={}));var NP;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(NP||(NP={}));var _P;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(_P||(_P={}));var AP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(AP||(AP={}));var TP;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(TP||(TP={}));var CP;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(CP||(CP={}));var EP;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(EP||(EP={}));var PP;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(PP||(PP={}));var jP;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(jP||(jP={}));var IP;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(IP||(IP={}));var kP;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kP||(kP={}));var MP;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(MP||(MP={}));var RP;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(RP||(RP={}));var OP;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(OP||(OP={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var DP;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(DP||(DP={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TH="1.31.0",JH=`google-genai-sdk/${TH}`;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YH=1024*1024*8;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var CH={};const EH=()=>{try{typeof process<"u"}catch(e){console.warn("Environment variable access failed",e)}return console.warn("Gemini API Key is missing. AI features will return mock data."),null},PH=async e=>{const t=EH(),n=e.map(r=>r.name).join(", ");if(!t||e.length<2)return"No significant interactions detected (Offline/Mock Mode).";try{return(await t.models.generateContent({model:"gemini-2.5-flash",contents:`Analyze the following list of drugs for potential interactions: ${n}. 
      Return a concise summary of any interactions. If none, say "Safe". 
      Focus on clinical safety.`,config:{maxOutputTokens:200}})).text||"No response from AI."}catch(r){return console.error("AI Error:",r),"Unable to verify interactions at this time."}},yk=M.createContext(void 0),Ei=()=>{const e=M.useContext(yk);if(!e)throw new Error("useNotifications must be used within a NotificationProvider");return e},jH=({children:e})=>{const[t,n]=M.useState([]),r=M.useCallback(p=>{const g=Math.random().toString(36).substr(2,9),m={id:g,duration:5e3,...p};n(v=>[...v,m]),m.duration&&m.duration>0&&setTimeout(()=>{o(g)},m.duration)},[]),o=M.useCallback(p=>{n(g=>g.filter(m=>m.id!==p))},[]),l=M.useCallback((p,g,m)=>{r({type:"success",title:p,message:g,duration:m})},[r]),u=M.useCallback((p,g,m)=>{r({type:"error",title:p,message:g,duration:m})},[r]),d=M.useCallback((p,g,m)=>{r({type:"warning",title:p,message:g,duration:m})},[r]),f=M.useCallback((p,g,m)=>{r({type:"info",title:p,message:g,duration:m})},[r]);return i.jsx(yk.Provider,{value:{notifications:t,addNotification:r,removeNotification:o,showSuccess:l,showError:u,showWarning:d,showInfo:f},children:e})},IH=({notification:e,onClose:t})=>{const n=o=>{switch(o){case"success":return i.jsx(kt,{className:"text-emerald-500",size:20});case"error":return i.jsx(Fr,{className:"text-rose-500",size:20});case"warning":return i.jsx(Bn,{className:"text-amber-500",size:20});case"info":return i.jsx(SR,{className:"text-blue-500",size:20})}},r=o=>{switch(o){case"success":return"bg-emerald-50 border-emerald-200";case"error":return"bg-rose-50 border-rose-200";case"warning":return"bg-amber-50 border-amber-200";case"info":return"bg-blue-50 border-blue-200"}};return i.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border shadow-lg animate-in slide-in-from-right duration-300 ${r(e.type)}`,children:[n(e.type),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-slate-900 text-sm",children:e.title}),e.message&&i.jsx("p",{className:"text-slate-600 text-sm mt-1",children:e.message})]}),i.jsx("button",{onClick:()=>t(e.id),className:"text-slate-400 hover:text-slate-600 transition-colors",children:i.jsx(Jt,{size:16})})]})},kH=()=>{const{notifications:e,removeNotification:t}=Ei();return e.length===0?null:i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-sm",children:e.map(n=>i.jsx(IH,{notification:n,onClose:t},n.id))})},MH=({currentBranchId:e,inventory:t,onCreateInvoice:n,products:r})=>{var me;const{showSuccess:o,showError:l}=Ei(),[u,d]=M.useState([]),[f,p]=M.useState(""),[g,m]=M.useState(1),[v,w]=M.useState(!1),[_,x]=M.useState(!1),[b,E]=M.useState(""),[A,T]=M.useState(null),[P,N]=M.useState(""),[C,I]=M.useState(null),[R,L]=M.useState([]),[W,q]=M.useState(!0),[D,B]=M.useState(!1);M.useEffect(()=>{(async()=>{try{const ve=await $e.getBranches();L(ve||[])}catch(ve){console.error("Failed to load branches:",ve)}finally{q(!1)}})()},[]);const ee=e==="HEAD_OFFICE",Q=((me=R.find(ne=>ne.id===e))==null?void 0:me.name)||"Unknown Branch",ae=r.map(ne=>{const re=(t[e]||[]).find($=>$.productId===ne.id),ge=re==null?void 0:re.customPrice,xe=re?re.batches.filter($=>$.status==="ACTIVE").reduce(($,Ae)=>$+Ae.quantity,0):0;return{...ne,price:ge||ne.price,totalStock:xe}}),oe=u.reduce((ne,ve)=>ne+ve.price*ve.quantity,0),J=oe*.18,F=oe+J;M.useEffect(()=>{const ne=setTimeout(async()=>{if(u.length>1)try{const ve=await PH(u);ve&&ve.toLowerCase()!=="safe"?T(ve):T(null)}catch(ve){console.error("Drug interaction check failed:",ve)}else T(null)},1e3);return()=>clearTimeout(ne)},[u]);const X=ne=>{var ge;const ve=g>0?g:1,re=((ge=u.find(xe=>xe.id===ne.id))==null?void 0:ge.quantity)||0;if(re+ve>ne.totalStock){l("Insufficient Stock",`Available: ${ne.totalStock}, Requested: ${re+ve}`);return}d(xe=>xe.find(Ae=>Ae.id===ne.id)?xe.map(Ae=>Ae.id===ne.id?{...Ae,quantity:Ae.quantity+ve}:Ae):[...xe,{...ne,quantity:ve,selectedBatch:"BATCH-AUTO",discount:0}]),m(1)},O=ne=>{d(ve=>ve.filter(re=>re.id!==ne))},H=(ne,ve)=>{isNaN(ve)||ve<0||d(re=>{if(!re.find($=>$.id===ne))return re;const xe=ae.find($=>$.id===ne);return xe?ve>xe.totalStock?(l("Insufficient Stock",`Limit is ${xe.totalStock} units for ${xe.name}`),re):ve===0?re.filter($=>$.id!==ne):re.map($=>$.id===ne?{...$,quantity:ve}:$):re})},fe=async()=>{if(!b.trim()){l("Validation Error","Please enter a customer name.");return}const ne={id:`INV-${Date.now().toString().slice(-6)}`,branchId:e,customerName:b,dateIssued:new Date().toISOString().split("T")[0],dueDate:new Date().toISOString().split("T")[0],totalAmount:F,paidAmount:0,status:"UNPAID",description:`POS Sale - ${u.length} items`,source:"POS",items:u,payments:[]};try{await n(ne),w(!1),x(!1),o("Invoice Created",`Proforma Invoice #${ne.id} sent to Finance`),d([]),E("")}catch(ve){console.error("Failed to create invoice:",ve),l("Creation Failed","Failed to create invoice. Please try again.")}},G=()=>{window.print()},pe=ae.filter(ne=>(ne.name.toLowerCase().includes(f.toLowerCase())||ne.genericName.toLowerCase().includes(f.toLowerCase()))&&ne.totalStock>0);return ee?i.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-center p-8 bg-white rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("div",{className:"p-6 bg-amber-50 rounded-full mb-4",children:i.jsx(FP,{size:48,className:"text-amber-500"})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"POS Unavailable in Head Office View"}),i.jsx("p",{className:"text-slate-500 max-w-md mb-6",children:"Point of Sale operations must be conducted within a specific branch context. Please switch to a branch using the selector in the sidebar."})]}):W?i.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Jc,{className:"animate-spin mx-auto mb-4 text-teal-600",size:32}),i.jsx("p",{children:"Loading POS system..."})]})}):i.jsxs("div",{className:"h-full min-h-screen",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full min-h-[calc(100vh-12rem)] no-print",children:[i.jsxs("div",{className:`flex flex-col bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden min-h-0 transition-all duration-300 ${D?"w-16":"flex-1"}`,children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex gap-4 items-center",children:[!D&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Scan Barcode or Search Product...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500",value:f,onChange:ne=>p(ne.target.value),autoFocus:!0})]}),i.jsx("div",{className:"w-32",children:i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold uppercase",children:"Qty:"}),i.jsx("input",{type:"number",min:"1",className:"w-full pl-10 pr-3 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500 font-bold text-center",value:g,onChange:ne=>m(parseInt(ne.target.value)||0)})]})})]}),i.jsx("button",{onClick:()=>B(!D),className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:D?"Expand product panel":"Collapse product panel",children:D?i.jsx(gR,{size:20}):i.jsx(mR,{size:20})})]}),!D&&i.jsx("div",{className:"flex-1 overflow-y-auto p-4 min-h-0",children:pe.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[i.jsx(qa,{size:48,className:"mb-4 opacity-20"}),i.jsx("p",{children:"No products available"})]}):i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:pe.map(ne=>i.jsxs("button",{onClick:()=>X(ne),className:"flex flex-col text-left p-4 rounded-xl border border-slate-200 hover:border-teal-500 hover:bg-teal-50 transition-all group",children:[i.jsxs("div",{className:"flex justify-between w-full mb-2",children:[i.jsx("span",{className:"text-xs font-bold text-teal-600 bg-teal-100 px-2 py-1 rounded-md",children:ne.unit}),ne.requiresPrescription&&i.jsx("span",{className:"text-xs font-bold text-red-600 bg-red-100 px-2 py-1 rounded-md",children:"Rx"})]}),i.jsx("h3",{className:"font-bold text-slate-800 mb-1 group-hover:text-teal-700 text-sm line-clamp-2",children:ne.name}),i.jsx("p",{className:"text-xs text-slate-500 mb-3 line-clamp-1",children:ne.genericName}),i.jsx("div",{className:"mt-auto pt-2 border-t border-slate-100 w-full flex justify-between items-center",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("span",{className:"font-bold text-slate-900 text-sm",children:[(ne.price||0).toLocaleString()," TZS"]}),i.jsxs("span",{className:"text-[10px] text-slate-400",children:["Stock: ",ne.totalStock]})]})})]},ne.id))})})]}),i.jsxs("div",{className:`flex flex-col bg-white rounded-2xl shadow-xl border border-slate-100 min-h-0 ${D?"flex-1":"w-96"}`,children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 rounded-t-2xl flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center",children:[i.jsx(vi,{className:"mr-2",size:20}),"Order"]}),i.jsxs("p",{className:"text-xs text-teal-600 font-bold mt-1",children:["Location: ",Q]})]}),u.length>0&&i.jsx("button",{onClick:()=>d([]),className:"text-slate-400 hover:text-rose-500",title:"Clear Cart",children:i.jsx(Jt,{size:20})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:u.length===0?i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[i.jsx(Jc,{size:48,className:"mb-4 opacity-50"}),i.jsx("p",{children:"Cart is empty"})]}):u.map(ne=>i.jsxs("div",{className:"flex flex-col p-3 bg-slate-50 rounded-lg border border-slate-100",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:ne.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:[(ne.price||0).toLocaleString()," per unit"]})]}),i.jsx("span",{className:"font-bold text-slate-900",children:((ne.price||0)*ne.quantity).toLocaleString()})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1 bg-white border border-slate-200 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>H(ne.id,ne.quantity-1),className:"p-1 hover:bg-slate-100 rounded text-slate-500",children:i.jsx(CR,{size:14})}),i.jsx("input",{type:"number",min:"1",className:"w-12 text-center text-sm font-bold border-none focus:ring-0 p-0",value:ne.quantity,onChange:ve=>H(ne.id,parseInt(ve.target.value)||0)}),i.jsx("button",{onClick:()=>H(ne.id,ne.quantity+1),className:"p-1 hover:bg-slate-100 rounded text-slate-500",children:i.jsx(na,{size:14})})]}),i.jsx("button",{onClick:()=>O(ne.id),className:"text-red-400 hover:text-red-600 p-2",children:i.jsx(ra,{size:16})})]})]},ne.id))}),A&&i.jsx("div",{className:"px-6 py-3 bg-amber-50 border-t border-amber-100",children:i.jsxs("div",{className:"flex items-start gap-2 text-amber-800 text-xs",children:[i.jsx(RR,{size:16,className:"shrink-0 mt-0.5"}),i.jsxs("p",{children:[i.jsx("strong",{children:"Clinical Alert:"})," ",A]})]})}),i.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[i.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[i.jsxs("div",{className:"flex justify-between text-slate-600",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{children:[oe.toLocaleString()," TZS"]})]}),i.jsxs("div",{className:"flex justify-between text-slate-600",children:[i.jsx("span",{children:"VAT (18%)"}),i.jsxs("span",{children:[J.toLocaleString()," TZS"]})]}),i.jsxs("div",{className:"flex justify-between font-bold text-xl text-teal-900 pt-2 border-t border-slate-200",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{children:[F.toLocaleString()," TZS"]})]})]}),i.jsxs("button",{disabled:u.length===0,onClick:()=>{x(!1),w(!0)},className:"w-full py-4 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold rounded-xl shadow-lg shadow-blue-600/20 transition-all flex justify-center items-center gap-2",children:[i.jsx(Tv,{size:18})," Send to Finance"]}),i.jsx("p",{className:"text-xs text-center text-slate-500 mt-2",children:"Inventory will be deducted after payment."})]})]})]}),v&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 no-print",children:i.jsx("div",{className:`bg-white rounded-2xl w-full ${_?"max-w-2xl":"max-w-sm"} overflow-hidden animate-in fade-in zoom-in duration-200 transition-all no-print`,children:_?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-slate-800 text-white flex justify-between items-center no-print",children:[i.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[i.jsx(vi,{size:18,className:"text-blue-400"})," Proforma Invoice Preview"]}),i.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-white",children:i.jsx(Jt,{size:20})})]}),i.jsx("div",{className:"p-8 bg-slate-50 max-h-[60vh] overflow-y-auto",children:i.jsxs("div",{className:"bg-white border border-slate-200 p-6 shadow-sm text-sm",children:[i.jsxs("div",{className:"flex justify-between items-start mb-6 border-b border-slate-100 pb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-bold text-slate-900 uppercase",children:"Proforma Invoice"}),i.jsxs("p",{className:"text-slate-500",children:["Date: ",new Date().toLocaleDateString()]}),i.jsxs("p",{className:"text-slate-500",children:["Branch: ",Q]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"font-bold text-slate-900",children:"PMS Pharmacy"}),i.jsx("p",{className:"text-slate-500",children:"TIN: 123-456-789"}),i.jsxs("p",{className:"text-slate-500",children:["Bill To: ",i.jsx("span",{className:"font-bold text-slate-800",children:b})]})]})]}),i.jsxs("table",{className:"w-full text-left mb-6",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2 pl-2",children:"Item"}),i.jsx("th",{className:"py-2 text-center",children:"Qty"}),i.jsx("th",{className:"py-2 text-right",children:"Price"}),i.jsx("th",{className:"py-2 text-right pr-2",children:"Total"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:u.map((ne,ve)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 pl-2 font-medium",children:ne.name}),i.jsx("td",{className:"py-2 text-center",children:ne.quantity}),i.jsx("td",{className:"py-2 text-right",children:(ne.price||0).toLocaleString()}),i.jsx("td",{className:"py-2 text-right pr-2",children:((ne.price||0)*ne.quantity).toLocaleString()})]},ve))})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("div",{className:"w-48 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-slate-500",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:oe.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between text-slate-500",children:[i.jsx("span",{children:"VAT (18%):"}),i.jsx("span",{children:J.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between font-bold text-lg text-slate-900 border-t border-slate-200 pt-2",children:[i.jsx("span",{children:"Total:"}),i.jsxs("span",{children:[F.toLocaleString()," TZS"]})]})]})})]})}),i.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex justify-between gap-3 no-print",children:[i.jsxs("button",{onClick:()=>x(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-50 rounded-lg flex items-center gap-2",children:[i.jsx(cR,{size:16})," Back to Edit"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:G,className:"px-4 py-2 bg-slate-800 text-white font-medium rounded-lg hover:bg-slate-900 flex items-center gap-2",children:[i.jsx(zP,{size:16})," Print"]}),i.jsxs("button",{onClick:fe,className:"px-6 py-2 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 shadow-md flex items-center gap-2",children:[i.jsx(Tv,{size:16})," Confirm & Send"]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 text-center relative",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Order Details"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Step 1: Assign to Customer"}),i.jsx("button",{onClick:()=>w(!1),className:"absolute right-4 top-4 text-slate-400 hover:text-slate-600",children:i.jsx(Jt,{size:20})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Customer Name"}),i.jsx("input",{type:"text",autoFocus:!0,placeholder:"e.g. Walk-in Client, John Doe",className:"w-full p-3 border border-slate-300 rounded-lg outline-none focus:ring-2 focus:ring-blue-500",value:b,onChange:ne=>E(ne.target.value)})]}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 text-slate-500 font-medium",children:"Cancel"}),i.jsxs("button",{onClick:()=>{if(!b.trim()){l("Validation","Please enter a customer name.");return}x(!0)},className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-md flex items-center gap-2",children:["Preview Invoice ",i.jsx(iu,{size:16})]})]})]})})}),i.jsx("div",{className:"print-only",children:i.jsxs("div",{className:"max-w-xl mx-auto border border-black p-8 text-black",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold uppercase",children:"PMS Pharmacy"}),i.jsx("p",{children:"TIN: 123-456-789 | VRN: 40-001234"}),i.jsx("p",{children:"Bagamoyo Road, Dar es Salaam"}),i.jsxs("p",{children:["Branch: ",Q]})]}),i.jsx("hr",{className:"border-black my-4"}),i.jsx("div",{className:"flex justify-between font-bold text-lg mb-2",children:i.jsx("span",{children:"PROFORMA INVOICE"})}),i.jsxs("p",{children:["Date: ",new Date().toLocaleDateString()]}),i.jsxs("p",{children:["Customer: ",b]}),i.jsx("hr",{className:"border-black my-4"}),i.jsxs("table",{className:"w-full text-left mb-6",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-black",children:[i.jsx("th",{className:"py-2",children:"Item"}),i.jsx("th",{className:"py-2 text-right",children:"Qty"}),i.jsx("th",{className:"py-2 text-right",children:"Price"}),i.jsx("th",{className:"py-2 text-right",children:"Total"})]})}),i.jsx("tbody",{children:u.map((ne,ve)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:ne.name}),i.jsx("td",{className:"py-2 text-right",children:ne.quantity}),i.jsx("td",{className:"py-2 text-right",children:(ne.price||0).toLocaleString()}),i.jsx("td",{className:"py-2 text-right",children:((ne.price||0)*ne.quantity).toLocaleString()})]},ve))})]}),i.jsx("hr",{className:"border-black my-4"}),i.jsxs("div",{className:"flex justify-between font-bold text-xl",children:[i.jsx("span",{children:"TOTAL"}),i.jsxs("span",{children:[F.toLocaleString()," TZS"]})]}),i.jsx("div",{className:"mt-8 text-center text-sm",children:i.jsx("p",{children:"This is not a fiscal receipt. Please pay at Finance."})})]})}),P&&i.jsxs("div",{className:"fixed bottom-8 right-8 bg-teal-900 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom-10 fade-in duration-300 z-50 no-print",children:[i.jsx(kt,{className:"text-teal-400"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold",children:"Sent to Finance"}),i.jsx("p",{className:"text-sm text-teal-100",children:P})]})]}),C&&i.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 bg-rose-600 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-bottom-10 fade-in duration-300 z-50 no-print",children:[i.jsx(Bn,{className:"text-white"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold",children:"Stock Alert"}),i.jsx("p",{className:"text-sm text-rose-100",children:C})]})]})]})},LP=e=>{if(e==null||Number.isNaN(Number(e)))return"0";try{return Number(e).toLocaleString()}catch{return String(e)}},Bc=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";try{return t.toLocaleDateString()}catch{return e}},Ut=e=>{if(e==null||Number.isNaN(Number(e)))return"0";try{return Number(e).toLocaleString()}catch{return"0"}},RH=({currentBranchId:e,inventory:t,setInventory:n,transfers:r,setTransfers:o,sales:l,currentUser:u,products:d,setProducts:f,branches:p=[],onAddStock:g,onAddProduct:m,onUpdateProduct:v,onCreateTransfer:w})=>{var bu,bs,fa,Hn,wu,Rn;const{showSuccess:_,showError:x,showWarning:b,showInfo:E}=Ei(),[A,T]=M.useState("stock"),[P,N]=M.useState(!1),[C,I]=M.useState("EXISTING"),[R,L]=M.useState(!1),[W,q]=M.useState(!1),[D,B]=M.useState(!1),[ee,Q]=M.useState("KEEPER"),[ae,oe]=M.useState(null),[J,F]=M.useState(""),[X,O]=M.useState(""),[H,fe]=M.useState(!1),[G,pe]=M.useState(!1),[me,ne]=M.useState(null),[ve,re]=M.useState(!1),[ge,xe]=M.useState(null),[$,Ae]=M.useState(!1),[Se,Re]=M.useState(null),[Y,le]=M.useState([]),[te,he]=M.useState([]),[Te,Ee]=M.useState([]),[Ue,je]=M.useState(null),[ot,Be]=M.useState(!1),[wt,st]=M.useState(""),[Yt,ce]=M.useState(""),[Ge,Ye]=M.useState(""),[At,Lt]=M.useState(!1),[De,Xt]=M.useState(null),[rr,_n]=M.useState(!1),[pt,kn]=M.useState(null),[Mr,An]=M.useState(!1),[Gn,$t]=M.useState(!1),[da,Yr]=M.useState(!1),[V,Le]=M.useState(null),[Oe,rt]=M.useState({productId:"",name:"",genericName:"",category:"General",costPrice:"",price:"",unit:"Box",minStock:"10",batchNumber:"",expiryDate:"",quantity:""}),[Je,qt]=M.useState({targetBranchId:"",notes:"",items:[]}),[it,Mn]=M.useState([]),[ft,Tn]=M.useState({productId:"",quantity:""}),Rr=e==="HEAD_OFFICE",Xa=((bu=p.find(k=>k.id===e))==null?void 0:bu.name)||"Unknown",Or=t[e]||[],Rf=()=>{fe(!0),setTimeout(()=>{f(k=>k.map(ie=>Math.random()>.7?{...ie,costPrice:Math.floor(ie.costPrice*(1+(Math.random()*.1-.05)))}:ie)),fe(!1),_("MSD Sync Complete","Updated catalog from National Medical Store.")},2500)},Of=async()=>{var ht,Wn,Zr,ws,Qa;const k=parseInt(Oe.quantity),ie=C==="NEW",Pe=ie?`P-${Date.now()}`:Oe.productId;if(!Oe.quantity||k<=0||isNaN(k)){x("Invalid Quantity","Please enter a valid quantity greater than 0.");return}if(!ie&&!Oe.productId){x("Missing Product","Please select a product to restock.");return}if(ie){if(!((ht=Oe.name)!=null&&ht.trim())){x("Missing Name","Please provide a product name.");return}if(!Oe.price||parseFloat(Oe.price)<=0){x("Invalid Price","Please provide a valid selling price.");return}if(parseFloat(Oe.costPrice)<0){x("Invalid Cost","Cost price cannot be negative.");return}const Gt={id:Pe,name:Oe.name.trim(),genericName:((Wn=Oe.genericName)==null?void 0:Wn.trim())||"",category:Oe.category,costPrice:parseFloat(Oe.costPrice)||0,price:parseFloat(Oe.price)||0,unit:Oe.unit,minStockLevel:Oe.minStock?parseInt(Oe.minStock):0,totalStock:0,requiresPrescription:!1,batches:[]};try{m?await m(Gt):f(xr=>[...xr,Gt])}catch(xr){console.error("Error creating product:",xr),x("Failed to Create Product","There was an error creating the new product.");return}}const be=((Zr=Oe.batchNumber)==null?void 0:Zr.trim())||`BATCH-${Date.now()}`,we=Oe.expiryDate||new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0],nt={branchId:e,productId:Pe,batchNumber:be,expiryDate:we,quantity:k},ct=()=>{n(Gt=>{const xr=Gt[e]||[],Qr=xr.findIndex(Su=>Su.productId===Pe),vt={batchNumber:be,expiryDate:we,quantity:k,status:"ACTIVE"};let ei=[...xr];return Qr>=0?ei[Qr]={...ei[Qr],batches:[...ei[Qr].batches||[],vt],quantity:(ei[Qr].quantity||0)+k}:ei.push({productId:Pe,quantity:k,batches:[vt]}),{...Gt,[e]:ei}})};try{g&&await g(nt),ct();const Gt=ie?Oe.name:((ws=d.find(xr=>xr.id===Pe))==null?void 0:ws.name)||"Product";_("Stock Added Successfully",`${k} units of ${Gt} added to inventory.`),rt({productId:"",name:"",genericName:"",category:"General",costPrice:"",price:"",unit:"Box",minStock:"10",batchNumber:"",expiryDate:"",quantity:""}),I("EXISTING"),N(!1)}catch(Gt){console.error("Error adding stock (server):",Gt),((Gt==null?void 0:Gt.status)||((Qa=Gt==null?void 0:Gt.response)==null?void 0:Qa.status)||null)===404?x("API Route Not Found","POST /stock returned 404. Check backend route or base URL."):x("Failed to Add Stock",`Server error: ${Gt.message||"Unknown error"}`),ct(),b("Local Update Applied","Inventory updated locally  server was not updated."),rt({productId:"",name:"",genericName:"",category:"General",costPrice:"",price:"",unit:"Box",minStock:"10",batchNumber:"",expiryDate:"",quantity:""}),I("EXISTING"),N(!1)}},Xr=async()=>{var Pe;if(!Je.targetBranchId){x("Missing Destination","Please select a target branch.");return}if(Je.items.length===0){x("Empty Shipment","Please add at least one item to the shipment.");return}if(Je.items.filter(be=>be.quantity<=0).length>0){x("Invalid Quantities","All items must have quantities greater than 0.");return}const ie={id:`TR-${Date.now().toString().slice(-6)}`,sourceBranchId:e,targetBranchId:Je.targetBranchId,dateSent:new Date().toISOString().split("T")[0],items:Je.items,status:"IN_TRANSIT",keeperCode:Math.floor(1e5+Math.random()*9e5).toString(),controllerCode:Math.floor(1e5+Math.random()*9e5).toString(),notes:((Pe=Je.notes)==null?void 0:Pe.trim())||"",workflow:{step:"KEEPER_CHECK",logs:[{role:"Head Office",action:"Dispatched",timestamp:new Date().toLocaleString(),user:(u==null?void 0:u.username)||"Admin"}]}};try{w?await w(ie):o([ie,...r]),ne(ie),L(!1),pe(!0),qt({targetBranchId:"",notes:"",items:[]})}catch(be){console.error("Failed to create transfer:",be),x("Failed to Create Shipment","There was an error saving the shipment data. Please try again.")}},fu=()=>{if(!ft.productId||!ft.quantity){x("Missing Fields","Please select a product and enter quantity.");return}const k=parseInt(ft.quantity);if(k<=0){x("Invalid Quantity","Quantity must be greater than 0.");return}const ie=d.find(nt=>nt.id===ft.productId);if(!ie){x("Product Not Found","Selected product could not be found.");return}if(it.some(nt=>nt.productId===ft.productId)){x("Duplicate Product","This product is already in your requisition list.");return}const Pe=Or.find(nt=>nt.productId===ft.productId),be=(Pe==null?void 0:Pe.quantity)||0,we={productId:ft.productId,productName:ie.name,quantityRequested:k,currentStock:be,unit:ie.unit,unitPrice:ie.price,notes:`Current stock: ${be} ${ie.unit}`};Mn([...it,we]),Tn({productId:"",quantity:""}),_("Item Added",`${ie.name} added to requisition.`)},pu=k=>{Mn(it.filter(ie=>ie.productId!==k))},Df=async()=>{if(it.length===0){x("Empty Requisition","Please add at least one item to your requisition.");return}const ie=it.some(be=>be.currentStock===0)?"URGENT":"NORMAL",Pe={id:`REQ-${Date.now()}`,branchId:e,requestedBy:(u==null?void 0:u.id)||"Unknown",items:it.map(be=>({productId:be.productId,quantityRequested:be.quantityRequested,notes:be.notes})),notes:`Stock requisition with ${it.length} items`,priority:ie};try{await $e.request("/requisitions",{method:"POST",body:JSON.stringify(Pe)});const be=it.reduce((nt,ct)=>nt+ct.quantityRequested,0),we=it.reduce((nt,ct)=>nt+ct.quantityRequested*ct.unitPrice,0);_("Stock Requisition Submitted",`Requisition with ${it.length} items (${be} units total, estimated value: ${Ut(we)} TZS) has been sent to Head Office for approval.`,8e3),q(!1),Mn([]),Tn({productId:"",quantity:""})}catch(be){console.error("Failed to submit requisition:",be),x("Submission Failed","There was an error submitting your requisition. Please try again.")}},hu=()=>{if(!ae||!J)return;const k=r.find(ie=>ie.id===ae);if(k){if(ee==="KEEPER"){if(J!==k.keeperCode){O("Invalid Keeper Code.");return}n(Pe=>{const be=[...Pe[e]||[]];return k.items.forEach(we=>{const nt=be.findIndex(ht=>ht.productId===we.productId),ct={batchNumber:we.batchNumber,expiryDate:we.expiryDate,quantity:we.quantity,status:"ON_HOLD"};nt>=0?(be[nt].batches.push(ct),be[nt].quantity+=we.quantity):be.push({productId:we.productId,quantity:we.quantity,batches:[ct]})}),{...Pe,[e]:be}});const ie={...k,status:"RECEIVED_KEEPER",workflow:{step:"CONTROLLER_VERIFY",logs:[...k.workflow.logs,{role:"Store Keeper",action:"Confirmed Receipt",timestamp:new Date().toLocaleString(),user:(u==null?void 0:u.username)||"User"}]}};o(r.map(Pe=>Pe.id===ae?ie:Pe)),O(""),B(!1),_("Keeper Verification Successful","Shipment confirmed. Awaiting controller verification.")}else if(ee==="CONTROLLER"){if(J!==k.controllerCode){O("Invalid Controller Code.");return}n(Pe=>{const be=[...Pe[e]||[]];return k.items.forEach(we=>{const nt=be.findIndex(ct=>ct.productId===we.productId);if(nt>=0){const ct=be[nt].batches.filter(ht=>ht.batchNumber===we.batchNumber).pop();ct&&(ct.status="ACTIVE")}}),{...Pe,[e]:be}});const ie={...k,status:"COMPLETED",workflow:{step:"DONE",logs:[...k.workflow.logs,{role:"Inventory Controller",action:"Verified & Made Available for Sale",timestamp:new Date().toLocaleString(),user:(u==null?void 0:u.username)||"User"}]}};o(r.map(Pe=>Pe.id===ae?ie:Pe)),O(""),B(!1),_("Controller Verification Complete","Stock has been verified and is now available for sale in POS.")}}},mu=k=>{const ie=k.split(`
`).filter(we=>we.trim());if(ie.length<2)return[];const Pe=ie[0].split(",").map(we=>we.trim().toLowerCase()),be=[];for(let we=1;we<ie.length;we++){const nt=ie[we].split(",").map(ct=>ct.trim());if(nt.length===Pe.length){const ct={};Pe.forEach((ht,Wn)=>{ct[ht]=nt[Wn]}),be.push(ct)}}return be},gu=k=>{const ie=[],Pe=[],be=["name","price"];return k.forEach((we,nt)=>{const ct=nt+2;if(be.forEach(ht=>{(!we[ht]||we[ht].trim()==="")&&ie.push(`Row ${ct}: Missing required field '${ht}'`)}),we.price){const ht=parseFloat(we.price);(isNaN(ht)||ht<=0)&&ie.push(`Row ${ct}: Invalid price '${we.price}' - must be a positive number`)}if(we.costprice||we["cost price"]||we.cost_price){const ht=parseFloat(we.costprice||we["cost price"]||we.cost_price);!isNaN(ht)&&ht<0&&ie.push(`Row ${ct}: Cost price cannot be negative`)}if(we.minstock||we["min stock"]||we.min_stock){const ht=parseInt(we.minstock||we["min stock"]||we.min_stock);!isNaN(ht)&&ht<0&&ie.push(`Row ${ct}: Minimum stock cannot be negative`)}if(we.name&&we.name.trim()){const ht=d.find(Wn=>Wn.name.toLowerCase().trim()===we.name.toLowerCase().trim());ht&&Pe.push({rowIndex:nt,rowNum:ct,productName:we.name.trim(),existingProduct:ht})}}),{errors:ie,duplicates:Pe}},yu=k=>{var be;const ie=(be=k.target.files)==null?void 0:be[0];if(!ie)return;if(!ie.name.toLowerCase().endsWith(".csv")){x("Invalid File","Please select a CSV file.");return}const Pe=new FileReader;Pe.onload=we=>{var Zr;const nt=(Zr=we.target)==null?void 0:Zr.result,ct=mu(nt),{errors:ht,duplicates:Wn}=gu(ct);Re(ie),le(ct),he(ht),Ee(Wn),je(null)},Pe.readAsText(ie)},Lf=async()=>{if(te.length>0){x("Validation Errors","Please fix the errors before importing.");return}if(Y.length===0){x("No Data","No valid data found to import.");return}if(Te.length>0&&!Ue){x("Duplicate Products Found","Please choose how to handle duplicate products.");return}Be(!0);let k=0,ie=0,Pe=0;try{for(const we of Y)try{const nt=Te.some(ht=>ht.rowIndex===Y.indexOf(we));if(nt&&Ue==="skip"){Pe++;continue}const ct={id:nt&&Ue==="replace"?Te.find(ht=>ht.rowIndex===Y.indexOf(we)).existingProduct.id:`P-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:we.name.trim(),genericName:(we.genericname||we["generic name"]||we.generic_name||"").trim(),category:(we.category||"General").trim(),costPrice:parseFloat(we.costprice||we["cost price"]||we.cost_price||"0")||0,price:parseFloat(we.price),unit:(we.unit||"Box").trim(),minStockLevel:parseInt(we.minstock||we["min stock"]||we.min_stock||"10")||10,totalStock:0,requiresPrescription:(we.requiresprescription||we["requires prescription"]||we.requires_prescription||"false").toLowerCase()==="true",batches:[]};m?await m(ct):f(nt&&Ue==="replace"?ht=>ht.map(Wn=>Wn.id===ct.id?ct:Wn):ht=>[...ht,ct]),k++}catch(nt){console.error("Error importing product:",nt),ie++}let be=`Imported ${k} products successfully`;Pe>0&&(be+=`, ${Pe} skipped (duplicates)`),ie>0&&(be+=`, ${ie} failed`),_("Bulk Import Complete",be),Ae(!1),Re(null),le([]),he([]),Ee([]),je(null)}catch{x("Import Failed","An error occurred during bulk import.")}finally{Be(!1)}},Pi=M.useMemo(()=>d.map(k=>{const ie=Or.find(ht=>ht.productId===k.id),Pe=ie?ie.quantity:0,be=(ie==null?void 0:ie.customPrice)||k.price,we=(ie==null?void 0:ie.batches)||[],nt=Pe*k.costPrice,ct=Pe*be;return{...k,quantity:Pe,branchPrice:be,batches:we,assetValue:nt,retailValue:ct}}),[d,Or,t,e]),Tt=r.filter(k=>k.targetBranchId===e),vu=r.filter(k=>k.sourceBranchId===e),xs=Pi.reduce((k,ie)=>k+(ie.assetValue||0),0),xu=Pi.reduce((k,ie)=>k+(ie.retailValue||0),0),Za=M.useMemo(()=>Pi.filter(k=>{const ie=wt===""||k.name.toLowerCase().includes(wt.toLowerCase())||k.genericName.toLowerCase().includes(wt.toLowerCase())||k.category.toLowerCase().includes(wt.toLowerCase()),Pe=Yt===""||k.category===Yt;let be=!0;return Ge==="low"?be=k.quantity<=k.minStockLevel:Ge==="normal"?be=k.quantity>k.minStockLevel&&k.quantity<=k.minStockLevel*2:Ge==="high"&&(be=k.quantity>k.minStockLevel*2),ie&&Pe&&be}),[Pi,wt,Yt,Ge]);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Inventory Management"}),i.jsx("p",{className:"text-slate-500 mt-1",children:Rr?"Global Stock Overview":`Managing stock for ${Xa}`})]}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:Rr?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-5 py-3 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-bold shadow-lg",children:[i.jsx(na,{size:20})," Add New Product"]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>L(!0),className:"flex items-center gap-2 px-5 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-bold shadow-lg relative",title:"Create new shipment (Ctrl+Shift+S)",children:[i.jsx(ci,{size:20}),"New Shipment",Tt.filter(k=>k.status!=="COMPLETED").length>0&&i.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:Tt.filter(k=>k.status!=="COMPLETED").length})]}),i.jsxs("div",{className:"absolute top-full mt-2 right-0 bg-white rounded-xl shadow-lg border border-slate-200 py-2 min-w-[200px] z-10 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[i.jsxs("button",{onClick:()=>L(!0),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[i.jsx(ci,{size:16,className:"text-blue-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-800",children:"New Shipment"}),i.jsx("div",{className:"text-xs text-slate-500",children:"Create transfer to branch"})]})]}),i.jsxs("button",{onClick:()=>E("Bulk Transfer","Bulk transfer functionality will be implemented soon."),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[i.jsx(Ac,{size:16,className:"text-emerald-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-800",children:"Bulk Transfer"}),i.jsx("div",{className:"text-xs text-slate-500",children:"Transfer multiple items"})]})]}),i.jsxs("button",{onClick:()=>E("Scheduled Transfer","Scheduled transfers will be implemented soon."),className:"w-full px-4 py-2 text-left hover:bg-slate-50 flex items-center gap-3 text-sm",children:[i.jsx(k1,{size:16,className:"text-purple-600"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-800",children:"Scheduled"}),i.jsx("div",{className:"text-xs text-slate-500",children:"Plan future transfers"})]})]})]})]}),i.jsxs("button",{onClick:()=>Ae(!0),className:"flex items-center gap-2 px-5 py-3 bg-slate-600 text-white rounded-xl hover:bg-slate-700 font-bold shadow-lg",children:[i.jsx(hi,{size:20})," Bulk Import"]}),(u==null?void 0:u.role)==="SUPER_ADMIN"&&i.jsxs("button",{onClick:async()=>{if(window.confirm("Are you sure you want to clear ALL products from the database? This action cannot be undone and will also clear all related inventory, sales, and transfer data."))try{const k=await $e.clearAllProducts();f([]),n({}),_("All Products Cleared",`Successfully cleared ${k.deletedCount} products and all related data from the database.`)}catch(k){console.error("Failed to clear products:",k),x("Clear Failed","There was an error clearing the products. Please try again.")}},className:"flex items-center gap-2 px-5 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-bold shadow-lg",title:"Clear all products (Super Admin only)",children:[i.jsx(ta,{size:20})," Clear All Products"]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>q(!0),className:"flex items-center gap-2 px-5 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 font-bold shadow-lg",children:[i.jsx(Nv,{size:20})," Request Stock"]}),i.jsxs("button",{onClick:()=>E("Quick Stock Entry","Quick stock entry modal will be implemented soon."),className:"flex items-center gap-2 px-5 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 font-bold shadow-lg",children:[i.jsx(xh,{size:20})," Quick Add"]}),i.jsxs("button",{onClick:Rf,disabled:H,className:"flex items-center gap-2 px-5 py-3 bg-white border border-slate-200 text-slate-700 rounded-xl hover:bg-slate-50 font-bold disabled:opacity-70",children:[H?i.jsx(bl,{className:"animate-spin",size:20}):i.jsx(VP,{size:20}),"Sync MSD"]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"p-4 bg-teal-50 text-teal-600 rounded-full",children:i.jsx(fi,{size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Total SKU Count"}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:d.length}),i.jsx("p",{className:"text-xs text-slate-400",children:"Active products"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-full",children:i.jsx(Er,{size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Total Asset Value"}),i.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:[Ut(xs)," TZS"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Cost Basis"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"p-4 bg-emerald-50 text-emerald-600 rounded-full",children:i.jsx(Pr,{size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Projected Revenue"}),i.jsxs("h3",{className:"text-2xl font-bold text-slate-900",children:[Ut(xu)," TZS"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Retail Basis"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"p-4 bg-amber-50 text-amber-600 rounded-full",children:i.jsx(Bn,{size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Low Stock Alerts"}),i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:Pi.filter(k=>k.quantity<=k.minStockLevel).length}),i.jsx("p",{className:"text-xs text-slate-400",children:"Need attention"})]})]})]}),i.jsxs("div",{className:"flex gap-1 bg-slate-100 p-1 rounded-xl w-fit",children:[i.jsxs("button",{onClick:()=>T("stock"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${A==="stock"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[i.jsx(fi,{size:16})," Current Stock"]}),i.jsxs("button",{onClick:()=>T("transfers"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${A==="transfers"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[i.jsx(ci,{size:16})," Transfers",Tt.filter(k=>k.status!=="COMPLETED").length>0&&i.jsx("span",{className:"bg-red-500 text-white text-[10px] px-1.5 py-0.5 rounded-full",children:Tt.filter(k=>k.status!=="COMPLETED").length})]}),i.jsxs("button",{onClick:()=>E("Analytics","Inventory analytics will be implemented soon."),className:"px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 text-slate-500 hover:text-slate-700",children:[i.jsx(Pr,{size:16})," Analytics"]})]}),i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[A==="stock"&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qa,{size:16,className:"text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search products...",value:wt,onChange:k=>st(k.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none"})]}),i.jsxs("select",{value:Yt,onChange:k=>ce(k.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none",children:[i.jsx("option",{value:"",children:"All Categories"}),[...new Set(d.map(k=>k.category))].map(k=>i.jsx("option",{value:k,children:k},k))]}),i.jsxs("select",{value:Ge,onChange:k=>Ye(k.target.value),className:"px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-transparent outline-none",children:[i.jsx("option",{value:"",children:"All Stock Levels"}),i.jsx("option",{value:"low",children:"Low Stock"}),i.jsx("option",{value:"normal",children:"Normal"}),i.jsx("option",{value:"high",children:"High Stock"})]})]})})}),i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 font-semibold uppercase text-xs",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300"})}),i.jsx("th",{className:"px-4 py-3",children:"Product Details"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Unit"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Stock Status"}),i.jsx("th",{className:"px-4 py-3",children:"Pricing"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Evaluation"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:Za.map(k=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("input",{type:"checkbox",className:"rounded border-slate-300"})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-teal-50 rounded-lg flex items-center justify-center",children:i.jsx(fi,{size:18,className:"text-teal-600"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-slate-800 text-sm",children:k.name}),i.jsx("div",{className:"text-xs text-slate-400",children:k.genericName}),i.jsx("div",{className:"text-xs text-slate-500",children:k.category})]})]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:"text-xs font-medium text-slate-600 bg-slate-100 px-2 py-1 rounded",children:k.unit})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-1",children:[k.quantity<=k.minStockLevel?i.jsxs("div",{className:"flex items-center gap-1 text-red-600 font-bold bg-red-50 px-2 py-1 rounded-full text-xs",children:[i.jsx(Bn,{size:10}),k.quantity]}):i.jsx("div",{className:"font-bold text-slate-700 text-sm",children:k.quantity}),i.jsxs("div",{className:"text-xs text-slate-400",children:["Min: ",k.minStockLevel]})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Cost:"}),i.jsx("span",{className:"font-mono text-xs text-slate-600",children:LP(k.costPrice)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Sell:"}),i.jsx("span",{className:"font-bold text-teal-700 text-sm",children:LP(k.branchPrice)}),k.branchPrice!==k.price&&i.jsx("span",{className:"text-[9px] bg-blue-100 text-blue-700 px-1 rounded",children:"Custom"})]})]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Asset Value"}),i.jsxs("div",{className:"font-bold text-slate-700",children:[Ut(k.assetValue)," TZS"]}),i.jsx("div",{className:"text-xs text-slate-500 font-medium",children:"Est. Revenue"}),i.jsxs("div",{className:"font-bold text-emerald-600",children:[Ut(k.retailValue)," TZS"]})]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-1 relative group",children:[i.jsx("button",{onClick:()=>{Xt(k),Lt(!0)},className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:i.jsx(xl,{size:16})}),((u==null?void 0:u.role)==="SUPER_ADMIN"||(u==null?void 0:u.role)==="BRANCH_MANAGER"||(u==null?void 0:u.role)==="INVENTORY_CONTROLLER")&&i.jsx("button",{onClick:()=>{var ie;kn({product:k,newPrice:((ie=k.branchPrice)==null?void 0:ie.toString())||""}),_n(!0)},className:"p-2 text-teal-500 hover:text-teal-600 hover:bg-teal-50 rounded-lg transition-colors",title:"Set Selling Price",children:i.jsx(Tc,{size:16})}),((u==null?void 0:u.role)==="SUPER_ADMIN"||(u==null?void 0:u.role)==="BRANCH_MANAGER"||(u==null?void 0:u.role)==="INVENTORY_CONTROLLER"||(u==null?void 0:u.role)==="STORE_KEEPER")&&i.jsx("button",{onClick:()=>{rt({productId:k.id,name:"",genericName:"",category:"General",costPrice:"",price:"",unit:"Box",minStock:"10",batchNumber:"",expiryDate:"",quantity:""}),I("EXISTING"),N(!0)},className:"p-2 text-emerald-500 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Add Stock",children:i.jsx(xh,{size:16})}),i.jsx("button",{onClick:()=>{if(k.batches&&k.batches.length>0){const ie=k.batches.map((Pe,be)=>`Batch ${be+1}:
  Number: ${Pe.batchNumber}
  Expiry: ${Bc(Pe.expiryDate)}
  Qty: ${Pe.quantity}
  Status: ${Pe.status}`).join(`

`);E(`${k.name} - Batches (${k.batches.length})`,ie)}else E(`${k.name} - Batches`,"No batches available for this product.")},className:"p-2 text-purple-500 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"View Batches",children:i.jsx(Ac,{size:16})}),((u==null?void 0:u.role)==="SUPER_ADMIN"||(u==null?void 0:u.role)==="BRANCH_MANAGER")&&i.jsx("button",{onClick:()=>{const ie=prompt(`Set minimum stock level for ${k.name}:

Current: ${k.minStockLevel||0}`,(k.minStockLevel||0).toString());if(ie===null)return;const Pe=parseInt(ie.trim());!isNaN(Pe)&&Pe>=0?(f(be=>be.map(we=>we.id===k.id?{...we,minStockLevel:Pe}:we)),_("Min Stock Updated",`Minimum stock for ${k.name} set to ${Pe} units`,5e3,!0)):x("Invalid Value","Please enter a valid number (0 or greater).")},className:"p-2 text-orange-500 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Edit Min Stock",children:i.jsx(Bn,{size:16})})]})})]},k.id))})]})]}),A==="transfers"&&i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50",children:i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[i.jsx(ci,{size:18,className:"text-blue-600"})," Incoming Shipments"]})}),i.jsx("div",{className:"divide-y divide-slate-100",children:Tt.length===0?i.jsx("div",{className:"p-8 text-center text-slate-400",children:"No incoming shipments."}):Tt.map(k=>{var ie;return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-lg text-slate-800",children:k.id}),i.jsxs("p",{className:"text-sm text-slate-500",children:["From: ",((ie=p.find(Pe=>Pe.id===k.sourceBranchId))==null?void 0:ie.name)||"Unknown Branch"]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Date: ",k.dateSent]})]}),i.jsxs("div",{className:"text-right flex flex-col gap-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${k.status==="COMPLETED"?"bg-emerald-100 text-emerald-700":k.status==="RECEIVED_KEEPER"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:k.status.replace("_"," ")}),(k.keeperCode||k.controllerCode)&&i.jsx("button",{onClick:()=>{xe(k),re(!0)},className:"px-3 py-1 bg-slate-600 text-white text-xs font-bold rounded-lg hover:bg-slate-700",children:"View Codes"})]})]}),k.status!=="COMPLETED"&&!Rr&&i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 mt-4",children:[i.jsx("h5",{className:"font-bold text-slate-700 text-sm mb-3",children:"Verification Required"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:`flex-1 flex items-center gap-3 p-3 rounded-lg border ${k.status==="IN_TRANSIT"?"bg-white border-blue-200":"bg-slate-100 border-slate-200 opacity-50"}`,children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold",children:"1"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm",children:"Store Keeper"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Confirm Physical Receipt"})]}),k.status==="IN_TRANSIT"&&i.jsx("button",{onClick:()=>{oe(k.id),Q("KEEPER"),B(!0)},className:"ml-auto px-3 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg hover:bg-blue-700",children:"Verify"}),k.status!=="IN_TRANSIT"&&i.jsx(kt,{size:18,className:"ml-auto text-emerald-500"})]}),i.jsx(iu,{className:"text-slate-300"}),i.jsxs("div",{className:`flex-1 flex items-center gap-3 p-3 rounded-lg border ${k.status==="RECEIVED_KEEPER"?"bg-white border-teal-200":"bg-slate-100 border-slate-200 opacity-50"}`,children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-100 text-teal-600 flex items-center justify-center font-bold",children:"2"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm",children:"Inventory Controller"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Quality Check & Make Available for POS"})]}),k.status==="RECEIVED_KEEPER"&&i.jsx("button",{onClick:()=>{oe(k.id),Q("CONTROLLER"),B(!0)},className:"ml-auto px-3 py-1.5 bg-teal-600 text-white text-xs font-bold rounded-lg hover:bg-teal-700",children:"Verify & Release"})]})]})]})]},k.id)})})]}),vu.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50",children:i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[i.jsx(ci,{size:18,className:"text-emerald-600"})," Outgoing Shipments"]})}),i.jsx("div",{className:"divide-y divide-slate-100",children:vu.map(k=>{var ie;return i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-lg text-slate-800",children:k.id}),i.jsxs("p",{className:"text-sm text-slate-500",children:["To: ",((ie=p.find(Pe=>Pe.id===k.targetBranchId))==null?void 0:ie.name)||"Unknown Branch"]}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Date: ",k.dateSent]})]}),i.jsxs("div",{className:"text-right flex flex-col gap-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${k.status==="COMPLETED"?"bg-emerald-100 text-emerald-700":k.status==="RECEIVED_KEEPER"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:k.status.replace("_"," ")}),(k.keeperCode||k.controllerCode)&&i.jsx("button",{onClick:()=>{xe(k),re(!0)},className:"px-3 py-1 bg-slate-600 text-white text-xs font-bold rounded-lg hover:bg-slate-700",children:"View Codes"})]})]})},k.id)})})]})]})]}),P&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Add Stock"}),i.jsx("button",{onClick:()=>{N(!1),rt({productId:"",name:"",genericName:"",category:"General",costPrice:"",price:"",unit:"Box",minStock:"10",batchNumber:"",expiryDate:"",quantity:""})},children:i.jsx(Jt,{size:24,className:"text-slate-400"})})]}),i.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg mb-6",children:[i.jsx("button",{onClick:()=>I("EXISTING"),className:`flex-1 py-2 rounded-md text-sm font-bold transition-all ${C==="EXISTING"?"bg-white shadow-sm text-teal-700":"text-slate-500 hover:text-slate-700"}`,children:"Restock Existing"}),i.jsx("button",{onClick:()=>I("NEW"),className:`flex-1 py-2 rounded-md text-sm font-bold transition-all ${C==="NEW"?"bg-white shadow-sm text-teal-700":"text-slate-500 hover:text-slate-700"}`,children:"Create New Product"})]}),i.jsxs("div",{className:"space-y-4",children:[C==="EXISTING"&&Oe.productId&&i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[i.jsx("p",{className:"text-sm font-bold text-blue-800",children:((bs=d.find(k=>k.id===Oe.productId))==null?void 0:bs.name)||"Unknown Product"}),i.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Current Stock: ",((fa=Pi.find(k=>k.id===Oe.productId))==null?void 0:fa.quantity)||0," units"]})]}),C==="NEW"?i.jsxs(i.Fragment,{children:[i.jsx("input",{className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Product Name *",value:Oe.name,onChange:k=>rt({...Oe,name:k.target.value})}),i.jsx("input",{className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Generic Name",value:Oe.genericName,onChange:k=>rt({...Oe,genericName:k.target.value})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("input",{className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Category",value:Oe.category,onChange:k=>rt({...Oe,category:k.target.value})}),i.jsx("input",{className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Unit",value:Oe.unit,onChange:k=>rt({...Oe,unit:k.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("input",{type:"number",className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Cost Price *",value:Oe.costPrice,onChange:k=>rt({...Oe,costPrice:k.target.value})}),i.jsx("input",{type:"number",className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Selling Price *",value:Oe.price,onChange:k=>rt({...Oe,price:k.target.value})})]})]}):i.jsxs("select",{className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:Oe.productId,onChange:k=>rt({...Oe,productId:k.target.value}),children:[i.jsx("option",{value:"",children:"Select Product to Restock *"}),d.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("input",{className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"Batch Number",value:Oe.batchNumber,onChange:k=>rt({...Oe,batchNumber:k.target.value})}),i.jsx("input",{type:"date",className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:Oe.expiryDate,onChange:k=>rt({...Oe,expiryDate:k.target.value})})]}),i.jsx("input",{type:"number",className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none font-bold",placeholder:"Quantity to Add *",min:"1",value:Oe.quantity,onChange:k=>rt({...Oe,quantity:k.target.value})})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3 border-t pt-4",children:[i.jsx("button",{onClick:()=>{N(!1),rt({productId:"",name:"",genericName:"",category:"General",costPrice:"",price:"",unit:"Box",minStock:"10",batchNumber:"",expiryDate:"",quantity:""})},className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:Of,disabled:C==="EXISTING"?!Oe.productId||!Oe.quantity:!Oe.name||!Oe.price||!Oe.quantity,className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:C==="EXISTING"?"Restock":"Create Product"})]})]})}),R&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-6 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Create New Shipment"}),i.jsx("button",{onClick:()=>{L(!1),qt({targetBranchId:"",notes:"",items:[]})},children:i.jsx(Jt,{size:24,className:"text-slate-400"})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Select Target Branch"}),i.jsxs("select",{className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",value:Je.targetBranchId,onChange:k=>qt({...Je,targetBranchId:k.target.value}),children:[i.jsx("option",{value:"",children:"-- Choose Branch --"}),p.filter(k=>k.id!==e).map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 mb-6",children:[i.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-3",children:"Add Items to Shipment"}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("select",{className:"flex-1 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",value:ft.productId,onChange:k=>Tn({...ft,productId:k.target.value}),children:[i.jsx("option",{value:"",children:"Select Product"}),d.map(k=>{var ie;return i.jsxs("option",{value:k.id,children:[k.name," (Stock: ",((ie=Or.find(Pe=>Pe.productId===k.id))==null?void 0:ie.quantity)||0,")"]},k.id)})]}),i.jsx("input",{type:"number",className:"w-24 p-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Qty",min:"1",value:ft.quantity,onChange:k=>Tn({...ft,quantity:k.target.value})}),i.jsx("button",{onClick:()=>{if(!ft.productId||!ft.quantity){x("Missing Fields","Select product and enter quantity.");return}const k=parseInt(ft.quantity);if(k<=0){x("Invalid Quantity","Quantity must be greater than 0.");return}const ie=d.find(we=>we.id===ft.productId),Pe=Or.find(we=>we.productId===ft.productId),be=(Pe==null?void 0:Pe.quantity)||0;if(k>be){x("Insufficient Stock",`Only ${be} units available.`);return}qt({...Je,items:[...Je.items,{productId:ft.productId,productName:ie==null?void 0:ie.name,quantity:k,batchNumber:"BATCH-"+Date.now(),expiryDate:"2025-12-31"}]}),Tn({productId:"",quantity:""}),_("Item Added",`${ie==null?void 0:ie.name} added to shipment.`)},className:"px-4 bg-teal-600 text-white rounded-lg font-bold hover:bg-teal-700",children:"Add"})]}),i.jsx("div",{className:"space-y-2",children:Je.items.length===0?i.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No items added yet"}):Je.items.map((k,ie)=>i.jsxs("div",{className:"flex justify-between items-center bg-white p-3 border border-slate-200 rounded text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-800",children:k.productName}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Qty: ",k.quantity]})]}),i.jsx("button",{onClick:()=>{qt({...Je,items:Je.items.filter((Pe,be)=>be!==ie)}),_("Item Removed","Item removed from shipment.")},className:"p-2 text-red-600 hover:bg-red-50 rounded",children:i.jsx(Jt,{size:16})})]},ie))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Notes (Optional)"}),i.jsx("textarea",{className:"w-full p-3 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Add shipment notes...",rows:3,value:Je.notes,onChange:k=>qt({...Je,notes:k.target.value})})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3 border-t pt-4",children:[i.jsx("button",{onClick:()=>{L(!1),qt({targetBranchId:"",notes:"",items:[]})},className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:Xr,disabled:!Je.targetBranchId||Je.items.length===0,className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Dispatch Shipment"})]})]})}),W&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center",children:i.jsx(I1,{size:20,className:"text-blue-600"})}),"Multi-Product Stock Requisition"]}),i.jsx("button",{onClick:()=>q(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:[i.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"Request Details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-700",children:"Requesting Branch"}),i.jsx("p",{className:"font-bold text-blue-900",children:Xa})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-700",children:"Request Date"}),i.jsx("p",{className:"font-bold text-blue-900",children:new Date().toLocaleDateString()})]})]})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 mb-6",children:[i.jsxs("h4",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(na,{size:18,className:"text-blue-600"}),"Add Product to Requisition"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Select Product"}),i.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm",value:ft.productId,onChange:k=>Tn({...ft,productId:k.target.value}),children:[i.jsx("option",{value:"",children:"-- Choose a product --"}),d.filter(k=>{const ie=Or.find(Pe=>Pe.productId===k.id);return!ie||ie.quantity<=k.minStockLevel}).filter(k=>!it.some(ie=>ie.productId===k.id)).sort((k,ie)=>k.name.localeCompare(ie.name)).map(k=>{const ie=Or.find(we=>we.productId===k.id),Pe=(ie==null?void 0:ie.quantity)||0,be=Pe<=k.minStockLevel;return i.jsxs("option",{value:k.id,children:[k.name," ",k.genericName?`(${k.genericName})`:""," - Current: ",Pe," ",k.unit,be?"  LOW STOCK":""]},k.id)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Quantity Needed"}),i.jsxs("div",{className:"relative",children:[i.jsx(fi,{size:14,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"number",className:"w-full pl-8 pr-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none text-sm font-medium",placeholder:"Enter quantity",min:"1",value:ft.quantity,onChange:k=>Tn({...ft,quantity:k.target.value})})]})]})]}),ft.productId&&(()=>{const k=d.find(nt=>nt.id===ft.productId),ie=Or.find(nt=>nt.productId===ft.productId),Pe=(ie==null?void 0:ie.quantity)||0,be=parseInt(ft.quantity)||0,we=((k==null?void 0:k.price)||0)*be;return i.jsx("div",{className:"bg-white p-3 rounded-lg border border-slate-200 mb-3",children:i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("div",{children:[i.jsx("h6",{className:"font-bold text-slate-900 text-sm",children:k==null?void 0:k.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:["Current stock: ",Pe," ",k==null?void 0:k.unit]})]}),ft.quantity&&i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-bold text-blue-600",children:[Ut(we)," TZS"]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Est. value"})]})]})})})(),i.jsxs("button",{onClick:fu,disabled:!ft.productId||!ft.quantity||parseInt(ft.quantity)<=0,className:"w-full px-4 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(na,{size:16}),"Add to Requisition"]})]}),it.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"font-bold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(I1,{size:18,className:"text-emerald-600"}),"Requisition Items (",it.length,")"]}),i.jsx("div",{className:"space-y-3",children:it.map((k,ie)=>i.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 flex justify-between items-center",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h5",{className:"font-bold text-slate-900 text-sm",children:k.productName}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mt-1",children:[i.jsxs("span",{children:["Current: ",k.currentStock," ",k.unit]}),i.jsxs("span",{children:["Requested: ",k.quantityRequested," ",k.unit]}),i.jsxs("span",{className:"font-medium text-blue-600",children:[Ut(k.quantityRequested*k.unitPrice)," TZS"]})]})]}),i.jsx("button",{onClick:()=>pu(k.productId),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Remove item",children:i.jsx(Jt,{size:16})})]},k.productId))}),i.jsx("div",{className:"mt-4 p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-emerald-700 font-medium",children:"Total Items"}),i.jsx("p",{className:"text-xl font-bold text-emerald-900",children:it.reduce((k,ie)=>k+ie.quantityRequested,0)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-emerald-700 font-medium",children:"Total Products"}),i.jsx("p",{className:"text-xl font-bold text-emerald-900",children:it.length})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-emerald-700 font-medium",children:"Estimated Value"}),i.jsxs("p",{className:"text-xl font-bold text-emerald-900",children:[Ut(it.reduce((k,ie)=>k+ie.quantityRequested*ie.unitPrice,0))," TZS"]})]})]})})]})]}),i.jsxs("div",{className:"mt-8 flex justify-end gap-3 border-t pt-6",children:[i.jsx("button",{onClick:()=>{q(!1),Mn([]),Tn({productId:"",quantity:""})},className:"px-6 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),i.jsxs("button",{onClick:Df,disabled:it.length===0,className:"px-8 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[i.jsx(Tv,{size:16}),"Submit Requisition (",it.length," items)"]})]})]})}),D&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-sm p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-50 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(NR,{size:32})}),i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Security Check"}),i.jsx("p",{className:"text-sm text-slate-500",children:ee==="KEEPER"?"Store Keeper: Enter receipt code":"Controller: Enter verification code"})]}),i.jsx("input",{type:"text",className:"w-full p-4 text-center text-2xl font-bold tracking-widest border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none mb-4",placeholder:"000000",value:J,onChange:k=>F(k.target.value)}),X&&i.jsx("p",{className:"text-xs text-rose-600 text-center font-bold mb-4",children:X}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{B(!1),F(""),O("")},className:"flex-1 py-3 text-slate-600 font-bold bg-slate-100 rounded-xl hover:bg-slate-200",children:"Cancel"}),i.jsx("button",{onClick:hu,className:"flex-1 py-3 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700",children:"Verify"})]})]})}),G&&me&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-50 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(kt,{size:32})}),i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Shipment Created Successfully"}),i.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Transfer #",me.id," dispatched to ",(Hn=p.find(k=>k.id===me.targetBranchId))==null?void 0:Hn.name]})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 mb-6",children:[i.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-3",children:"Verification Codes (Share with Branch)"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Store Keeper Code"}),i.jsx("p",{className:"text-lg font-bold text-blue-600 font-mono",children:me.keeperCode})]}),i.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(me.keeperCode||""),_("Copied!","Keeper code copied to clipboard")}catch{const ie=document.createElement("textarea");ie.value=me.keeperCode||"",document.body.appendChild(ie),ie.select(),document.execCommand("copy"),document.body.removeChild(ie),_("Copied!","Keeper code copied to clipboard")}},className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:i.jsx(el,{size:16})})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Controller Code"}),i.jsx("p",{className:"text-lg font-bold text-teal-600 font-mono",children:me.controllerCode})]}),i.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(me.controllerCode||""),_("Copied!","Controller code copied to clipboard")}catch{const ie=document.createElement("textarea");ie.value=me.controllerCode||"",document.body.appendChild(ie),ie.select(),document.execCommand("copy"),document.body.removeChild(ie),_("Copied!","Controller code copied to clipboard")}},className:"p-2 text-slate-500 hover:text-teal-600 hover:bg-teal-50 rounded-lg",children:i.jsx(el,{size:16})})]})]})]}),i.jsx("button",{onClick:()=>{pe(!1),ne(null)},className:"w-full py-3 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700",children:"Done"})]})}),ve&&ge&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Verification Codes"}),i.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Transfer #",ge.id]})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 mb-6 space-y-3",children:[ge.keeperCode&&i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Store Keeper Code"}),i.jsx("p",{className:"text-lg font-bold text-blue-600 font-mono",children:ge.keeperCode})]}),i.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(ge.keeperCode||""),_("Copied!","Code copied")}catch{const ie=document.createElement("textarea");ie.value=ge.keeperCode||"",document.body.appendChild(ie),ie.select(),document.execCommand("copy"),document.body.removeChild(ie),_("Copied!","Code copied")}},className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg",children:i.jsx(el,{size:16})})]}),ge.controllerCode&&i.jsxs("div",{className:"flex items-center justify-between p-3 bg-white border border-slate-200 rounded-lg",children:[i.jsx("div",{children:i.jsx("p",{className:"text-lg font-bold text-teal-600 font-mono",children:ge.controllerCode})}),i.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(ge.controllerCode||""),_("Copied!","Code copied")}catch{const ie=document.createElement("textarea");ie.value=ge.controllerCode||"",document.body.appendChild(ie),ie.select(),document.execCommand("copy"),document.body.removeChild(ie),_("Copied!","Code copied")}},className:"p-2 text-slate-500 hover:text-teal-600 hover:bg-teal-50 rounded-lg",children:i.jsx(el,{size:16})})]})]}),i.jsx("button",{onClick:()=>{re(!1),xe(null)},className:"w-full py-3 bg-slate-600 text-white font-bold rounded-xl hover:bg-slate-700",children:"Close"})]})}),$&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Bulk Import Products"}),i.jsx("button",{onClick:()=>{Ae(!1),Re(null),le([]),he([]),Ee([]),je(null)},children:i.jsx(Jt,{size:24,className:"text-slate-400"})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border-2 border-dashed border-slate-300 rounded-xl p-6 text-center",children:[i.jsx(hi,{size:48,className:"text-slate-400 mx-auto mb-4"}),i.jsx("h4",{className:"text-lg font-bold text-slate-700 mb-2",children:"Upload CSV File"}),i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Select a CSV file with product data. Required columns: name, price"}),i.jsx("input",{type:"file",accept:".csv",onChange:yu,className:"hidden",id:"bulk-import-file"}),i.jsxs("label",{htmlFor:"bulk-import-file",className:"inline-flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 cursor-pointer",children:[i.jsx(hi,{size:16})," Choose File"]}),Se&&i.jsxs("p",{className:"text-sm text-teal-600 mt-2",children:["Selected: ",Se.name]})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[i.jsx("h5",{className:"font-bold text-slate-700 mb-2",children:"CSV Format"}),i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Your CSV should have these columns (case-insensitive):"}),i.jsx("div",{className:"text-xs font-mono bg-white p-2 rounded border",children:"name*, price*, genericname, category, costprice, unit, minstock, requiresprescription"}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"* Required fields"})]}),Y.length>0&&i.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[i.jsx("h5",{className:"font-bold text-slate-700 mb-3",children:"Import Preview"}),te.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:[i.jsx("h6",{className:"font-bold text-red-700 mb-2",children:"Validation Errors:"}),i.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:te.map((k,ie)=>i.jsxs("li",{children:[" ",k]},ie))})]}),Te.length>0&&i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 mb-4",children:[i.jsx("h6",{className:"font-bold text-amber-700 mb-2",children:"Duplicate Products Found:"}),i.jsxs("p",{className:"text-sm text-amber-600 mb-3",children:[Te.length," product(s) already exist in the database. Choose how to handle them:"]}),i.jsxs("div",{className:"flex gap-4 mb-3",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"duplicateAction",value:"skip",checked:Ue==="skip",onChange:k=>je(k.target.value),className:"text-teal-600"}),i.jsx("span",{className:"text-sm text-slate-700",children:"Skip duplicates"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"radio",name:"duplicateAction",value:"replace",checked:Ue==="replace",onChange:k=>je(k.target.value),className:"text-teal-600"}),i.jsx("span",{className:"text-sm text-slate-700",children:"Replace existing"})]})]}),i.jsx("div",{className:"max-h-32 overflow-y-auto",children:i.jsx("ul",{className:"text-xs text-amber-600 space-y-1",children:Te.map((k,ie)=>i.jsxs("li",{children:[" Row ",k.rowNum,': "',k.productName,'" (existing ID: ',k.existingProduct.id,")"]},ie))})})]}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-3 py-2 font-bold text-slate-700",children:"Name"}),i.jsx("th",{className:"px-3 py-2 font-bold text-slate-700",children:"Price"}),i.jsx("th",{className:"px-3 py-2 font-bold text-slate-700",children:"Category"}),i.jsx("th",{className:"px-3 py-2 font-bold text-slate-700",children:"Unit"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:Y.slice(0,5).map((k,ie)=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-3 py-2",children:k.name}),i.jsx("td",{className:"px-3 py-2",children:k.price}),i.jsx("td",{className:"px-3 py-2",children:k.category||"General"}),i.jsx("td",{className:"px-3 py-2",children:k.unit||"Box"})]},ie))})]}),Y.length>5&&i.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["... and ",Y.length-5," more rows"]})]}),i.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-blue-700",children:["Ready to import ",i.jsx("strong",{children:Y.length})," products",te.length>0&&i.jsxs("span",{className:"text-red-600 ml-2",children:["(",te.length," errors to fix)"]})]})})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3 border-t pt-4",children:[i.jsx("button",{onClick:()=>{Ae(!1),Re(null),le([]),he([]),Ee([]),je(null)},className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg",disabled:ot,children:"Cancel"}),i.jsx("button",{onClick:Lf,disabled:Y.length===0||te.length>0||Te.length>0&&!Ue||ot,className:"px-6 py-2 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:ot?i.jsxs(i.Fragment,{children:[i.jsx(bl,{className:"animate-spin",size:16}),"Importing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(hi,{size:16}),"Import ",Y.length," Products"]})})]})]})}),At&&De&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-4xl p-6 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-teal-50 rounded-xl flex items-center justify-center",children:i.jsx(fi,{size:24,className:"text-teal-600"})}),"Product Details"]}),i.jsx("button",{onClick:()=>{Lt(!1),Xt(null)},className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-teal-50 to-blue-50 p-6 rounded-xl border border-teal-100",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-2xl font-bold text-slate-900 mb-2",children:De.name}),i.jsx("p",{className:"text-lg text-slate-600 mb-1",children:De.genericName}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("span",{className:"px-3 py-1 bg-teal-100 text-teal-700 rounded-full text-sm font-medium",children:De.category}),i.jsx("span",{className:"px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm font-medium",children:De.unit}),De.requiresPrescription&&i.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-medium",children:"Prescription Required"})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-3xl font-bold text-slate-900",children:De.id}),i.jsx("div",{className:"text-sm text-slate-500",children:"Product ID"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:i.jsx(fi,{size:16,className:"text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Current Stock"}),i.jsx("p",{className:"text-xl font-bold text-slate-900",children:De.quantity})]})]})}),i.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-amber-50 rounded-lg",children:i.jsx(Bn,{size:16,className:"text-amber-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Min Stock Level"}),i.jsx("p",{className:"text-xl font-bold text-slate-900",children:De.minStockLevel})]})]})}),i.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:i.jsx(Er,{size:16,className:"text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Cost Price"}),i.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[Ut(De.costPrice)," TZS"]})]})]})}),i.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-emerald-50 rounded-lg",children:i.jsx(Pr,{size:16,className:"text-emerald-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Selling Price"}),i.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[Ut(De.branchPrice)," TZS"]}),De.branchPrice!==De.price&&i.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Custom Price"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[i.jsxs("h5",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Wc,{size:20,className:"text-teal-600"}),"Financial Analysis"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[i.jsx("span",{className:"text-slate-600 font-medium",children:"Asset Value (Cost Basis)"}),i.jsxs("span",{className:"text-xl font-bold text-slate-900",children:[Ut(De.assetValue)," TZS"]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-lg",children:[i.jsx("span",{className:"text-emerald-700 font-medium",children:"Estimated Revenue"}),i.jsxs("span",{className:"text-xl font-bold text-emerald-900",children:[Ut(De.retailValue)," TZS"]})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[i.jsx("span",{className:"text-blue-700 font-medium",children:"Gross Margin"}),i.jsxs("span",{className:"text-xl font-bold text-blue-900",children:[De.costPrice>0?((De.branchPrice-De.costPrice)/De.costPrice*100).toFixed(1):"0","%"]})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[i.jsxs("h5",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Ac,{size:20,className:"text-purple-600"}),"Stock Status"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-600",children:"Stock Level"}),i.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${De.quantity<=De.minStockLevel?"bg-red-100 text-red-700":De.quantity<=De.minStockLevel*2?"bg-amber-100 text-amber-700":"bg-green-100 text-green-700"}`,children:De.quantity<=De.minStockLevel?"Low Stock":De.quantity<=De.minStockLevel*2?"Normal":"High Stock"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-600",children:"Total Batches"}),i.jsx("span",{className:"font-bold text-slate-900",children:((wu=De.batches)==null?void 0:wu.length)||0})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-600",children:"Active Batches"}),i.jsx("span",{className:"font-bold text-slate-900",children:((Rn=De.batches)==null?void 0:Rn.filter(k=>k.status==="ACTIVE").length)||0})]})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[i.jsxs("h5",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(k1,{size:20,className:"text-purple-600"}),"Product History & Activity"]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("h6",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[i.jsx(Jc,{size:16,className:"text-green-600"}),"Recent Sales (Last 30 Days)"]}),i.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:(()=>{const k=l.filter(ie=>ie.items&&ie.items.some(Pe=>Pe.id===De.id)&&new Date(ie.date)>new Date(Date.now()-2592e6)).slice(0,5);return k.length===0?i.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No recent sales activity for this product"}):i.jsx("div",{className:"space-y-3",children:k.map((ie,Pe)=>{const be=ie.items.find(we=>we.id===De.id);return i.jsxs("div",{className:"flex justify-between items-center p-3 bg-white rounded border border-slate-200",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium text-slate-900",children:["Sale #",ie.id.slice(-6)]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[new Date(ie.date).toLocaleDateString(),"  ",be==null?void 0:be.quantity," units"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[Ut(be?be.quantity*be.price:0)," TZS"]}),i.jsx("p",{className:"text-xs text-slate-500",children:ie.customerName||"Walk-in Customer"})]})]},Pe)})})})()})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("h6",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[i.jsx(ci,{size:16,className:"text-blue-600"}),"Stock Movements"]}),i.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:(()=>{var Pe;const k=r.filter(be=>be.items&&be.items.some(we=>we.productId===De.id)).slice(0,5);if(k.length===0&&(!De.batches||De.batches.length===0))return i.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No stock movement history available"});const ie=[];return k.forEach(be=>{const we=be.items.find(nt=>nt.productId===De.id);we&&ie.push({type:"transfer",date:be.dateSent,description:`${be.status==="COMPLETED"?"Received":"Transferred"} ${we.quantity} units`,details:`From ${be.sourceBranchId}  ${be.targetBranchId}`,icon:ci,color:be.status==="COMPLETED"?"text-green-600":"text-blue-600"})}),(Pe=De.batches)==null||Pe.forEach(be=>{ie.push({type:"stock_addition",date:be.expiryDate,description:`Added batch ${be.batchNumber}`,details:`${be.quantity} units  Expires ${Bc(be.expiryDate)}`,icon:xh,color:"text-emerald-600"})}),ie.sort((be,we)=>new Date(we.date).getTime()-new Date(be.date).getTime()),i.jsx("div",{className:"space-y-3",children:ie.slice(0,5).map((be,we)=>{const nt=be.icon;return i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded border border-slate-200",children:[i.jsx("div",{className:`p-2 rounded-lg bg-slate-100 ${be.color}`,children:i.jsx(nt,{size:14})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-slate-900",children:be.description}),i.jsx("p",{className:"text-xs text-slate-500",children:be.details}),i.jsx("p",{className:"text-xs text-slate-400",children:Bc(be.date)})]})]},we)})})})()})]}),i.jsxs("div",{children:[i.jsxs("h6",{className:"text-sm font-bold text-slate-700 mb-3 flex items-center gap-2",children:[i.jsx(Tc,{size:16,className:"text-amber-600"}),"Pricing Information"]}),i.jsx("div",{className:"bg-slate-50 rounded-lg p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-white p-3 rounded border border-slate-200",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Current Selling Price"}),i.jsxs("p",{className:"text-lg font-bold text-slate-900",children:[Ut(De.branchPrice)," TZS"]}),De.branchPrice!==De.price&&i.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Custom pricing applied"})]}),i.jsxs("div",{className:"bg-white p-3 rounded border border-slate-200",children:[i.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Cost Price"}),i.jsxs("p",{className:"text-lg font-bold text-slate-900",children:[Ut(De.costPrice)," TZS"]}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Margin: ",De.costPrice>0?((De.branchPrice-De.costPrice)/De.costPrice*100).toFixed(1):"0","%"]})]})]})})]})]}),De.batches&&De.batches.length>0&&i.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200",children:[i.jsxs("h5",{className:"text-lg font-bold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(Ac,{size:20,className:"text-indigo-600"}),"Batch Information"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Batch Number"}),i.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Expiry Date"}),i.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Quantity"}),i.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Status"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:De.batches.map((k,ie)=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-mono text-sm text-slate-600",children:k.batchNumber}),i.jsx("td",{className:"px-4 py-3 text-sm text-slate-600",children:Bc(k.expiryDate)}),i.jsx("td",{className:"px-4 py-3 font-bold text-slate-900",children:k.quantity}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${k.status==="ACTIVE"?"bg-green-100 text-green-700":k.status==="EXPIRED"?"bg-red-100 text-red-700":k.status==="ON_HOLD"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700"}`,children:k.status})})]},ie))})]})})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[i.jsx("button",{onClick:()=>{Lt(!1),Xt(null)},className:"px-6 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Close"}),i.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(`Product: ${De.name}
ID: ${De.id}
Stock: ${De.quantity}
Price: ${Ut(De.branchPrice)} TZS`)},className:"px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium flex items-center gap-2",children:[i.jsx(el,{size:16}),"Copy Summary"]})]})]})]})}),rr&&pt&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-teal-50 rounded-xl flex items-center justify-center",children:i.jsx(Tc,{size:20,className:"text-teal-600"})}),"Set Selling Price"]}),i.jsx("button",{onClick:()=>{_n(!1),kn(null)},className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[i.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:pt.product.name}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:pt.product.genericName}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Current Price"}),i.jsxs("p",{className:"font-bold text-slate-900",children:[Ut(pt.product.branchPrice)," TZS"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Cost Price"}),i.jsxs("p",{className:"font-bold text-slate-900",children:[Ut(pt.product.costPrice)," TZS"]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Selling Price (TZS)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Er,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full pl-9 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none font-bold text-lg",placeholder:"0.00",value:pt.newPrice,onChange:k=>kn({...pt,newPrice:k.target.value})})]})]}),pt.newPrice&&!isNaN(Number(pt.newPrice))&&Number(pt.newPrice)>0&&i.jsxs("div",{className:"bg-teal-50 p-4 rounded-xl border border-teal-200",children:[i.jsx("h5",{className:"font-bold text-teal-900 mb-3",children:"Margin Analysis"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-teal-700",children:"New Price"}),i.jsxs("p",{className:"font-bold text-teal-900",children:[Ut(Number(pt.newPrice))," TZS"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-teal-700",children:"Gross Margin"}),i.jsxs("p",{className:`font-bold ${Number(pt.newPrice)>pt.product.costPrice?"text-green-600":"text-red-600"}`,children:[pt.product.costPrice>0?((Number(pt.newPrice)-pt.product.costPrice)/pt.product.costPrice*100).toFixed(1):"0","%"]})]})]}),Number(pt.newPrice)<=pt.product.costPrice&&i.jsx("div",{className:"mt-3 p-2 bg-red-100 border border-red-200 rounded text-sm text-red-700",children:" Warning: Selling price is below cost price"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[i.jsx("button",{onClick:()=>{_n(!1),kn(null)},className:"px-6 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),i.jsx("button",{onClick:async()=>{const k=Number(pt.newPrice);if(!pt.newPrice||isNaN(k)||k<=0){x("Invalid Price","Please enter a valid price greater than 0.");return}try{await $e.updateInventoryItem(e,pt.product.id,{customPrice:k}),n(ie=>{const Pe=ie[e]||[],be=Pe.findIndex(we=>we.productId===pt.product.id);if(be>=0){const we=[...Pe];return we[be]={...we[be],customPrice:k},{...ie,[e]:we}}else return{...ie,[e]:[...Pe,{productId:pt.product.id,quantity:pt.product.quantity,batches:pt.product.batches,customPrice:k}]}}),_("Price Updated",`Price for ${pt.product.name} set to ${Ut(k)} TZS`,5e3,!0),_n(!1),kn(null)}catch(ie){console.error("Failed to update price:",ie),x("Update Failed","Failed to update the price. Please try again.")}},className:"px-6 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:!pt.newPrice||isNaN(Number(pt.newPrice))||Number(pt.newPrice)<=0,children:"Update Price"})]})]})]})}),Mr&&V&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center",children:i.jsx(Tc,{size:20,className:"text-blue-600"})}),"Edit Product Name"]}),i.jsx("button",{onClick:()=>{An(!1),Le(null)},className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[i.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:V.product.name}),i.jsxs("p",{className:"text-sm text-slate-600",children:["ID: ",V.product.id]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Product Name"}),i.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none font-medium",placeholder:"Enter product name",value:V.value,onChange:k=>Le({...V,value:k.target.value}),maxLength:100}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[V.value.length,"/100 characters"]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[i.jsx("button",{onClick:()=>{An(!1),Le(null)},className:"px-6 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),i.jsx("button",{onClick:async()=>{const k=V.value.trim();if(!k){x("Invalid Name","Product name cannot be empty.");return}const ie={...V.product,name:k};try{v?await v(ie):(f(Pe=>Pe.map(be=>be.id===V.product.id?ie:be)),_("Product Name Updated",`Changed to: ${k}`,5e3,!0)),An(!1),Le(null)}catch{}},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:!V.value.trim()||V.value.trim()===V.product.name,children:"Update Name"})]})]})]})}),Gn&&V&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-50 rounded-xl flex items-center justify-center",children:i.jsx(Nv,{size:20,className:"text-purple-600"})}),"Edit Generic Name"]}),i.jsx("button",{onClick:()=>{$t(!1),Le(null)},className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[i.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:V.product.name}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Current Generic: ",V.product.genericName||"Not set"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Generic Name (Optional)"}),i.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none",placeholder:"Enter generic name",value:V.value,onChange:k=>Le({...V,value:k.target.value}),maxLength:100}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Leave empty to remove generic name  ",V.value.length,"/100 characters"]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[i.jsx("button",{onClick:()=>{$t(!1),Le(null)},className:"px-6 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),i.jsx("button",{onClick:async()=>{const k=V.value.trim(),ie={...V.product,genericName:k};try{v?await v(ie):(f(Pe=>Pe.map(be=>be.id===V.product.id?ie:be)),_("Generic Name Updated",k?`Changed to: ${k}`:"Generic name removed",5e3,!0)),$t(!1),Le(null)}catch{}},className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"Update Generic Name"})]})]})]})}),da&&V&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-xl flex items-center justify-center",children:i.jsx(Er,{size:20,className:"text-green-600"})}),"Edit Cost Price"]}),i.jsx("button",{onClick:()=>{Yr(!1),Le(null)},className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[i.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:V.product.name}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Current Cost"}),i.jsxs("p",{className:"font-bold text-slate-900",children:[Ut(V.product.costPrice)," TZS"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-500",children:"Selling Price"}),i.jsxs("p",{className:"font-bold text-slate-900",children:[Ut(V.product.branchPrice)," TZS"]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Cost Price (TZS)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Er,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full pl-9 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 outline-none font-bold text-lg",placeholder:"0.00",value:V.value,onChange:k=>Le({...V,value:k.target.value})})]})]}),V.value&&!isNaN(Number(V.value))&&Number(V.value)>=0&&i.jsxs("div",{className:"bg-green-50 p-4 rounded-xl border border-green-200",children:[i.jsx("h5",{className:"font-bold text-green-900 mb-3",children:"Updated Margin Analysis"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-700",children:"New Cost Price"}),i.jsxs("p",{className:"font-bold text-green-900",children:[Ut(Number(V.value))," TZS"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-700",children:"New Margin"}),i.jsxs("p",{className:`font-bold ${V.product.branchPrice>Number(V.value)?"text-green-600":"text-red-600"}`,children:[V.product.branchPrice>Number(V.value)?((V.product.branchPrice-Number(V.value))/Number(V.value)*100).toFixed(1):"0","%"]})]})]}),V.product.branchPrice<=Number(V.value)&&i.jsx("div",{className:"mt-3 p-2 bg-red-100 border border-red-200 rounded text-sm text-red-700",children:" Warning: Cost price equals or exceeds selling price"})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[i.jsx("button",{onClick:()=>{Yr(!1),Le(null)},className:"px-6 py-2 text-slate-600 hover:bg-slate-100 rounded-lg font-medium",children:"Cancel"}),i.jsx("button",{onClick:async()=>{const k=Number(V.value);if(isNaN(k)||k<0){x("Invalid Price","Cost price must be a valid positive number.");return}const ie={...V.product,costPrice:k};try{v?await v(ie):(f(Pe=>Pe.map(be=>be.id===V.product.id?ie:be)),_("Cost Price Updated",`Changed to: ${Ut(k)} TZS`,5e3,!0)),Yr(!1),Le(null)}catch{}},className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:!V.value||isNaN(Number(V.value))||Number(V.value)<0,children:"Update Cost Price"})]})]})]})})]})},OH=({showInvoiceModal:e,setShowInvoiceModal:t,newInvoice:n,setNewInvoice:r,handleCreateInvoice:o})=>e?i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 no-print",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Create New Invoice"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Customer Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(Sl,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"text",className:"w-full pl-9 p-2 border border-slate-300 rounded-lg",placeholder:"e.g. Aga Khan Hospital",value:n.customer,onChange:l=>r({...n,customer:l.target.value})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Description"}),i.jsx("input",{type:"text",className:"w-full p-2 border border-slate-300 rounded-lg",placeholder:"Items Summary",value:n.description,onChange:l=>r({...n,description:l.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Total Amount"}),i.jsx("input",{type:"number",className:"w-full p-2 border border-slate-300 rounded-lg",placeholder:"0.00",value:n.amount,onChange:l=>r({...n,amount:l.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Due Date"}),i.jsx("input",{type:"date",className:"w-full p-2 border border-slate-300 rounded-lg",value:n.due,onChange:l=>r({...n,due:l.target.value})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"includeVAT",checked:n.includeVAT,onChange:l=>r({...n,includeVAT:l.target.checked}),className:"w-4 h-4 text-teal-600 bg-gray-100 border-gray-300 rounded focus:ring-teal-500"}),i.jsx("label",{htmlFor:"includeVAT",className:"text-sm font-medium text-slate-700",children:"Include VAT (18%)"})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:o,className:"px-4 py-2 bg-teal-600 text-white rounded-lg",children:"Create Invoice"})]})]})}):null,DH=({showExpenseModal:e,setShowExpenseModal:t,newExpense:n,setNewExpense:r,handleRecordExpense:o})=>e?i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 no-print",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Record Expense"}),i.jsx("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Description"}),i.jsx("input",{type:"text",className:"w-full p-2 border border-slate-300 rounded-lg",placeholder:"e.g. Office Cleaning",value:n.description,onChange:l=>r({...n,description:l.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Category"}),i.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg",value:n.category,onChange:l=>r({...n,category:l.target.value}),children:[i.jsx("option",{children:"Utilities"}),i.jsx("option",{children:"Supplies"}),i.jsx("option",{children:"Maintenance"}),i.jsx("option",{children:"Transport"}),i.jsx("option",{children:"Salary/Wages"}),i.jsx("option",{children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Amount (TZS)"}),i.jsx("input",{type:"number",className:"w-full p-2 border border-slate-300 rounded-lg",placeholder:"0.00",value:n.amount,onChange:l=>r({...n,amount:l.target.value})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Date"}),i.jsx("input",{type:"date",className:"w-full p-2 border border-slate-300 rounded-lg",value:n.date,onChange:l=>r({...n,date:l.target.value})})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3 pt-4 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-50 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:o,disabled:!n.amount||!n.description,className:"px-6 py-2 bg-rose-600 text-white font-bold rounded-lg hover:bg-rose-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit for Approval"})]})]})}):null,LH=({showPreviewModal:e,setShowPreviewModal:t,selectedInvoice:n,handlePrintInvoice:r,openPaymentModal:o})=>{const[l,u]=M.useState({companyName:"PMS Pharmacy",tinNumber:"123-456-789",vrnNumber:"400-999-111",address:"Bagamoyo Road, Dar es Salaam, Tanzania",phone:"+255 700 123 456",email:"info@pms-pharmacy.tz"});return M.useEffect(()=>{(async()=>{var f,p,g,m,v,w;try{const _=await $e.getSettings();_&&_.length>0&&u({companyName:((f=_.find(x=>x.settingKey==="companyName"))==null?void 0:f.settingValue)||l.companyName,tinNumber:((p=_.find(x=>x.settingKey==="tinNumber"))==null?void 0:p.settingValue)||l.tinNumber,vrnNumber:((g=_.find(x=>x.settingKey==="vrnNumber"))==null?void 0:g.settingValue)||l.vrnNumber,address:((m=_.find(x=>x.settingKey==="address"))==null?void 0:m.settingValue)||l.address,phone:((v=_.find(x=>x.settingKey==="phone"))==null?void 0:v.settingValue)||l.phone,email:((w=_.find(x=>x.settingKey==="email"))==null?void 0:w.settingValue)||l.email})}catch(_){console.error("Failed to load company settings:",_)}})()},[]),!e||!n?null:i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 no-print",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-4 bg-slate-800 text-white flex justify-between items-center",children:[i.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[i.jsx(vi,{size:18,className:"text-blue-400"})," Invoice Preview"]}),i.jsx("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-white",children:i.jsx(Jt,{size:20})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-8 bg-slate-50",children:i.jsxs("div",{className:"bg-white border border-slate-200 p-8 shadow-sm text-sm max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("img",{src:"/pharmacy-logo.png",alt:"PMS Pharmacy Logo",className:"h-20 w-auto mx-auto mb-4"}),i.jsx("h1",{className:"text-3xl font-bold text-slate-900 uppercase tracking-wider mb-2",children:l.companyName}),i.jsxs("div",{className:"text-slate-600 text-sm space-y-1",children:[i.jsxs("p",{children:["TIN: ",l.tinNumber," | VRN: ",l.vrnNumber]}),i.jsx("p",{children:l.address}),i.jsxs("p",{children:["Tel: ",l.phone," | Email: ",l.email]})]})]}),i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:n.status==="PAID"?"TAX INVOICE":"PROFORMA INVOICE"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-slate-700",children:[i.jsx("span",{className:"font-semibold",children:"Invoice #:"})," ",n.id]}),i.jsxs("p",{className:"text-slate-700",children:[i.jsx("span",{className:"font-semibold",children:"Date Issued:"})," ",n.dateIssued]}),i.jsxs("p",{className:"text-slate-700",children:[i.jsx("span",{className:"font-semibold",children:"Due Date:"})," ",n.dueDate]}),n.paymentMethod&&i.jsxs("p",{className:"text-slate-700",children:[i.jsx("span",{className:"font-semibold",children:"Payment Method:"})," ",n.paymentMethod]})]})]}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[i.jsx("h3",{className:"font-bold text-slate-900 mb-2",children:"Bill To:"}),i.jsx("p",{className:"text-lg font-semibold text-slate-800",children:n.customerName}),i.jsxs("p",{className:"text-slate-600 text-sm mt-2",children:["Customer ID: ",n.customerName.split(" ").join("").toUpperCase()]})]}),i.jsx("div",{className:"mt-4",children:i.jsxs("span",{className:`inline-block px-4 py-2 rounded-lg text-sm font-bold ${n.status==="PAID"?"bg-emerald-100 text-emerald-800":"bg-rose-100 text-rose-800"}`,children:["Status: ",n.status]})})]})]})]}),i.jsxs("table",{className:"w-full text-left mb-6",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"py-2 pl-2",children:"Item Description"}),i.jsx("th",{className:"py-2 text-center",children:"Qty"}),i.jsx("th",{className:"py-2 text-right",children:"Unit Price"}),i.jsx("th",{className:"py-2 text-right pr-2",children:"Total"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:n.items&&n.items.length>0?n.items.map((d,f)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-3 pl-2 font-medium",children:d.name}),i.jsx("td",{className:"py-3 text-center",children:d.quantity}),i.jsx("td",{className:"py-3 text-right",children:d.price.toLocaleString()}),i.jsx("td",{className:"py-3 text-right pr-2",children:(d.price*d.quantity).toLocaleString()})]},f)):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"py-4 pl-2 text-slate-500 italic",children:n.description||"Consolidated Invoice Items"})})})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("div",{className:"w-64 space-y-2",children:[n.includeVAT?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between text-slate-500",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:(n.totalAmount/1.18).toLocaleString(void 0,{maximumFractionDigits:0})})]}),i.jsxs("div",{className:"flex justify-between text-slate-500",children:[i.jsx("span",{children:"VAT (18%):"}),i.jsx("span",{children:(n.totalAmount-n.totalAmount/1.18).toLocaleString(void 0,{maximumFractionDigits:0})})]})]}):i.jsxs("div",{className:"flex justify-between text-slate-500",children:[i.jsx("span",{children:"Amount:"}),i.jsx("span",{children:n.totalAmount.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between font-bold text-xl text-slate-900 border-t border-slate-200 pt-3",children:[i.jsx("span",{children:"Grand Total:"}),i.jsxs("span",{children:[n.totalAmount.toLocaleString()," TZS"]})]}),i.jsxs("div",{className:"flex justify-between text-emerald-600 font-medium pt-1",children:[i.jsx("span",{children:"Amount Paid:"}),i.jsxs("span",{children:["- ",n.paidAmount.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-rose-600 font-bold border-t border-slate-100 pt-2",children:[i.jsx("span",{children:"Balance Due:"}),i.jsxs("span",{children:[(n.totalAmount-n.paidAmount).toLocaleString()," TZS"]})]})]})})]})}),i.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-50 rounded-lg border border-slate-200",children:"Close"}),i.jsxs("button",{onClick:r,className:"px-4 py-2 bg-slate-800 text-white font-medium rounded-lg hover:bg-slate-900 flex items-center gap-2",children:[i.jsx(zP,{size:16})," Print"]}),n.status!=="PAID"&&i.jsxs("button",{onClick:()=>{t(!1),o(n)},className:"px-6 py-2 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 shadow-md flex items-center gap-2",children:[i.jsx(HP,{size:16})," Process Payment"]})]})]})})},$P=[{name:"Cash",value:45e5},{name:"M-Pesa / Tigo",value:35e5},{name:"Insurance (NHIF/AAR)",value:25e5},{name:"Credit",value:5e5}],qP=["#0f766e","#14b8a6","#f59e0b","#64748b"],$H=({currentBranchId:e,invoices:t=[],expenses:n=[],sales:r=[],onProcessPayment:o,onCreateExpense:l,onActionExpense:u,onArchiveItem:d,branches:f=[],currentUser:p,settings:g=[]})=>{var Yt;const[m,v]=M.useState("overview"),[w,_]=M.useState(!1),[x,b]=M.useState(!1),[E,A]=M.useState(!1),[T,P]=M.useState(!1),[N,C]=M.useState(null),[I,R]=M.useState(""),[L,W]=M.useState(""),[q,D]=M.useState("all"),[B,ee]=M.useState("all"),[Q,ae]=M.useState(t),[oe,J]=M.useState(n),[F,X]=M.useState(r),[O,H]=M.useState(!0),[fe,G]=M.useState({customer:"",amount:"",description:"",due:"",includeVAT:!0}),[pe,me]=M.useState({amount:"",receipt:"",method:Yi.CASH}),[ne,ve]=M.useState({description:"",category:"Utilities",amount:"",date:new Date().toISOString().split("T")[0]}),re=e==="HEAD_OFFICE",ge=()=>{var rr,_n,pt,kn,Mr,An,Gn;const ce=((rr=g.find($t=>$t.settingKey==="companyName"))==null?void 0:rr.settingValue)||"PMS Pharmacy Ltd",Ge=((_n=g.find($t=>$t.settingKey==="tinNumber"))==null?void 0:_n.settingValue)||"123-456-789",Ye=((pt=g.find($t=>$t.settingKey==="vrnNumber"))==null?void 0:pt.settingValue)||"400-999-111",At=((kn=g.find($t=>$t.settingKey==="address"))==null?void 0:kn.settingValue)||"Bagamoyo Road, Dar es Salaam",Lt=((Mr=g.find($t=>$t.settingKey==="phone"))==null?void 0:Mr.settingValue)||"+255 700 123 456",De=((An=g.find($t=>$t.settingKey==="email"))==null?void 0:An.settingValue)||"info@pms.co.tz",Xt=((Gn=g.find($t=>$t.settingKey==="logo"))==null?void 0:Gn.settingValue)||"/pharmacy-logo.png";return{companyName:ce,tinNumber:Ge,vrnNumber:Ye,address:At,phone:Lt,email:De,logo:Xt}};z.useEffect(()=>{(async()=>{H(!0);try{const[Ge,Ye,At]=await Promise.all([$e.getInvoices(),$e.getExpenses(),$e.getSales()]);ae(Ge||[]),J(Ye||[]),X(At||[])}catch(Ge){console.error("Failed to load finance data:",Ge),ae(t),J(n),X(r)}finally{H(!1)}})()},[e]);const xe=re?Q:Q.filter(ce=>ce.branchId===e),$=re?oe:oe.filter(ce=>ce.branchId===e),Ae=re?F:F.filter(ce=>ce.branchId===e),Se=xe.filter(ce=>ce.customerName.toLowerCase().includes(I.toLowerCase())||ce.id.toLowerCase().includes(I.toLowerCase())||ce.description.toLowerCase().includes(I.toLowerCase())).filter(ce=>q==="all"||ce.status===q),Re=$.filter(ce=>ce.description.toLowerCase().includes(L.toLowerCase())||ce.category.toLowerCase().includes(L.toLowerCase())).filter(ce=>B==="all"||ce.status===B),Y=ce=>p?p.role===ut.SUPER_ADMIN||p.role===ut.ACCOUNTANT||p.role===ut.BRANCH_MANAGER&&ce.branchId===p.branchId:!1,le=()=>p?[ut.SUPER_ADMIN,ut.ACCOUNTANT,ut.BRANCH_MANAGER,ut.AUDITOR].includes(p.role):!1,te=M.useMemo(()=>{const ce=Ae.reduce((De,Xt)=>De+Xt.totalAmount,0),Ge=Ae.reduce((De,Xt)=>De+Xt.profit,0),Ye=$.reduce((De,Xt)=>De+Xt.amount,0),At=Ge-Ye,Lt=xe.reduce((De,Xt)=>De+(Xt.totalAmount-Xt.paidAmount),0);return{revenue:ce,netProfit:At,totalExpenses:Ye,receivables:Lt}},[Ae,$,xe]),he=(ce,Ge)=>{const Ye=Object.keys(ce[0]||{}),At=[Ye.join(","),...ce.map(rr=>Ye.map(_n=>`"${rr[_n]||""}"`).join(","))].join(`
`),Lt=new Blob([At],{type:"text/csv;charset=utf-8;"}),De=document.createElement("a"),Xt=URL.createObjectURL(Lt);De.setAttribute("href",Xt),De.setAttribute("download",Ge),De.style.visibility="hidden",document.body.appendChild(De),De.click(),document.body.removeChild(De)},Te=M.useMemo(()=>Array.from({length:7},(Ge,Ye)=>{const At=new Date;return At.setDate(At.getDate()-(6-Ye)),At.toISOString().split("T")[0]}).map(Ge=>{const Ye=Ae.filter(Lt=>Lt.date.startsWith(Ge)),At=$.filter(Lt=>Lt.date===Ge);return{name:new Date(Ge).toLocaleDateString("en-US",{weekday:"short"}),sales:Ye.reduce((Lt,De)=>Lt+De.totalAmount,0),expense:At.reduce((Lt,De)=>Lt+De.amount,0)}}),[Ae,$]),Ee=async()=>{if(!(!fe.customer||!fe.amount))try{const ce={branchId:re?"BR001":e,customerName:fe.customer,dateIssued:new Date().toISOString().split("T")[0],dueDate:fe.due||new Date(Date.now()+2592e6).toISOString().split("T")[0],totalAmount:parseFloat(fe.amount),paidAmount:0,status:"UNPAID",description:fe.description||"General Supplies",source:"MANUAL",items:[],payments:[],includeVAT:fe.includeVAT},Ge=await $e.createInvoice(ce);ae(Ye=>[Ge,...Ye]),o&&o(Ge),_(!1),G({customer:"",amount:"",description:"",due:"",includeVAT:!0})}catch(ce){console.error("Failed to create invoice:",ce);const Ge={id:`INV-2023-${Math.floor(Math.random()*1e3)}`,branchId:re?"BR001":e,customerName:fe.customer,dateIssued:new Date().toISOString().split("T")[0],dueDate:fe.due||new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],totalAmount:parseFloat(fe.amount),paidAmount:0,status:"UNPAID",description:fe.description||"General Supplies",source:"MANUAL",items:[],payments:[],includeVAT:fe.includeVAT,archived:!1};ae(Ye=>[Ge,...Ye]),o&&o(Ge),_(!1),G({customer:"",amount:"",description:"",due:"",includeVAT:!0})}},Ue=ce=>{C(ce);const Ge=ce.totalAmount-ce.paidAmount,Ye=`TRA-${Date.now().toString().slice(-6)}-${Math.floor(100+Math.random()*900)}`;me({amount:Ge.toString(),receipt:Ye,method:Yi.CASH}),b(!0)},je=()=>{if(!N||!pe.amount||!pe.receipt)return;const ce=parseFloat(pe.amount),Ge=N.paidAmount+ce;let Ye="PARTIAL";Ge>=N.totalAmount&&(Ye="PAID"),Ge===0&&(Ye="UNPAID");const At={...N,paidAmount:Ge,status:Ye,payments:[...N.payments,{id:`PAY-${Date.now()}`,amount:ce,date:new Date().toISOString().split("T")[0],receiptNumber:pe.receipt,method:pe.method,recordedBy:"Current User"}]};o(At),b(!1),C(null),me({amount:"",receipt:"",method:Yi.CASH})},ot=async()=>{if(!(!ne.description||!ne.amount))try{const ce={category:ne.category,description:ne.description,amount:parseFloat(ne.amount),date:ne.date,status:"Pending",branchId:e},Ge=await $e.createExpense(ce);J(Ye=>[Ge,...Ye]),l&&l(Ge),A(!1),ve({description:"",category:"Utilities",amount:"",date:new Date().toISOString().split("T")[0]})}catch(ce){console.error("Failed to create expense:",ce);const Ge={id:Date.now(),category:ne.category,description:ne.description,amount:parseFloat(ne.amount),date:ne.date,status:"Pending",branchId:e,archived:!1};J(Ye=>[Ge,...Ye]),l&&l(Ge),A(!1),ve({description:"",category:"Utilities",amount:"",date:new Date().toISOString().split("T")[0]})}},Be=ce=>{C(ce),P(!0)},wt=()=>{window.print()},st=(ce,Ge)=>{alert(`${Ge} expense #${ce}`)};return i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"no-print space-y-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Finance & Accounting"}),i.jsx("p",{className:"text-slate-500 mt-1",children:re?"Global Financial Overview":`Financials for ${((Yt=f.find(ce=>ce.id===e))==null?void 0:Yt.name)||"Current Branch"}`})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>v("overview"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m==="overview"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Overview"}),i.jsx("button",{onClick:()=>v("invoices"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m==="invoices"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Invoicing & POS"}),i.jsx("button",{onClick:()=>v("expenses"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m==="expenses"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Expenses"}),i.jsx("button",{onClick:()=>v("tax"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${m==="tax"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:"Tax & TRA"})]})]}),m==="overview"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(zc,{title:"Gross Revenue",value:`TZS ${(te.revenue/1e6).toFixed(2)}M`,subtext:"All Time",icon:Er,color:"bg-emerald-600"}),i.jsx(zc,{title:"Net Profit",value:`TZS ${(te.netProfit/1e6).toFixed(2)}M`,subtext:"After Tax & Exp",icon:Pr,color:"bg-teal-600"}),i.jsx(zc,{title:"Total Expenses",value:`TZS ${(te.totalExpenses/1e6).toFixed(2)}M`,subtext:`${$.length} Transactions`,icon:FR,color:"bg-rose-500"}),i.jsx(zc,{title:"Outstanding Invoices",value:`TZS ${(te.receivables/1e6).toFixed(2)}M`,subtext:"Receivables",icon:vi,color:"bg-blue-500"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Income vs Expenses (7 Days)"})}),i.jsx("div",{className:"h-80 w-full",children:i.jsx(ld,{width:"100%",height:"100%",children:i.jsxs(_H,{data:Te,barGap:0,children:[i.jsx(Xx,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),i.jsx(ys,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},dy:10}),i.jsx(vs,{axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12},tickFormatter:ce=>`${ce/1e3}k`}),i.jsx(er,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:ce=>[`TZS ${ce.toLocaleString()}`,""]}),i.jsx(aa,{dataKey:"sales",name:"Income",fill:"#0d9488",radius:[4,4,0,0]}),i.jsx(aa,{dataKey:"expense",name:"Expense",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Payment Breakdown"}),i.jsxs("div",{className:"h-60 w-full relative",children:[i.jsx(ld,{width:"100%",height:"100%",children:i.jsxs(gk,{children:[i.jsx(Jr,{data:$P,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:$P.map((ce,Ge)=>i.jsx(su,{fill:qP[Ge%qP.length]},`cell-${Ge}`))}),i.jsx(er,{formatter:ce=>`TZS ${ce.toLocaleString()}`})]})}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:i.jsxs("div",{className:"text-center",children:[i.jsx("span",{className:"text-2xl font-bold text-slate-800",children:"100%"}),i.jsx("p",{className:"text-xs text-slate-500 uppercase",children:"Mix"})]})})]})]})]})]}),m==="invoices"&&i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Invoices & Receivables"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search invoices...",value:I,onChange:ce=>R(ce.target.value),className:"pl-9 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500"}),i.jsx("svg",{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),i.jsxs("select",{value:q,onChange:ce=>D(ce.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-teal-500 focus:border-teal-500",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"PAID",children:"Paid"}),i.jsx("option",{value:"PARTIAL",children:"Partial"}),i.jsx("option",{value:"UNPAID",children:"Unpaid"})]}),i.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium text-sm shadow-md shadow-teal-600/20",children:[i.jsx(Nv,{size:16})," Create Manual Invoice"]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Invoice ID"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Origin"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Customer"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Total Amount"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Paid / Balance"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:Se.map(ce=>{const Ge=ce.totalAmount-ce.paidAmount;return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:ce.id}),i.jsx("td",{className:"px-6 py-4",children:ce.source==="POS"?i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded w-fit",children:[i.jsx(Yc,{size:10})," POS"]}):i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-slate-500 bg-slate-100 px-2 py-1 rounded w-fit",children:[i.jsx(vi,{size:10})," Manual"]})}),i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("div",{className:"font-bold text-slate-800 text-sm",children:ce.customerName}),i.jsx("div",{className:"text-xs text-slate-500",children:ce.description})]}),i.jsxs("td",{className:"px-6 py-4 font-bold text-slate-800",children:["TZS ",ce.totalAmount.toLocaleString()]}),i.jsx("td",{className:"px-6 py-4 text-sm",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-emerald-600 font-medium",children:ce.paidAmount.toLocaleString()}),Ge>0&&i.jsxs("span",{className:"text-rose-500 text-xs",children:["Bal: ",Ge.toLocaleString()]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${ce.status==="PAID"?"bg-emerald-100 text-emerald-700":ce.status==="PARTIAL"?"bg-amber-100 text-amber-700":"bg-rose-100 text-rose-700"}`,children:ce.status})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>Be(ce),className:"text-slate-500 hover:text-blue-600 p-1.5 hover:bg-blue-50 rounded",title:"View Invoice",children:i.jsx(xl,{size:16})}),ce.status!=="PAID"?i.jsxs("button",{onClick:()=>Ue(ce),className:"text-teal-600 hover:text-teal-800 font-bold text-xs bg-teal-50 px-2 py-1 rounded hover:bg-teal-100 flex items-center gap-1 transition-colors",children:[i.jsx(HP,{size:12})," Pay Now"]}):i.jsxs("div",{className:"flex gap-2 items-center",children:[i.jsxs("span",{className:"text-slate-400 text-xs flex items-center gap-1 px-2",children:[i.jsx(kt,{size:12})," Paid"]}),d&&i.jsx("button",{onClick:()=>d("invoice",ce.id),className:"text-slate-400 hover:text-amber-600 p-1.5 hover:bg-amber-50 rounded",title:"Archive",children:i.jsx(ta,{size:16})})]})]})})]},ce.id)})})]})})]}),m==="expenses"&&i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4 mb-6",children:[i.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Operational Expenses"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"Search expenses...",value:L,onChange:ce=>W(ce.target.value),className:"pl-9 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-rose-500 focus:border-rose-500"}),i.jsx("svg",{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),i.jsxs("select",{value:B,onChange:ce=>ee(ce.target.value),className:"px-3 py-2 border border-slate-300 rounded-lg text-sm focus:ring-2 focus:ring-rose-500 focus:border-rose-500",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"Pending",children:"Pending"}),i.jsx("option",{value:"Approved",children:"Approved"}),i.jsx("option",{value:"Rejected",children:"Rejected"})]}),!re&&i.jsxs("button",{onClick:()=>A(!0),className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 font-medium text-sm shadow-md shadow-rose-600/20",children:[i.jsx(na,{size:16})," Record Expense"]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Description"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Category"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Branch"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase min-w-[200px]",children:"Action"})]})}),i.jsxs("tbody",{className:"divide-y divide-slate-100",children:[Re.map(ce=>{var Ge;return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:ce.description}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:ce.category}),i.jsx("td",{className:"px-6 py-4 text-xs text-slate-500",children:((Ge=f.find(Ye=>Ye.id===ce.branchId))==null?void 0:Ge.name)||"Unknown"}),i.jsxs("td",{className:"px-6 py-4 font-bold text-slate-800",children:["TZS ",ce.amount.toLocaleString()]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${ce.status==="Approved"?"bg-emerald-100 text-emerald-700":ce.status==="Rejected"?"bg-rose-100 text-rose-700":"bg-amber-100 text-amber-700"}`,children:ce.status})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[ce.status==="Pending"&&Y(ce)&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>st(ce.id,"Approved"),className:"p-2 bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-200 transition-colors",title:"Approve Expense",children:i.jsx(kt,{size:16})}),i.jsx("button",{onClick:()=>st(ce.id,"Rejected"),className:"p-2 bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 transition-colors",title:"Reject Expense",children:i.jsx(Fr,{size:16})})]}),le()&&i.jsx("button",{onClick:()=>{var Ye;alert(`Expense Details:

Description: ${ce.description}
Category: ${ce.category}
Amount: TZS ${ce.amount.toLocaleString()}
Date: ${ce.date}
Branch: ${((Ye=f.find(At=>At.id===ce.branchId))==null?void 0:Ye.name)||"Unknown"}
Status: ${ce.status}`)},className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"View Details",children:i.jsx(xl,{size:16})}),((p==null?void 0:p.role)===ut.SUPER_ADMIN||(p==null?void 0:p.role)===ut.ACCOUNTANT||!0)&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{var At;const Ye=[{Description:ce.description,Category:ce.category,Amount:ce.amount,Date:ce.date,Status:ce.status,Branch:((At=f.find(Lt=>Lt.id===ce.branchId))==null?void 0:At.name)||"Unknown"}];he(Ye,`expense_${ce.id}_${new Date().toISOString().split("T")[0]}.csv`)},className:"p-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors shadow-sm",title:"Export Expense (Super Admin & Finance)",children:i.jsx(vi,{size:14})}),(p==null?void 0:p.role)===ut.SUPER_ADMIN&&ce.status==="Pending"&&i.jsx("button",{onClick:()=>{window.confirm(`Are you sure you want to delete this expense?

Description: ${ce.description}
Amount: TZS ${ce.amount.toLocaleString()}

This action cannot be undone.`)&&alert(`Expense #${ce.id} would be deleted. (API integration needed)`)},className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors shadow-sm",title:"Delete Expense (Super Admin Only)",children:i.jsx(Jt,{size:14})}),i.jsx("button",{onClick:()=>d&&d("expense",ce.id),className:"p-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600 transition-colors shadow-sm",title:"Archive Expense (Super Admin & Finance)",children:i.jsx(ta,{size:14})})]}),["Approved","Rejected"].includes(ce.status)&&d&&i.jsx("button",{onClick:()=>d("expense",ce.id),className:"text-slate-400 hover:text-amber-600 p-1.5 hover:bg-amber-50 rounded",title:"Archive",children:i.jsx(ta,{size:16})})]})})]},ce.id)}),$.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"p-8 text-center text-slate-500",children:"No expenses recorded for this view."})})]})]})})]}),m==="tax"&&i.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 grid grid-cols-1 lg:grid-cols-3 gap-8",children:i.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("div",{className:"flex justify-between items-start mb-8",children:i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[i.jsx(Jd,{size:24,className:"text-teal-600"}),"TRA VAT Report ",re&&"(Consolidated)"]}),i.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Tax Identification Number (TIN): 123-456-789"})]})}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-slate-600 font-medium",children:"Total Taxable Value"}),i.jsxs("span",{className:"font-bold text-slate-900",children:["TZS ",(te.revenue*.82).toLocaleString(void 0,{maximumFractionDigits:0})]})]}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-slate-600 font-medium",children:"VAT Amount (18%)"}),i.jsxs("span",{className:"font-bold text-slate-900",children:["TZS ",(te.revenue*.18).toLocaleString(void 0,{maximumFractionDigits:0})]})]})]})]})})]}),i.jsx(OH,{showInvoiceModal:w,setShowInvoiceModal:_,newInvoice:fe,setNewInvoice:G,handleCreateInvoice:Ee}),x&&N&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4 no-print",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:"Record Payment"}),i.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:["For Invoice #",N.id]}),i.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg mb-4 text-sm",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("span",{children:"Total Due:"}),i.jsx("span",{className:"font-bold",children:N.totalAmount.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between text-rose-600",children:[i.jsx("span",{children:"Remaining Balance:"}),i.jsx("span",{className:"font-bold",children:(N.totalAmount-N.paidAmount).toLocaleString()})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Receipt Number (System Generated)"}),i.jsxs("div",{className:"relative",children:[i.jsx(jR,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"text",className:"w-full pl-9 p-2 border border-slate-300 rounded-lg bg-slate-100 text-slate-500 cursor-not-allowed",placeholder:"Auto-generated",value:pe.receipt,readOnly:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Payment Amount"}),i.jsxs("div",{className:"relative",children:[i.jsx(Er,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"number",className:"w-full pl-9 p-2 border border-slate-300 rounded-lg font-bold",placeholder:"0.00",value:pe.amount,onChange:ce=>me({...pe,amount:ce.target.value})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Payment Method"}),i.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg",value:pe.method,onChange:ce=>me({...pe,method:ce.target.value}),children:[i.jsx("option",{value:Yi.CASH,children:"Cash"}),i.jsx("option",{value:Yi.MOBILE_MONEY,children:"Mobile Money"}),i.jsx("option",{value:Yi.INSURANCE,children:"Insurance"})]})]})]}),i.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-slate-600",children:"Cancel"}),i.jsx("button",{onClick:je,className:"px-4 py-2 bg-teal-600 text-white rounded-lg",children:"Save Payment"})]})]})}),i.jsx(LH,{showPreviewModal:T,setShowPreviewModal:P,selectedInvoice:N,handlePrintInvoice:wt,openPaymentModal:Ue}),i.jsx(DH,{showExpenseModal:E,setShowExpenseModal:A,newExpense:ne,setNewExpense:ve,handleRecordExpense:ot}),i.jsxs("div",{className:"print-only",children:[i.jsx("style",{children:`
                @media print {
                    .print-only {
                        page-break-inside: avoid;
                        page-break-before: always;
                        page-break-after: always;
                    }
                    .print-only * {
                        -webkit-print-color-adjust: exact !important;
                        color-adjust: exact !important;
                    }
                    body {
                        margin: 0;
                        padding: 0;
                    }
                    @page {
                        size: A4;
                        margin: 1cm;
                    }
                }
                `}),(()=>{const ce=ge();return i.jsxs("div",{className:"max-w-4xl mx-auto border border-black p-8 text-black",style:{minHeight:"29.7cm",maxHeight:"29.7cm"},children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("img",{src:ce.logo,alt:`${ce.companyName} Logo`,className:"h-20 w-auto mx-auto mb-4"}),i.jsx("h1",{className:"text-3xl font-bold uppercase tracking-wider mb-2",children:ce.companyName}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("p",{children:["TIN: ",ce.tinNumber," | VRN: ",ce.vrnNumber]}),i.jsx("p",{children:ce.address}),i.jsxs("p",{children:["Tel: ",ce.phone," | Email: ",ce.email]})]})]}),i.jsx("hr",{className:"border-black my-6"}),i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:(N==null?void 0:N.status)==="PAID"?"TAX INVOICE":"PROFORMA INVOICE"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Invoice #:"})," ",(N==null?void 0:N.id)||"---"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Date Issued:"})," ",(N==null?void 0:N.dateIssued)||new Date().toISOString().split("T")[0]]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Due Date:"})," ",(N==null?void 0:N.dueDate)||"---"]}),(N==null?void 0:N.paymentMethod)&&i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:"Payment Method:"})," ",N.paymentMethod]})]})]}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsxs("div",{className:"border border-black p-4 inline-block",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Bill To:"}),i.jsx("p",{className:"text-lg font-semibold",children:N==null?void 0:N.customerName}),i.jsxs("p",{className:"text-sm mt-2",children:["Customer ID: ",N==null?void 0:N.customerName.split(" ").join("").toUpperCase()]})]}),i.jsx("div",{className:"mt-4 text-right",children:i.jsxs("span",{className:`inline-block px-4 py-2 border border-black text-sm font-bold ${(N==null?void 0:N.status)==="PAID"?"bg-gray-100":""}`,children:["Status: ",(N==null?void 0:N.status)||"UNPAID"]})})]})]}),i.jsx("hr",{className:"border-black my-6"}),i.jsxs("table",{className:"w-full text-left mb-8 border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b-2 border-black",children:[i.jsx("th",{className:"py-3 px-2 text-left font-bold",children:"Item Description"}),i.jsx("th",{className:"py-3 px-2 text-center font-bold",children:"Qty"}),i.jsx("th",{className:"py-3 px-2 text-right font-bold",children:"Unit Price"}),i.jsx("th",{className:"py-3 px-2 text-right font-bold",children:"Total"})]})}),i.jsx("tbody",{children:N!=null&&N.items&&N.items.length>0?N.items.map((Ge,Ye)=>i.jsxs("tr",{className:"border-b border-gray-300",children:[i.jsx("td",{className:"py-3 px-2 font-medium",children:Ge.name}),i.jsx("td",{className:"py-3 px-2 text-center",children:Ge.quantity}),i.jsx("td",{className:"py-3 px-2 text-right",children:Ge.price.toLocaleString()}),i.jsx("td",{className:"py-3 px-2 text-right font-semibold",children:(Ge.price*Ge.quantity).toLocaleString()})]},Ye)):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"py-6 px-2 text-center font-medium",children:"Consolidated Invoice Items"})})})]}),i.jsx("hr",{className:"border-black my-6"}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("div",{className:"w-80 space-y-3 text-sm",children:[N!=null&&N.includeVAT?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:N!=null&&N.totalAmount?(N.totalAmount/1.18).toFixed(0):"0"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"VAT (18%):"}),i.jsx("span",{children:N!=null&&N.totalAmount?(N.totalAmount-N.totalAmount/1.18).toFixed(0):"0"})]})]}):i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Amount:"}),i.jsx("span",{children:N==null?void 0:N.totalAmount.toLocaleString()})]}),i.jsxs("div",{className:"flex justify-between font-bold text-lg border-t border-black pt-3",children:[i.jsx("span",{children:"Grand Total:"}),i.jsxs("span",{children:[N==null?void 0:N.totalAmount.toLocaleString()," TZS"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Amount Paid:"}),i.jsxs("span",{children:["- ",N==null?void 0:N.paidAmount.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between font-bold border-t border-black pt-2",children:[i.jsx("span",{children:"Balance Due:"}),i.jsxs("span",{children:[(((N==null?void 0:N.totalAmount)||0)-((N==null?void 0:N.paidAmount)||0)).toLocaleString()," TZS"]})]})]})}),(N==null?void 0:N.status)==="PAID"&&i.jsx("div",{className:"mt-6 text-center border-2 border-black p-3 font-bold text-lg",children:"PAID IN FULL"}),i.jsxs("div",{className:"mt-12 text-center text-sm border-t border-black pt-6",children:[i.jsx("p",{className:"font-semibold",children:"Thank you for your business!"}),i.jsx("p",{className:"mt-2 text-xs",children:"This is a computer-generated invoice and does not require a signature."}),i.jsxs("p",{className:"mt-1 text-xs",children:["For inquiries, contact us at ",ce.phone]})]})]})})()]})]})},zc=({title:e,value:t,subtext:n,icon:r,color:o})=>i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:e}),i.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:t})]}),i.jsx("div",{className:`p-3 rounded-lg ${o}`,children:i.jsx(r,{size:24,className:"text-white"})})]}),i.jsx("div",{className:"mt-4 flex items-center text-sm",children:i.jsx("span",{className:"text-slate-400",children:n})})]}),qH=({branches:e,onUpdateBranches:t,onAddBranch:n,staff:r=[],currentUser:o})=>{const{showSuccess:l,showError:u}=Ei(),[d,f]=M.useState(!1),[p,g]=M.useState(!1),[m,v]=M.useState(!1),[w,_]=M.useState(null),[x,b]=M.useState({}),[E,A]=M.useState(null),T=e.filter(D=>D.id!=="HEAD_OFFICE"),P=T.filter(D=>D.status==="ACTIVE").length,N=r.length,C=D=>{_(D),b(D),g(!0)},I=async D=>{const B=e.find(Q=>Q.id===D);if(!B)return;const ee=B.status==="ACTIVE"?"INACTIVE":"ACTIVE";try{await $e.request(`/branches/${D}`,{method:"PATCH",body:JSON.stringify({status:ee})});const Q=e.map(oe=>oe.id===D?{...oe,status:ee}:oe);t(Q);const ae=ee==="ACTIVE"?"activated":"deactivated";l("Status Updated",`${B.name} has been ${ae}.`)}catch(Q){console.error("Failed to update branch status:",Q),u("Update Failed",Q.message||"There was an error updating the branch status. Please try again.")}},R=async()=>{if(!w||!x.name||!x.location){u("Missing Information","Please fill in branch name and location.");return}try{await $e.request(`/branches/${w.id}`,{method:"PATCH",body:JSON.stringify({name:x.name,location:x.location,manager:x.manager||w.manager})});const D=e.map(B=>B.id===w.id?{...B,...x}:B);t(D),l("Branch Updated",`${x.name} has been successfully updated.`),g(!1),_(null)}catch(D){console.error("Failed to update branch:",D),u("Update Failed",D.message||"There was an error updating the branch. Please try again.")}},L=async()=>{if(!x.name||!x.location){u("Missing Information","Please fill in branch name and location.");return}const B={id:`BR${String(e.length+1).padStart(3,"0")}`,name:x.name,location:x.location,manager:x.manager||"Unassigned",status:"ACTIVE"};try{n?(await n(B),l("Branch Created",`${B.name} has been successfully added.`)):(t([...e,B]),l("Branch Created",`${B.name} has been added locally.`)),f(!1),b({})}catch{u("Failed to Create Branch","There was an error saving the branch. Please try again.")}},W=async()=>{if(E)try{await $e.request(`/branches/${E.id}`,{method:"DELETE"});const D=e.filter(B=>B.id!==E.id);t(D),l("Branch Deleted",`${E.name} has been permanently deleted.`),v(!1),A(null)}catch(D){console.error("Failed to delete branch:",D),u("Delete Failed",D.message||"There was an error deleting the branch. Please try again.")}},q=D=>{A(D),v(!0)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Branch Management"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Configure locations, managers, and operational status."})]}),i.jsxs("button",{onClick:()=>{b({}),f(!0)},className:"flex items-center gap-2 px-5 py-3 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-bold shadow-lg shadow-teal-600/20 transition-all",children:[i.jsx(na,{size:20})," Add New Branch"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[i.jsx("div",{className:"p-4 rounded-full bg-teal-50 text-teal-600",children:i.jsx(Jd,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:T.length}),i.jsx("p",{className:"text-sm text-slate-500",children:"Total Locations"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[i.jsx("div",{className:"p-4 rounded-full bg-emerald-50 text-emerald-600",children:i.jsx(kt,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:P}),i.jsx("p",{className:"text-sm text-slate-500",children:"Operational"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[i.jsx("div",{className:"p-4 rounded-full bg-blue-50 text-blue-600",children:i.jsx(Da,{size:24})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-slate-900",children:N}),i.jsx("p",{className:"text-sm text-slate-500",children:"Total Staff"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"All Branches"}),i.jsxs("button",{className:"text-slate-500 hover:text-teal-600 flex items-center gap-1 text-sm",children:[i.jsx(VP,{size:14})," Refresh Status"]})]}),i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-slate-600 text-xs uppercase font-semibold",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Branch Name"}),i.jsx("th",{className:"px-6 py-4",children:"Location"}),i.jsx("th",{className:"px-6 py-4",children:"Manager"}),i.jsx("th",{className:"px-6 py-4",children:"Status"}),i.jsx("th",{className:"px-6 py-4",children:"Last Sync"}),i.jsx("th",{className:"px-6 py-4",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:T.map(D=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("div",{className:"font-bold text-slate-800",children:D.name}),i.jsxs("div",{className:"text-xs text-slate-400",children:["ID: ",D.id]})]}),i.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600 flex items-center gap-2",children:[i.jsx(Kc,{size:14,className:"text-slate-400"}),D.location]}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-700",children:D.manager}),i.jsx("td",{className:"px-6 py-4",children:D.status==="ACTIVE"?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-bold",children:[i.jsx(kt,{size:12})," Active"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-slate-100 text-slate-500 text-xs font-bold",children:[i.jsx(Fr,{size:12})," Inactive"]})}),i.jsx("td",{className:"px-6 py-4 text-xs text-slate-500",children:"2 mins ago"}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>C(D),className:"p-2 bg-white border border-slate-200 rounded-lg text-slate-600 hover:text-teal-600 hover:border-teal-200 hover:bg-teal-50 transition-colors",title:"Edit Details",children:i.jsx(Av,{size:16})}),i.jsx("button",{onClick:()=>I(D.id),className:`p-2 bg-white border border-slate-200 rounded-lg transition-colors ${D.status==="ACTIVE"?"text-rose-500 hover:bg-rose-50 hover:border-rose-200":"text-emerald-500 hover:bg-emerald-50 hover:border-emerald-200"}`,title:D.status==="ACTIVE"?"Deactivate Branch":"Activate Branch",children:i.jsx(PR,{size:16})}),(o==null?void 0:o.role)==="SUPER_ADMIN"&&D.id!=="HEAD_OFFICE"&&i.jsx("button",{onClick:()=>q(D),className:"p-2 bg-white border border-slate-200 rounded-lg text-slate-600 hover:text-red-600 hover:border-red-200 hover:bg-red-50 transition-colors",title:"Delete Branch",children:i.jsx(ra,{size:16})})]})})]},D.id))})]})]}),(d||p)&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:p?"Edit Branch":"Add New Branch"}),i.jsx("p",{className:"text-slate-500 text-sm",children:p?`Update details for ${w==null?void 0:w.name}`:"Create a new location"})]}),i.jsx("button",{onClick:()=>{f(!1),g(!1)},className:"text-slate-400 hover:text-slate-600",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Branch Name"}),i.jsx("input",{type:"text",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",placeholder:"e.g. Arusha City Center",value:x.name||"",onChange:D=>b({...x,name:D.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location / Address"}),i.jsx("input",{type:"text",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",placeholder:"Street, District, Region",value:x.location||"",onChange:D=>b({...x,location:D.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assign Manager"}),i.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",value:x.manager||"",onChange:D=>b({...x,manager:D.target.value}),children:[i.jsx("option",{value:"",children:"Select Staff Member"}),r.map(D=>i.jsxs("option",{value:D.name,children:[D.name," (",D.role.replace("_"," "),")"]},D.id))]})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{f(!1),g(!1)},className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg",children:"Cancel"}),i.jsxs("button",{onClick:p?R:L,className:"px-4 py-2 bg-teal-600 text-white font-medium hover:bg-teal-700 rounded-lg shadow-sm flex items-center gap-2",children:[i.jsx(Yd,{size:18})," ",p?"Save Changes":"Create Branch"]})]})]})}),m&&E&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Delete Branch"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"This action cannot be undone"})]}),i.jsx("button",{onClick:()=>{v(!1),A(null)},className:"text-slate-400 hover:text-slate-600",children:i.jsx(Jt,{size:24})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-red-100 text-red-600 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:i.jsx(ra,{size:14})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-red-900 mb-1",children:"Confirm Branch Deletion"}),i.jsxs("p",{className:"text-red-700 text-sm",children:["Are you sure you want to permanently delete ",i.jsx("strong",{children:E.name}),"? This will remove all associated data and cannot be reversed."]})]})]})}),i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:i.jsxs("p",{className:"text-amber-800 text-sm",children:[i.jsx("strong",{children:"Requirements:"})," Branch must have no active staff and no inventory before deletion."]})})]}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>{v(!1),A(null)},className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg",children:"Cancel"}),i.jsxs("button",{onClick:W,className:"px-4 py-2 bg-red-600 text-white font-medium hover:bg-red-700 rounded-lg shadow-sm flex items-center gap-2",children:[i.jsx(ra,{size:18})," Delete Branch"]})]})]})})]})},FH=({currentBranchId:e,branches:t,staffList:n=[],onAddStaff:r,onUpdateStaff:o})=>{var da,Yr;const{showSuccess:l,showError:u}=Ei(),[d,f]=M.useState(""),[p,g]=M.useState(n),[m,v]=M.useState(!0),[w,_]=M.useState(!1),[x,b]=M.useState(!1),[E,A]=M.useState(!1),[T,P]=M.useState(!1),[N,C]=M.useState(!1),[I,R]=M.useState(!1),[L,W]=M.useState(!1),[q,D]=M.useState(!1),[B,ee]=M.useState(null),Q=(V,Le)=>p.some(Oe=>(!Le||Oe.id!==Le)&&Oe.email.toLowerCase()===V.toLowerCase()),ae=(V,Le)=>p.some(Oe=>Oe.username.toLowerCase()===V.toLowerCase()),[oe,J]=M.useState("ALL"),[F,X]=M.useState("ALL"),[O,H]=M.useState("ALL"),[fe,G]=M.useState({start:"",end:""}),[pe,me]=M.useState("name"),[ne,ve]=M.useState("asc"),[re,ge]=M.useState(new Set),[xe,$]=M.useState(null),[Ae,Se]=M.useState("ACTIVE"),[Re,Y]=M.useState(""),[le,te]=M.useState(ut.CASHIER),[he,Te]=M.useState([]),[Ee,Ue]=M.useState(!1),[je,ot]=M.useState({name:"",role:ut.CASHIER,branchId:e==="HEAD_OFFICE"?"":e,email:"",phone:"",status:"ACTIVE",username:"",password:""}),[Be,wt]=M.useState(null),st=e==="HEAD_OFFICE",Yt=(da=t.find(V=>V.id===e))==null?void 0:da.name;z.useEffect(()=>{(async()=>{v(!0);try{const Le=await $e.getStaff();g(Le||[])}catch(Le){console.error("Failed to load staff data:",Le),g(n)}finally{v(!1)}})()},[e]);const ce=M.useMemo(()=>{let V=p.filter(Le=>{const Oe=Le.name.toLowerCase().includes(d.toLowerCase())||Le.email.toLowerCase().includes(d.toLowerCase())||Le.username.toLowerCase().includes(d.toLowerCase()),rt=st?!0:Le.branchId===e,Je=oe==="ALL"||Le.role===oe,qt=F==="ALL"||Le.status===F,it=O==="ALL"||Le.branchId===O;let Mn=!0;if(fe.start&&fe.end&&Le.joinedDate){const ft=new Date(Le.joinedDate),Tn=new Date(fe.start),Rr=new Date(fe.end);Mn=ft>=Tn&&ft<=Rr}return Oe&&rt&&Je&&qt&&it&&Mn});return V.sort((Le,Oe)=>{let rt,Je;switch(pe){case"name":rt=Le.name.toLowerCase(),Je=Oe.name.toLowerCase();break;case"role":rt=Le.role,Je=Oe.role;break;case"status":rt=Le.status,Je=Oe.status;break;case"joinedDate":rt=new Date(Le.joinedDate||"1970-01-01"),Je=new Date(Oe.joinedDate||"1970-01-01");break;case"lastLogin":rt=new Date(Le.lastLogin||"1970-01-01"),Je=new Date(Oe.lastLogin||"1970-01-01");break;default:return 0}return rt<Je?ne==="asc"?-1:1:rt>Je?ne==="asc"?1:-1:0}),V},[p,d,oe,F,O,fe,pe,ne,st,e]),Ge=async()=>{if(!je.name||!je.email||!je.username||!je.password){u("Missing Information","Please fill in all required fields.");return}if(je.password.length<6){u("Invalid Password","Password must be at least 6 characters long.");return}try{const V={id:`ST-${Date.now()}`,name:je.name,role:je.role,branchId:je.branchId||void 0,email:je.email,phone:je.phone||"",status:"ACTIVE",username:je.username,password:je.password},Le=await $e.createStaff(V);g(Oe=>[Le,...Oe]),r&&r(Le),l("Staff Member Added",`${Le.name} has been successfully added to the database.`),_(!1),ot({name:"",role:ut.CASHIER,branchId:e==="HEAD_OFFICE"?"":e,email:"",phone:"",status:"ACTIVE",username:"",password:""})}catch(V){console.error("Failed to create staff:",V),u("Failed to Add Staff","There was an error saving the staff member to the database. Please try again.")}},Ye=async()=>{var V,Le;if(Be)try{const Oe=await $e.updateStaff(Be.id,Be);g(Je=>Je.map(qt=>qt.id===Be.id?Oe:qt)),o&&o(Oe);const rt=p.find(Je=>Je.id===Be.id);if(rt&&rt.branchId!==Be.branchId){const Je=((V=t.find(it=>it.id===rt.branchId))==null?void 0:V.name)||"Unknown",qt=((Le=t.find(it=>it.id===Be.branchId))==null?void 0:Le.name)||"Unknown";l("Staff Transferred",`${Be.name} has been successfully transferred from ${Je} to ${qt}.`)}else l("Staff Updated",`${Be.name}'s information has been successfully updated in the database.`);b(!1),wt(null)}catch(Oe){console.error("Failed to update staff:",Oe),u("Update Failed","Failed to update staff member in the database. Please try again.")}},At=V=>{wt({...V}),b(!0)},Lt=async V=>{const Le=p.find(rt=>rt.id===V);if(!Le)return;const Oe=Le.status==="ACTIVE"?"INACTIVE":"ACTIVE";try{const rt=await $e.updateStaff(V,{status:Oe});g(qt=>qt.map(it=>it.id===V?rt:it)),o&&o(rt);const Je=Oe==="ACTIVE"?"activated":"deactivated";l("Status Updated",`${Le.name} has been ${Je} in the database.`)}catch(rt){console.error("Failed to update staff status:",rt),u("Update Failed","Failed to update staff status in the database. Please try again.")}},De=V=>{switch(V){case ut.SUPER_ADMIN:return"bg-purple-100 text-purple-700";case ut.BRANCH_MANAGER:return"bg-blue-100 text-blue-700";case ut.PHARMACIST:return"bg-teal-100 text-teal-700";case ut.ACCOUNTANT:return"bg-amber-100 text-amber-700";default:return"bg-slate-100 text-slate-700"}},Xt=V=>V?V.toLowerCase().replace(/\s+/g,"").slice(0,8)+Math.floor(Math.random()*100):"",rr=()=>{re.size===ce.length?ge(new Set):ge(new Set(ce.map(V=>V.id)))},_n=V=>{const Le=new Set(re);Le.has(V)?Le.delete(V):Le.add(V),ge(Le)},pt=async()=>{if(!(!o||re.size===0))try{const V=[];for(const Oe of re){const rt=p.find(qt=>qt.id===Oe);if(!rt)continue;let Je={...rt};switch(xe){case"status":Je.status=Ae;break;case"transfer":Je.branchId=Re;break;case"role":Je.role=le;break}V.push(Je)}for(const Oe of V)await o(Oe);const Le=xe==="status"?`status to ${Ae}`:xe==="transfer"?"transferred":`role to ${le}`;l("Bulk Update Completed",`${re.size} staff members ${Le} successfully.`),ge(new Set),P(!1),$(null)}catch{u("Bulk Update Failed","Some updates failed. Please try again.")}},kn=async V=>{var Le,Oe;Ue(!0);try{const rt=[{id:1,userId:V,userName:((Le=p.find(Je=>Je.id===V))==null?void 0:Le.name)||"Unknown",action:"LOGIN",entityType:"AUTH",timestamp:new Date().toISOString(),severity:"INFO"},{id:2,userId:V,userName:((Oe=p.find(Je=>Je.id===V))==null?void 0:Oe.name)||"Unknown",action:"SALE_CREATED",entityType:"SALE",entityId:"SALE-001",timestamp:new Date(Date.now()-36e5).toISOString(),severity:"INFO"}];Te(rt)}catch{u("Failed to Load Analytics","Could not load staff activity data.")}finally{Ue(!1)}},Mr=()=>{const V=["Name","Username","Email","Phone","Role","Branch","Status","Joined Date","Last Login"],Le=ce.map(it=>{var Mn;return[it.name,it.username,it.email,it.phone,it.role.replace("_"," "),it.branchId?((Mn=t.find(ft=>ft.id===it.branchId))==null?void 0:Mn.name)||"Unknown":"No Branch",it.status,it.joinedDate||"",it.lastLogin||""]}),Oe=[V,...Le].map(it=>it.map(Mn=>`"${Mn}"`).join(",")).join(`
`),rt=new Blob([Oe],{type:"text/csv;charset=utf-8;"}),Je=document.createElement("a"),qt=URL.createObjectURL(rt);Je.setAttribute("href",qt),Je.setAttribute("download",`staff_export_${new Date().toISOString().split("T")[0]}.csv`),Je.style.visibility="hidden",document.body.appendChild(Je),Je.click(),document.body.removeChild(Je),l("Export Completed","Staff data exported successfully."),W(!1)},An=V=>{pe===V?ve(ne==="asc"?"desc":"asc"):(me(V),ve("asc"))},Gn=()=>{J("ALL"),X("ALL"),H("ALL"),G({start:"",end:""}),f("")},$t=V=>({[ut.SUPER_ADMIN]:{description:"Full system access with all administrative privileges",permissions:["Manage all users and roles","Access all branches and data","Configure system settings","View all financial reports","Approve high-value transactions","System backup and restore","Delete any record","Override any restriction"]},[ut.BRANCH_MANAGER]:{description:"Manage branch operations and staff",permissions:["Manage branch staff (add/edit/deactivate)","View branch financial reports","Approve branch expenses up to limit","Manage branch inventory","View branch sales data","Generate branch reports","Transfer staff within branch network"]},[ut.PHARMACIST]:{description:"Handle pharmaceutical operations and prescriptions",permissions:["Manage prescriptions","Dispense medications","Access patient records","Manage inventory (pharmaceuticals)","Process returns and refunds","Generate prescription reports","Verify medication interactions"]},[ut.ACCOUNTANT]:{description:"Handle financial operations and reporting",permissions:["View financial reports","Process payments and invoices","Manage expenses and budgets","Generate financial statements","Reconcile accounts","Tax reporting preparation","Audit financial transactions"]},[ut.INVENTORY_CONTROLLER]:{description:"Manage inventory and stock operations",permissions:["Manage product inventory","Process stock transfers","Handle stock requisitions","Manage disposal requests","Generate inventory reports","Set reorder levels","Approve stock movements"]},[ut.AUDITOR]:{description:"Monitor and audit system activities",permissions:["View all audit logs","Generate compliance reports","Monitor system activity","Review transaction history","Access read-only financial data","Generate audit reports","Flag suspicious activities"]},[ut.CASHIER]:{description:"Handle point-of-sale operations",permissions:["Process sales transactions","Handle customer payments","Issue receipts and invoices","View product pricing","Process returns (with approval)","View basic inventory levels","Generate daily sales reports"]}})[V]||{description:"No permissions defined",permissions:[]};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Staff Management"}),i.jsx("p",{className:"text-slate-500 mt-1",children:st?"Manage all employees across every branch.":`Managing team members at ${Yt}.`})]}),i.jsxs("div",{className:"flex gap-3",children:[re.size>0&&i.jsxs("button",{onClick:()=>P(!0),className:"flex items-center gap-2 px-4 py-3 bg-amber-600 text-white rounded-xl hover:bg-amber-700 font-bold shadow-lg shadow-amber-600/20 transition-all",children:[i.jsx(ER,{size:20})," Bulk Actions (",re.size,")"]}),i.jsxs("button",{onClick:()=>W(!0),className:"flex items-center gap-2 px-4 py-3 bg-slate-600 text-white rounded-xl hover:bg-slate-700 font-bold shadow-lg shadow-slate-600/20 transition-all",children:[i.jsx(hi,{size:20})," Export"]}),i.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-5 py-3 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-bold shadow-lg shadow-teal-600/20 transition-all",children:[i.jsx(GP,{size:20})," Add New Staff"]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-100 space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search staff by name, email, or username...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",value:d,onChange:V=>f(V.target.value)})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>R(!I),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all ${I?"bg-teal-50 border-teal-200 text-teal-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[i.jsx(BP,{size:18}),"Filters"]}),re.size>0&&i.jsxs("button",{onClick:rr,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-200",children:[re.size===ce.length?i.jsx(DR,{size:18}):i.jsx(hR,{size:18}),re.size===ce.length?"Deselect All":"Select All"]})]})]}),I&&i.jsxs("div",{className:"border-t border-slate-100 pt-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),i.jsxs("select",{value:oe,onChange:V=>J(V.target.value),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",children:[i.jsx("option",{value:"ALL",children:"All Roles"}),Object.values(ut).map(V=>i.jsx("option",{value:V,children:V.replace("_"," ")},V))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),i.jsxs("select",{value:F,onChange:V=>X(V.target.value),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",children:[i.jsx("option",{value:"ALL",children:"All Status"}),i.jsx("option",{value:"ACTIVE",children:"Active"}),i.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),st&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Branch"}),i.jsxs("select",{value:O,onChange:V=>H(V.target.value),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",children:[i.jsx("option",{value:"ALL",children:"All Branches"}),t.map(V=>i.jsx("option",{value:V.id,children:V.name},V.id))]})]}),i.jsxs("div",{className:st?"":"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Joined Date Range"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"date",value:fe.start,onChange:V=>G(Le=>({...Le,start:V.target.value})),className:"flex-1 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none text-sm"}),i.jsx("input",{type:"date",value:fe.end,onChange:V=>G(Le=>({...Le,end:V.target.value})),className:"flex-1 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none text-sm"})]})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-4",children:[i.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",ce.length," of ",p.length," staff members"]}),i.jsx("button",{onClick:Gn,className:"px-3 py-1 text-sm text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded",children:"Clear Filters"})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-slate-100",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700 mr-2",children:"Sort by:"}),[{key:"name",label:"Name"},{key:"role",label:"Role"},{key:"status",label:"Status"},{key:"joinedDate",label:"Joined Date"},{key:"lastLogin",label:"Last Login"}].map(({key:V,label:Le})=>i.jsxs("button",{onClick:()=>An(V),className:`flex items-center gap-1 px-3 py-1 text-sm rounded-lg transition-colors ${pe===V?"bg-teal-100 text-teal-700 border border-teal-200":"text-slate-600 hover:bg-slate-100"}`,children:[Le,pe===V&&(ne==="asc"?i.jsx(dR,{size:14}):i.jsx(uR,{size:14}))]},V))]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:ce.map(V=>{var Le;return i.jsxs("div",{className:`bg-white rounded-2xl shadow-sm border overflow-hidden hover:shadow-md transition-all group ${re.has(V.id)?"border-teal-300 bg-teal-50/30":"border-slate-100"}`,children:[i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("input",{type:"checkbox",checked:re.has(V.id),onChange:()=>_n(V.id),className:"w-4 h-4 text-teal-600 bg-slate-100 border-slate-300 rounded focus:ring-teal-500 focus:ring-2"})}),i.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 font-bold text-xl",children:V.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-slate-900",children:V.name}),i.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-[10px] uppercase font-bold tracking-wide mt-1 ${De(V.role)}`,children:V.role.replace("_"," ")})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>{kn(V.id),C(!0)},className:"text-slate-400 hover:text-blue-600 hover:bg-blue-50 p-2 rounded-full transition-colors",title:"View Analytics",children:i.jsx(Wc,{size:18})}),st&&i.jsx("button",{onClick:()=>At(V),className:"text-slate-400 hover:text-teal-600 hover:bg-teal-50 p-2 rounded-full transition-colors",title:"Edit & Transfer",children:i.jsx(Av,{size:18})})]})]}),i.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Sl,{size:16,className:"text-slate-400"}),i.jsxs("span",{className:"truncate text-slate-500",children:["@",V.username]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_v,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"truncate",children:V.email})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(R1,{size:16,className:"text-slate-400"}),i.jsx("span",{children:V.phone||"No Phone"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Kc,{size:16,className:"text-slate-400"}),i.jsx("span",{className:"text-teal-700 font-medium",children:V.branchId?((Le=t.find(Oe=>Oe.id===V.branchId))==null?void 0:Le.name)||"Unknown Branch":"No Branch Assigned"})]})]})]}),i.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[V.status==="ACTIVE"?i.jsxs("span",{className:"flex items-center gap-1 text-emerald-600 font-bold",children:[i.jsx(kt,{size:14})," Active"]}):i.jsxs("span",{className:"flex items-center gap-1 text-slate-400 font-bold",children:[i.jsx(Fr,{size:14})," Inactive"]}),i.jsx("span",{className:"text-slate-400 mx-2",children:"|"}),i.jsxs("span",{className:"text-slate-500",children:["Joined: ",V.joinedDate]})]}),i.jsx("button",{onClick:()=>Lt(V.id),className:`text-xs font-bold px-3 py-1.5 rounded-lg border transition-colors ${V.status==="ACTIVE"?"border-slate-200 text-slate-500 hover:bg-rose-50 hover:text-rose-600 hover:border-rose-200":"bg-teal-600 text-white border-teal-600 hover:bg-teal-700"}`,children:V.status==="ACTIVE"?"Deactivate":"Activate"})]})]},V.id)})}),ce.length===0&&i.jsxs("div",{className:"text-center py-12 text-slate-400",children:[i.jsx(Da,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No staff members found matching your criteria."})]}),w&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Add Team Member"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Create a new account & credentials for an employee."})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(Sl,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"text",className:"w-full pl-9 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",placeholder:"John Doe",value:je.name,onChange:V=>{ot({...je,name:V.target.value,username:Xt(V.target.value)})}})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1 flex items-center gap-2",children:["Role",i.jsx("button",{type:"button",onClick:()=>{ee(je.role),D(!0)},className:"text-slate-400 hover:text-teal-600 p-1",title:"View role permissions",children:i.jsx(pi,{size:14})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(pi,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("select",{className:"w-full pl-9 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none appearance-none",value:je.role,onChange:V=>ot({...je,role:V.target.value}),children:Object.values(ut).map(V=>i.jsx("option",{value:V,children:V.replace("_"," ")},V))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Branch"}),i.jsxs("div",{className:"relative",children:[i.jsx(Kc,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsxs("select",{className:"w-full pl-9 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none appearance-none disabled:bg-slate-100",value:je.branchId||"",disabled:!st,onChange:V=>ot({...je,branchId:V.target.value||void 0}),children:[i.jsx("option",{value:"",children:"No Branch Assigned"}),t.map(V=>i.jsx("option",{value:V.id,children:V.name},V.id))]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(_v,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"email",className:`w-full pl-9 p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none ${je.email&&Q(je.email)?"border-rose-300 bg-rose-50":"border-slate-300"}`,placeholder:"employee@pms.co.tz",value:je.email,onChange:V=>ot({...je,email:V.target.value})})]}),je.email&&Q(je.email)&&i.jsxs("p",{className:"text-xs text-rose-600 mt-1 flex items-center gap-1",children:[i.jsx(Fr,{size:12})," This email address is already registered"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsx(R1,{size:16,className:"absolute left-3 top-3 text-slate-400"}),i.jsx("input",{type:"tel",className:"w-full pl-9 p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",placeholder:"+255...",value:je.phone,onChange:V=>ot({...je,phone:V.target.value})})]})]}),i.jsx("hr",{className:"border-slate-100"}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200",children:[i.jsxs("h4",{className:"text-sm font-bold text-slate-800 mb-3 flex items-center gap-2",children:[i.jsx(wl,{size:16,className:"text-teal-600"})," Login Credentials"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Username"}),i.jsx("input",{type:"text",className:`w-full p-2 border rounded-lg text-sm bg-white ${je.username&&ae(je.username)?"border-rose-300 bg-rose-50":"border-slate-300"}`,value:je.username,onChange:V=>ot({...je,username:V.target.value})}),je.username&&ae(je.username)&&i.jsxs("p",{className:"text-xs text-rose-600 mt-1 flex items-center gap-1",children:[i.jsx(Fr,{size:12})," This username is already taken"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:E?"text":"password",className:"w-full p-2 border border-slate-300 rounded-lg text-sm bg-white pr-8",placeholder:"Minimum 6 characters",value:je.password,onChange:V=>ot({...je,password:V.target.value})}),i.jsx("button",{className:"absolute right-2 top-2 text-slate-400 hover:text-teal-600",onClick:()=>A(!E),type:"button",children:E?i.jsx(UP,{size:14}):i.jsx(xl,{size:14})})]}),je.password&&je.password.length<6&&i.jsx("p",{className:"text-xs text-rose-600 mt-1",children:"Password must be at least 6 characters"})]})]})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:Ge,className:"px-4 py-2 bg-teal-600 text-white font-medium hover:bg-teal-700 rounded-lg shadow-sm",children:"Create User"})]})]})}),x&&Be&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Edit Staff Details"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Update role, branch assignment, or contact info."})]}),i.jsx("div",{className:"p-2 bg-slate-100 rounded-full",children:i.jsx(Av,{size:20,className:"text-slate-500"})})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:Be.name,onChange:V=>wt({...Be,name:V.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Email"}),i.jsx("input",{type:"email",className:`w-full p-2 border rounded-lg focus:ring-2 focus:ring-teal-500 outline-none text-sm ${Be.email&&Q(Be.email,Be.id)?"border-rose-300 bg-rose-50":"border-slate-300"}`,value:Be.email,onChange:V=>wt({...Be,email:V.target.value})}),Be.email&&Q(Be.email,Be.id)&&i.jsxs("p",{className:"text-xs text-rose-600 mt-1 flex items-center gap-1",children:[i.jsx(Fr,{size:12})," This email address is already registered to another staff member"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Phone"}),i.jsx("input",{type:"tel",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none text-sm",value:Be.phone,onChange:V=>wt({...Be,phone:V.target.value})})]})]}),i.jsx("hr",{className:"border-slate-100 my-2"}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2 flex items-center gap-2",children:[i.jsx(pi,{size:14})," System Role",i.jsx("button",{type:"button",onClick:()=>{ee(Be.role),D(!0)},className:"text-slate-400 hover:text-teal-600 p-1",title:"View role permissions",children:i.jsx(pi,{size:12})})]}),i.jsx("select",{className:"w-full p-2 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:Be.role,onChange:V=>wt({...Be,role:V.target.value}),children:Object.values(ut).map(V=>i.jsx("option",{value:V,children:V.replace("_"," ")},V))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2 flex items-center gap-2",children:[i.jsx(E1,{size:14})," Branch Assignment (Transfer)"]}),i.jsx("select",{className:"w-full p-2 bg-white border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:Be.branchId,onChange:V=>wt({...Be,branchId:V.target.value}),children:t.map(V=>i.jsxs("option",{value:V.id,children:[V.name," (",V.location,")"]},V.id))}),Be.branchId!==((Yr=p.find(V=>V.id===Be.id))==null?void 0:Yr.branchId)&&i.jsxs("p",{className:"text-xs text-amber-600 mt-2 flex items-center gap-1 font-medium",children:[i.jsx(E1,{size:12})," Staff will be transferred upon saving."]})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1",children:"Reset Password"}),i.jsx("input",{type:"text",className:"w-full p-2 border border-slate-300 rounded-lg text-sm",placeholder:"Enter new password to reset...",value:Be.password||"",onChange:V=>wt({...Be,password:V.target.value})})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg",children:"Cancel"}),i.jsxs("button",{onClick:Ye,className:"px-6 py-2 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 shadow-sm flex items-center gap-2",children:[i.jsx(Yd,{size:18})," Save Changes"]})]})]})}),T&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Bulk Operations"}),i.jsxs("p",{className:"text-slate-500 text-sm",children:["Apply changes to ",re.size," selected staff members"]})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Select Operation"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"bulkAction",value:"status",checked:xe==="status",onChange:V=>$(V.target.value),className:"text-teal-600 focus:ring-teal-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-900",children:"Change Status"}),i.jsx("div",{className:"text-sm text-slate-500",children:"Activate or deactivate selected staff"})]})]}),st&&i.jsxs(i.Fragment,{children:[i.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"bulkAction",value:"transfer",checked:xe==="transfer",onChange:V=>$(V.target.value),className:"text-teal-600 focus:ring-teal-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-900",children:"Transfer Branch"}),i.jsx("div",{className:"text-sm text-slate-500",children:"Move staff to different branch"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"bulkAction",value:"role",checked:xe==="role",onChange:V=>$(V.target.value),className:"text-teal-600 focus:ring-teal-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-slate-900",children:"Change Role"}),i.jsx("div",{className:"text-sm text-slate-500",children:"Update role assignments"})]})]})]})]})]}),xe==="status"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Status"}),i.jsxs("select",{value:Ae,onChange:V=>Se(V.target.value),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",children:[i.jsx("option",{value:"ACTIVE",children:"Active"}),i.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),xe==="transfer"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Target Branch"}),i.jsxs("select",{value:Re,onChange:V=>Y(V.target.value),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",children:[i.jsx("option",{value:"",children:"Select Branch"}),t.map(V=>i.jsx("option",{value:V.id,children:V.name},V.id))]})]}),xe==="role"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"New Role"}),i.jsx("select",{value:le,onChange:V=>te(V.target.value),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:outline-none",children:Object.values(ut).map(V=>i.jsx("option",{value:V,children:V.replace("_"," ")},V))})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:pt,disabled:!xe||xe==="transfer"&&!Re,className:"px-4 py-2 bg-teal-600 text-white font-medium hover:bg-teal-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Changes"})]})]})}),N&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl overflow-hidden animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Staff Analytics"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Activity overview and performance metrics"})]}),i.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-slate-600 p-2",children:i.jsx(Fr,{size:24})})]}),i.jsx("div",{className:"p-6",children:Ee?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-teal-600 mx-auto"}),i.jsx("p",{className:"text-slate-500 mt-2",children:"Loading analytics..."})]}):i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[i.jsx(pr,{size:20,className:"text-teal-600"}),"Recent Activity"]}),i.jsxs("div",{className:"space-y-3",children:[he.map((V,Le)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[i.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${V.severity==="CRITICAL"?"bg-red-500":V.severity==="WARNING"?"bg-amber-500":"bg-blue-500"}`}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-900",children:V.action}),i.jsxs("p",{className:"text-xs text-slate-500",children:[V.entityType&&`${V.entityType}  `,new Date(V.timestamp||"").toLocaleString()]})]}),i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V.severity==="CRITICAL"?"bg-red-100 text-red-700":V.severity==="WARNING"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:V.severity})]})})]},V.id||Le)),he.length===0&&i.jsx("p",{className:"text-slate-500 text-center py-4",children:"No recent activity found"})]})]})})})]})}),L&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Export Staff Data"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Download staff information as CSV file"})]}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(vi,{size:20,className:"text-teal-600"}),i.jsx("span",{className:"font-medium text-slate-900",children:"CSV Export"})]}),i.jsxs("p",{className:"text-sm text-slate-600",children:["Export ",ce.length," staff records with all available information including contact details, roles, and branch assignments."]})]}),i.jsxs("div",{className:"text-sm text-slate-500",children:[i.jsx("p",{children:" File format: CSV (Comma Separated Values)"}),i.jsx("p",{children:" Includes: Name, Username, Email, Phone, Role, Branch, Status, Join Date, Last Login"}),i.jsx("p",{children:" Ready for Excel, Google Sheets, or other spreadsheet applications"})]})]})}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg",children:"Cancel"}),i.jsxs("button",{onClick:Mr,className:"px-4 py-2 bg-teal-600 text-white font-medium hover:bg-teal-700 rounded-lg flex items-center gap-2",children:[i.jsx(hi,{size:18}),"Export CSV"]})]})]})}),q&&B&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl overflow-hidden animate-in fade-in zoom-in duration-200 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[i.jsx(pi,{size:24,className:"text-teal-600"}),B.replace("_"," ")," Permissions"]}),i.jsx("p",{className:"text-slate-500 text-sm mt-1",children:$t(B).description})]}),i.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-slate-600 p-2",children:i.jsx(Fr,{size:24})})]}),i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Granted Permissions"}),i.jsx("div",{className:"grid gap-3",children:$t(B).permissions.map((V,Le)=>i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-lg",children:[i.jsx(kt,{size:18,className:"text-teal-600 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-slate-700",children:V})]},Le))}),$t(B).permissions.length===0&&i.jsxs("div",{className:"text-center py-8 text-slate-500",children:[i.jsx(pi,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No specific permissions defined for this role"})]})]})}),i.jsx("div",{className:"p-6 bg-slate-50 flex justify-end",children:i.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 bg-teal-600 text-white font-medium hover:bg-teal-700 rounded-lg",children:"Close"})})]})})]})},UH=({currentBranchId:e})=>{var Se,Re,Y,le;const{showSuccess:t,showError:n}=Ei(),[r,o]=M.useState("patients"),[l,u]=M.useState([]),[d,f]=M.useState([]),[p,g]=M.useState([]),[m,v]=M.useState(""),[w,_]=M.useState(!0),[x,b]=M.useState(!1),[E,A]=M.useState(null),[T,P]=M.useState({name:"",age:void 0,gender:"Male",phone:"",email:"",address:"",emergencyContact:"",emergencyPhone:"",allergies:[],medicalConditions:[],currentMedications:[]}),[N,C]=M.useState(!1),[I,R]=M.useState(null),[L,W]=M.useState({doctorName:"",diagnosis:"",notes:"",items:[]}),[q,D]=M.useState(null),[B,ee]=M.useState(!1),[Q,ae]=M.useState(null),[oe,J]=M.useState({weight:"",doseMgPerKg:"",concentrationMgPerMl:""}),[F,X]=M.useState(null);M.useEffect(()=>{(async()=>{_(!0);try{const[he,Te,Ee]=await Promise.all([$e.getBranches(),$e.getPatients(),$e.getPrescriptions()]);g(he||[]),u(Te||[]),f(Ee||[])}catch(he){console.error("Failed to load clinical data:",he),n("Data Loading Error","Failed to load clinical data from database.")}finally{_(!1)}})()},[]);const O=e==="HEAD_OFFICE",H=((Se=p.find(te=>te.id===e))==null?void 0:Se.name)||"Unknown Branch",fe=l.filter(te=>(O||te.branchId===e)&&te.name.toLowerCase().includes(m.toLowerCase())),G=()=>{const te=parseFloat(oe.weight),he=parseFloat(oe.doseMgPerKg),Te=parseFloat(oe.concentrationMgPerMl);if(te&&he&&Te){const Ue=te*he/Te;X(`${Ue.toFixed(2)} ml`)}},pe=te=>{var Te;const he=(Te=te.target.files)==null?void 0:Te[0];if(he){const Ee=new FileReader;Ee.onloadend=()=>{D(Ee.result),ae(null)},Ee.readAsDataURL(he)}},me=async()=>{q&&(ee(!0),setTimeout(()=>{ae({patientName:"Sample Patient",medicines:[{name:"Paracetamol 500mg",dosage:"500mg",frequency:"3x daily"},{name:"Amoxicillin 250mg",dosage:"250mg",frequency:"2x daily"}]}),ee(!1)},2e3))},ne=async()=>{if(!T.name){n("Validation Error","Patient name is required.");return}try{const te={name:T.name||"",age:T.age,gender:T.gender||"Male",phone:T.phone||"",email:T.email||"",address:T.address||"",emergencyContact:T.emergencyContact||"",emergencyPhone:T.emergencyPhone||"",allergies:T.allergies||[],medicalConditions:T.medicalConditions||[],currentMedications:T.currentMedications||[],branchId:e,lastVisit:new Date().toISOString()},he=await $e.createPatient(te);u(Te=>[he,...Te]),b(!1),P({name:"",age:void 0,gender:"Male",phone:"",email:"",address:"",emergencyContact:"",emergencyPhone:"",allergies:[],medicalConditions:[],currentMedications:[]}),t("Patient Added",`${he.name} has been added to the database.`)}catch(te){console.error("Failed to create patient:",te),n("Creation Failed","Failed to save patient to database. Please try again.")}},ve=async()=>{if(E)try{const te=await $e.updatePatient(E.id,T);u(he=>he.map(Te=>Te.id===E.id?te:Te)),b(!1),A(null),t("Patient Updated","Patient information has been updated in the database.")}catch(te){console.error("Failed to update patient:",te),n("Update Failed","Failed to update patient in database. Please try again.")}},re=te=>{te?(A(te),P(te)):(A(null),P({name:"",age:void 0,gender:"Male",phone:"",email:"",address:"",emergencyContact:"",emergencyPhone:"",allergies:[],medicalConditions:[],currentMedications:[]})),b(!0)},ge=async()=>{if(!I||!L.doctorName){n("Validation Error","Patient and doctor name are required.");return}try{const te={patientId:I.id,doctorName:L.doctorName||"",diagnosis:L.diagnosis||"",notes:L.notes||"",status:"ACTIVE",branchId:e,items:L.items||[]},he=await $e.createPrescription(te);f(Te=>[he,...Te]),C(!1),R(null),W({doctorName:"",diagnosis:"",notes:"",items:[]}),t("Prescription Created","Prescription has been saved to the database.")}catch(te){console.error("Failed to create prescription:",te),n("Creation Failed","Failed to save prescription to database. Please try again.")}},xe=()=>{const te={medicationName:"",dosage:"",frequency:"",duration:"",quantityPrescribed:1};W(he=>({...he,items:[...he.items||[],te]}))},$=(te,he,Te)=>{W(Ee=>{var Ue;return{...Ee,items:(Ue=Ee.items)==null?void 0:Ue.map((je,ot)=>ot===te?{...je,[he]:Te}:je)}})},Ae=te=>{W(he=>{var Te;return{...he,items:(Te=he.items)==null?void 0:Te.filter((Ee,Ue)=>Ue!==te)}})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Clinical & Rx"}),i.jsx("p",{className:"text-slate-500 mt-1",children:O?"Centralized Patient & Prescription Records":`Clinical Services at ${H}`})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>o("patients"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all flex items-center gap-2 ${r==="patients"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[i.jsx(Da,{size:16})," Patients (EMR)"]}),i.jsxs("button",{onClick:()=>o("rx"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all flex items-center gap-2 ${r==="rx"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[i.jsx(P1,{size:16})," Smart Rx Scan"]}),i.jsxs("button",{onClick:()=>o("tools"),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all flex items-center gap-2 ${r==="tools"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[i.jsx(j1,{size:16})," Dosage Calc"]})]})]}),r==="patients"&&i.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 space-y-4",children:w?i.jsxs("div",{className:"bg-white p-8 rounded-xl border border-slate-100 shadow-sm text-center",children:[i.jsx(pr,{className:"animate-spin mx-auto mb-4 text-teal-600",size:32}),i.jsx("p",{children:"Loading patient records..."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex gap-4 bg-white p-4 rounded-xl border border-slate-100 shadow-sm",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search Patient Name or ID...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",value:m,onChange:te=>v(te.target.value)})]}),i.jsxs("button",{onClick:()=>re(),className:"flex items-center gap-2 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-medium text-sm shadow-md",children:[i.jsx(GP,{size:18})," New Patient"]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Patient Name"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Age / Gender"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Phone"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Allergies"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Last Visit"}),i.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-slate-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:fe.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-400",children:[i.jsx(Da,{size:48,className:"mx-auto mb-2 opacity-20"}),i.jsx("p",{children:"No patients found. Add your first patient to get started."})]})}):fe.map(te=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsxs("td",{className:"px-6 py-4",children:[i.jsx("div",{className:"font-bold text-slate-800",children:te.name}),i.jsxs("div",{className:"text-xs text-slate-400",children:["ID: ",te.id]})]}),i.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[te.age," yrs / ",te.gender]}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:te.phone}),i.jsx("td",{className:"px-6 py-4",children:te.allergies&&te.allergies.length>0?i.jsx("div",{className:"flex flex-wrap gap-1",children:te.allergies.map(he=>i.jsx("span",{className:"px-2 py-0.5 bg-rose-100 text-rose-700 rounded text-xs font-bold",children:he},he))}):i.jsx("span",{className:"text-slate-400 text-xs italic",children:"None Recorded"})}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:te.lastVisit?new Date(te.lastVisit).toLocaleDateString():"Never"}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>re(te),className:"text-teal-600 hover:underline text-sm font-medium",children:"Edit"}),i.jsx("button",{onClick:()=>{R(te),C(!0)},className:"text-blue-600 hover:underline text-sm font-medium",children:"New Rx"})]})})]},te.id))})]})})]})}),r==="rx"&&i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 flex flex-col items-center justify-center min-h-[400px]",children:q?i.jsxs("div",{className:"w-full h-full flex flex-col",children:[i.jsxs("div",{className:"relative flex-1 rounded-xl overflow-hidden border border-slate-200 bg-slate-50 mb-4 group",children:[i.jsx("img",{src:q,alt:"Prescription",className:"w-full h-full object-contain"}),i.jsx("button",{onClick:()=>D(null),className:"absolute top-2 right-2 bg-white/90 p-2 rounded-full text-rose-600 shadow-sm opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx(ra,{size:18})})]}),i.jsx("button",{onClick:me,disabled:B,className:"w-full py-4 bg-teal-600 text-white font-bold rounded-xl hover:bg-teal-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:B?i.jsxs(i.Fragment,{children:["Analyzing ",i.jsx(pr,{className:"animate-spin",size:16})]}):i.jsxs(i.Fragment,{children:["Digitize with AI ",i.jsx(P1,{size:16})]})})]}):i.jsxs("div",{className:"text-center w-full",children:[i.jsx("div",{className:"w-20 h-20 bg-teal-50 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(Gc,{size:32,className:"text-teal-600"})}),i.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-2",children:"Upload Prescription Image"}),i.jsx("p",{className:"text-slate-500 mb-6 max-w-sm mx-auto",children:"Drag and drop a prescription photo or scan here."}),i.jsxs("label",{className:"cursor-pointer bg-teal-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-teal-700 transition-all shadow-lg inline-block",children:["Select Image",i.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:pe})]})]})}),i.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-slate-100 flex flex-col",children:[i.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-6 flex items-center gap-2",children:[i.jsx(vi,{className:"text-teal-600"}),"Extraction Results"]}),Q?i.jsx("div",{className:"space-y-6 flex-1",children:Q.error?i.jsxs("div",{className:"p-4 bg-rose-50 text-rose-700 rounded-lg",children:["Error: ",Q.error]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-teal-50 rounded-xl border border-teal-100",children:[i.jsx("h4",{className:"font-bold text-teal-800 text-sm uppercase mb-2",children:"Patient Details"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Da,{size:16,className:"text-teal-600"}),i.jsx("span",{className:"text-slate-700 font-medium",children:Q.patientName||"Not Detected"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-500 text-sm uppercase mb-3",children:"Identified Medicines"}),i.jsx("div",{className:"space-y-3",children:(Re=Q.medicines)==null?void 0:Re.map((te,he)=>i.jsxs("div",{className:"flex justify-between items-center p-3 border border-slate-100 rounded-lg hover:border-teal-200 transition-colors",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-slate-800",children:te.name}),i.jsxs("div",{className:"text-xs text-slate-500",children:[te.dosage,"  ",te.frequency]})]}),i.jsx(kt,{size:18,className:"text-teal-600"})]},he))})]}),i.jsx("div",{className:"mt-auto pt-6",children:i.jsx("button",{className:"w-full py-3 border border-teal-600 text-teal-600 font-bold rounded-xl hover:bg-teal-50 transition-all",children:"Add to Patient Record"})})]})}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 text-center p-8",children:[i.jsx(pr,{size:48,className:"mb-4 opacity-20"}),i.jsx("p",{children:"Upload and analyze a prescription to see results here."})]})]})]}),r==="tools"&&i.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 max-w-2xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"bg-slate-900 p-6 text-white",children:[i.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[i.jsx(j1,{className:"text-teal-400"})," Pediatric Dosage Calculator"]}),i.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Calculate safe liquid dosage volume based on weight."})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Patient Weight (kg)"}),i.jsx("input",{type:"number",className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"e.g. 12",value:oe.weight,onChange:te=>J({...oe,weight:te.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Target Dose (mg/kg)"}),i.jsx("input",{type:"number",className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"e.g. 15",value:oe.doseMgPerKg,onChange:te=>J({...oe,doseMgPerKg:te.target.value})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Drug Concentration (mg/ml)"}),i.jsx("input",{type:"number",className:"w-full p-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-teal-500 outline-none",placeholder:"e.g. 24",value:oe.concentrationMgPerMl,onChange:te=>J({...oe,concentrationMgPerMl:te.target.value})})]}),i.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[i.jsx("button",{onClick:G,className:"px-8 py-3 bg-teal-600 text-white font-bold rounded-xl hover:bg-teal-700 shadow-lg",children:"Calculate"}),F&&i.jsxs("div",{className:"flex items-center gap-3 animate-in fade-in",children:[i.jsx(iu,{className:"text-slate-400"}),i.jsx("div",{className:"text-2xl font-bold text-teal-700",children:F})]})]})]}),i.jsxs("div",{className:"bg-slate-50 p-4 text-xs text-slate-500 text-center border-t border-slate-100",children:[i.jsx("strong",{children:"Disclaimer:"})," For estimation only. Always verify with medical guidelines."]})]})}),x&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:E?"Edit Patient":"Add New Patient"})}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("input",{type:"text",placeholder:"Full Name *",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:T.name||"",onChange:te=>P({...T,name:te.target.value})}),i.jsx("input",{type:"number",placeholder:"Age",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:T.age||"",onChange:te=>P({...T,age:parseInt(te.target.value)||void 0})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("select",{className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:T.gender||"Male",onChange:te=>P({...T,gender:te.target.value}),children:[i.jsx("option",{value:"Male",children:"Male"}),i.jsx("option",{value:"Female",children:"Female"}),i.jsx("option",{value:"Other",children:"Other"})]}),i.jsx("input",{type:"tel",placeholder:"Phone",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:T.phone||"",onChange:te=>P({...T,phone:te.target.value})})]}),i.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:T.email||"",onChange:te=>P({...T,email:te.target.value})}),i.jsx("textarea",{placeholder:"Address",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",rows:2,value:T.address||"",onChange:te=>P({...T,address:te.target.value})}),i.jsx("input",{type:"text",placeholder:"Allergies (comma-separated)",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:((Y=T.allergies)==null?void 0:Y.join(", "))||"",onChange:te=>P({...T,allergies:te.target.value.split(",").map(he=>he.trim()).filter(he=>he)})})]}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg",children:"Cancel"}),i.jsxs("button",{onClick:E?ve:ne,className:"px-4 py-2 bg-teal-600 text-white font-medium hover:bg-teal-700 rounded-lg",children:[E?"Update":"Add"," Patient"]})]})]})}),N&&I&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"New Prescription"}),i.jsxs("p",{className:"text-slate-500 text-sm",children:["Create prescription for ",I.name]})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("input",{type:"text",placeholder:"Doctor Name *",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:L.doctorName||"",onChange:te=>W({...L,doctorName:te.target.value})}),i.jsx("input",{type:"text",placeholder:"Diagnosis",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",value:L.diagnosis||"",onChange:te=>W({...L,diagnosis:te.target.value})}),i.jsx("textarea",{placeholder:"Notes",className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none",rows:2,value:L.notes||"",onChange:te=>W({...L,notes:te.target.value})}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h4",{className:"font-bold text-slate-800",children:"Medications"}),i.jsxs("button",{onClick:xe,className:"flex items-center gap-2 px-3 py-1 bg-teal-600 text-white rounded-lg text-sm hover:bg-teal-700",children:[i.jsx(na,{size:14})," Add"]})]}),i.jsx("div",{className:"space-y-3",children:(le=L.items)==null?void 0:le.map((te,he)=>i.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[i.jsx("input",{type:"text",placeholder:"Medicine Name",className:"p-2 border border-slate-300 rounded text-sm",value:te.medicationName||"",onChange:Te=>$(he,"medicationName",Te.target.value)}),i.jsx("input",{type:"text",placeholder:"Dosage (e.g. 500mg)",className:"p-2 border border-slate-300 rounded text-sm",value:te.dosage||"",onChange:Te=>$(he,"dosage",Te.target.value)}),i.jsx("input",{type:"text",placeholder:"Frequency (e.g. 3x daily)",className:"p-2 border border-slate-300 rounded text-sm",value:te.frequency||"",onChange:Te=>$(he,"frequency",Te.target.value)}),i.jsx("input",{type:"number",placeholder:"Quantity",className:"p-2 border border-slate-300 rounded text-sm",value:te.quantityPrescribed||1,onChange:Te=>$(he,"quantityPrescribed",parseInt(Te.target.value))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("input",{type:"text",placeholder:"Duration (e.g. 7 days)",className:"flex-1 p-2 border border-slate-300 rounded text-sm mr-2",value:te.duration||"",onChange:Te=>$(he,"duration",Te.target.value)}),i.jsx("button",{onClick:()=>Ae(he),className:"text-rose-600 hover:bg-rose-50 p-2 rounded-lg",children:i.jsx(ra,{size:16})})]})]},he))})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 flex justify-end gap-3 border-t border-slate-100",children:[i.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-200 rounded-lg",children:"Cancel"}),i.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-teal-600 text-white font-medium hover:bg-teal-700 rounded-lg flex items-center gap-2",children:[i.jsx(Yd,{size:16})," Create"]})]})]})})]})},BH=({currentBranchId:e,inventory:t,sales:n,expenses:r})=>{var J;const[o,l]=M.useState("finance"),[u,d]=M.useState(""),[f,p]=M.useState([]),[g,m]=M.useState([]),[v,w]=M.useState([]),[_,x]=M.useState([]),[b,E]=M.useState(!0),[A,T]=M.useState(null),[P,N]=M.useState(new Date),[C,I]=M.useState({activeUsers:0,pendingApprovals:0,systemAlerts:0,recentTransactions:0});M.useEffect(()=>{let F=!0;const X=async()=>{try{T(null);const[H,fe,G,pe]=await Promise.all([$e.getBranches(),$e.getProducts(),$e.getAuditLogs(),$e.getSessions()]);if(F){p(H||[]),m(fe||[]),w(G||[]),x(pe||[]),N(new Date);const me=(G==null?void 0:G.filter(re=>new Date(re.timestamp||"").getTime()>Date.now()-1440*60*1e3))||[],ne=me.filter(re=>re.action.includes("PENDING")||re.action.includes("REQUEST")).length,ve=me.filter(re=>re.severity==="CRITICAL"||re.severity==="WARNING").length;I({activeUsers:_.length,pendingApprovals:ne,systemAlerts:ve,recentTransactions:me.filter(re=>re.action.includes("SALE")||re.action.includes("PAYMENT")).length})}}catch(H){console.error("Failed to load report data:",H),F&&(T("Failed to load report data. Some features may be limited."),p([]),m([]),w([]),x([]))}finally{F&&E(!1)}};X();const O=setInterval(()=>{F&&X()},3e4);return()=>{F=!1,clearInterval(O)}},[]);const R=e==="HEAD_OFFICE",L=((J=f.find(F=>F.id===e))==null?void 0:J.name)||"All Branches",W=M.useMemo(()=>R?n:n.filter(F=>F.branchId===e),[n,e,R]),q=M.useMemo(()=>R?r:r.filter(F=>F.branchId===e),[r,e,R]),D=M.useMemo(()=>{const F=W.reduce((ge,xe)=>{const $=xe.totalAmount||xe.total||0;return ge+(typeof $=="number"?$:0)},0),X=W.reduce((ge,xe)=>{const $=xe.profit||0;return ge+(typeof $=="number"?$:0)},0),O=q.reduce((ge,xe)=>ge+(typeof xe.amount=="number"?xe.amount:0),0),H=W.reduce((ge,xe)=>{const $=xe.totalCost||0;return ge+(typeof $=="number"?$:0)},0),fe=F>0?X/F*100:0,G=X-O,pe=F>0?G/F*100:0,me=F>0?O/F*100:0,ne=W.length,ve=ne>0?F/ne:0,re=q.reduce((ge,xe)=>{const $=xe.category||"Other";return ge[$]=(ge[$]||0)+xe.amount,ge},{});return{revenue:F,profit:X,expenses:O,cogs:H,netProfit:G,grossMargin:fe,netMargin:pe,expenseRatio:me,totalTransactions:ne,averageTransaction:ve,expenseByCategory:re}},[W,q]);M.useMemo(()=>Array.from({length:7},(X,O)=>{const H=new Date;return H.setDate(H.getDate()-(6-O)),H.toISOString().split("T")[0]}).map(X=>{const H=W.filter(fe=>(fe.date||"").startsWith(X)).reduce((fe,G)=>{const pe=G.totalAmount||G.total||0;return fe+(typeof pe=="number"?pe:0)},0);return{name:new Date(X).toLocaleDateString("en-US",{weekday:"short"}),sales:H}}),[W]);const B=M.useMemo(()=>{const F=R?Object.keys(t):[e];let X=0,O=0,H=0,fe=0;const G=[];F.forEach(ge=>{(t[ge]||[]).forEach($=>{var Se;const Ae=g.find(Re=>Re.id===$.productId);if(Ae){const Re=Ae.costPrice||Ae.price||0,Y=$.customPrice||Ae.price||0,le=typeof $.quantity=="number"?$.quantity:0,te=le*Re;X+=te,O+=le,le===0?fe++:le<=(Ae.minStockLevel||10)&&H++,G.push({productId:Ae.id,name:Ae.name,category:Ae.category,quantity:le,value:te,costPrice:Re,sellingPrice:Y,margin:Y>0?(Y-Re)/Y*100:0,turnoverRate:0,stockStatus:le===0?"out_of_stock":le<=(Ae.minStockLevel||10)?"low_stock":"normal",batches:((Se=$.batches)==null?void 0:Se.length)||0})}})});const pe=G.sort((ge,xe)=>xe.value-ge.value),me=pe.reduce((ge,xe)=>ge+xe.value,0);let ne=0;const ve=pe.map((ge,xe)=>{ne+=ge.value;const $=ne/me*100;let Ae="C";return $<=80?Ae="A":$<=95&&(Ae="B"),{...ge,abcClass:Ae,cumulativeValue:ne,cumulativePercent:$}}),re={fastMoving:G.filter(ge=>ge.turnoverRate>6).length,slowMoving:G.filter(ge=>ge.turnoverRate<2).length,averageTurnover:G.reduce((ge,xe)=>ge+xe.turnoverRate,0)/G.length};return{totalValuation:X,totalStock:O,lowStockItems:H,outOfStockItems:fe,productAnalytics:G,abcAnalysis:ve,turnoverAnalysis:re,stockEfficiency:O>0?X/O:0}},[t,e,R,g]),ee=M.useMemo(()=>v.filter(F=>{var H,fe,G;const X=R?!0:F.branchId===e,O=((H=F.details)==null?void 0:H.toLowerCase().includes(u.toLowerCase()))||((fe=F.action)==null?void 0:fe.toLowerCase().includes(u.toLowerCase()))||((G=F.userName)==null?void 0:G.toLowerCase().includes(u.toLowerCase()));return X&&O}),[v,u,e,R]),Q=M.useMemo(()=>v.filter(X=>{const O=new Date(X.timestamp||"").getTime();return Date.now()-O<864e5}).sort((X,O)=>new Date(O.timestamp||"").getTime()-new Date(X.timestamp||"").getTime()).slice(0,10).map(X=>{var O,H,fe,G,pe,me;return{id:X.id,type:(O=X.action)!=null&&O.includes("CREATE")?"create":(H=X.action)!=null&&H.includes("UPDATE")?"update":(fe=X.action)!=null&&fe.includes("DELETE")?"delete":(G=X.action)!=null&&G.includes("APPROVE")?"approve":"info",title:((pe=X.action)==null?void 0:pe.replace(/_/g," "))||"Activity",description:X.details||"",user:X.userName||"System",timestamp:X.timestamp||"",branch:((me=f.find(ne=>ne.id===X.branchId))==null?void 0:me.name)||X.branchId,severity:X.severity}}),[v,f]),ae=(F,X)=>{if(!F||F.length===0){alert("No data available to export.");return}try{const O=Object.keys(F[0]),H=[O.join(","),...F.map(me=>O.map(ne=>{const ve=me[ne];return typeof ve=="string"&&ve.includes(",")?`"${ve}"`:typeof ve=="number"?ve:ve||""}).join(","))].join(`\r
`),fe=new Blob([H],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a"),pe=URL.createObjectURL(fe);G.setAttribute("href",pe),G.setAttribute("download",X),G.style.visibility="hidden",document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(pe)}catch(O){console.error("Export failed:",O),alert("Failed to export data. Please try again.")}},oe=F=>{if(F==="PDF"){window.print();return}let X=[];const O=new Date().toISOString().split("T")[0],H=L.replace(/\s+/g,"_"),fe=`PMS_${o}_Report_${H}_${O}.csv`;try{o==="finance"?(X=W.map(G=>{var pe;return{ID:G.id,Date:G.date||"",Total_Amount:G.totalAmount||G.total||0,Profit:G.profit||0,Payment_Method:G.paymentMethod||"Unknown",Branch:((pe=f.find(me=>me.id===G.branchId))==null?void 0:pe.name)||G.branchId}}),X.length>0&&(X.push({}),X.push({ID:"TOTAL_SUMMARY",Total_Amount:D.revenue,Profit:D.profit,Branch:R?"All Branches":L}))):o==="inventory"?(R?Object.keys(t):[e]).forEach(pe=>{var ve;const me=((ve=f.find(re=>re.id===pe))==null?void 0:ve.name)||pe;(t[pe]||[]).forEach(re=>{const ge=g.find(xe=>xe.id===re.productId);ge&&X.push({Branch:me,Product_ID:ge.id,Product_Name:ge.name,Generic_Name:ge.genericName,Category:ge.category,Quantity:re.quantity,Unit:ge.unit,Selling_Price:re.customPrice||ge.price,Total_Value:re.quantity*(re.customPrice||ge.price),Batches:re.batches.map(xe=>`${xe.batchNumber}(${xe.expiryDate})`).join("; ")})})}):o==="audit"&&(X=ee.map(G=>{var pe;return{ID:G.id,Timestamp:G.timestamp,User:G.userName,Action:G.action,Details:G.details,Branch:((pe=f.find(me=>me.id===G.branchId))==null?void 0:pe.name)||G.branchId,Severity:G.severity}})),ae(X,fe)}catch(G){console.error("Export preparation failed:",G),alert("Failed to prepare export. Please try again.")}};return b?i.jsx("div",{className:"flex items-center justify-center h-96 bg-white rounded-2xl shadow-sm border border-slate-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx(bl,{className:"animate-spin mx-auto mb-4 text-teal-600",size:32}),i.jsx("p",{className:"text-slate-600",children:"Loading reports..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Reports & Analytics"}),i.jsx("p",{className:"text-slate-500 mt-1",children:R?"Global Intelligence Hub":`Performance Reports for ${L}`})]}),i.jsxs("div",{className:"flex gap-2 no-print",children:[i.jsxs("button",{onClick:()=>oe("PDF"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 font-medium text-sm shadow-sm transition-colors",children:[i.jsx(hi,{size:16})," Export PDF"]}),i.jsxs("button",{onClick:()=>oe("Excel"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 font-medium text-sm shadow-sm transition-colors",children:[i.jsx(bR,{size:16})," Export Excel"]})]})]}),A&&i.jsxs("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-xl text-amber-800 text-sm flex items-center gap-2",children:[i.jsx(Bn,{size:18}),A]}),i.jsxs("div",{className:"flex gap-1 bg-slate-100 p-1 rounded-xl w-fit no-print",children:[i.jsxs("button",{onClick:()=>l("finance"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${o==="finance"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[i.jsx(Pr,{size:16})," Financials"]}),i.jsxs("button",{onClick:()=>l("inventory"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${o==="inventory"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[i.jsx(pr,{size:16})," Inventory Health"]}),i.jsxs("button",{onClick:()=>l("activity"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${o==="activity"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[i.jsx(pr,{size:16})," Live Activity"]}),i.jsxs("button",{onClick:()=>l("audit"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${o==="audit"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[i.jsx(bh,{size:16})," Audit Trail"]})]}),i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o==="finance"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Total Revenue"}),i.jsxs("h3",{className:"text-3xl font-bold text-slate-800",children:[(D.revenue/1e6).toFixed(1),"M",i.jsx("span",{className:"text-sm text-slate-400 font-normal",children:" TZS"})]}),i.jsxs("div",{className:"mt-2 text-xs text-emerald-600 font-bold bg-emerald-50 inline-block px-2 py-1 rounded",children:[D.totalTransactions," transactions"]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Net Profit"}),i.jsxs("h3",{className:"text-3xl font-bold text-slate-800",children:[(D.netProfit/1e6).toFixed(1),"M",i.jsx("span",{className:"text-sm text-slate-400 font-normal",children:" TZS"})]}),i.jsxs("div",{className:"mt-2 text-xs text-blue-600 font-bold bg-blue-50 inline-block px-2 py-1 rounded",children:["Net Margin: ",D.netMargin.toFixed(1),"%"]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Gross Margin"}),i.jsxs("h3",{className:"text-3xl font-bold text-slate-800",children:[D.grossMargin.toFixed(1),"%"]}),i.jsxs("div",{className:"mt-2 text-xs text-emerald-600 font-bold bg-emerald-50 inline-block px-2 py-1 rounded",children:["Avg Transaction: ",(D.averageTransaction/1e3).toFixed(0),"K TZS"]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Op. Expenses"}),i.jsxs("h3",{className:"text-3xl font-bold text-slate-800",children:[(D.expenses/1e6).toFixed(1),"M",i.jsx("span",{className:"text-sm text-slate-400 font-normal",children:" TZS"})]}),i.jsxs("div",{className:"mt-2 text-xs text-rose-600 font-bold bg-rose-50 inline-block px-2 py-1 rounded",children:[D.expenseRatio.toFixed(1),"% of revenue"]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 break-inside-avoid",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"Expense Breakdown by Category"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(D.expenseByCategory).map(([F,X])=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium text-slate-700",children:F}),i.jsxs("span",{className:"text-sm font-bold text-slate-800",children:[(X/1e3).toFixed(0),"K TZS"]})]},F))})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 break-inside-avoid",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-6",children:"Revenue Trend (7 Days)"}),i.jsx("div",{className:"h-72 bg-slate-50 rounded-lg flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-slate-500",children:[i.jsx(Pr,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Chart visualization requires additional setup"}),i.jsx("p",{className:"text-sm mt-2",children:"Revenue data available for export"})]})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 break-inside-avoid",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-6",children:"Sales by Category"}),i.jsx("div",{className:"h-72 bg-slate-50 rounded-lg flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-slate-500",children:[i.jsx(Wc,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Chart visualization requires additional setup"}),i.jsx("p",{className:"text-sm mt-2",children:"Category data available for export"})]})})]})]})]}),o==="inventory"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Total Stock Value"}),i.jsxs("h3",{className:"text-3xl font-bold text-slate-800",children:[(B.totalValuation/1e6).toFixed(1),"M",i.jsx("span",{className:"text-sm text-slate-400 font-normal",children:" TZS"})]}),i.jsxs("div",{className:"mt-2 text-xs text-emerald-600 font-bold bg-emerald-50 inline-block px-2 py-1 rounded",children:[B.totalStock," units total"]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Stock Efficiency"}),i.jsxs("h3",{className:"text-3xl font-bold text-slate-800",children:[(B.stockEfficiency/1e3).toFixed(0),"K",i.jsx("span",{className:"text-sm text-slate-400 font-normal",children:" TZS/unit"})]}),i.jsx("div",{className:"mt-2 text-xs text-blue-600 font-bold bg-blue-50 inline-block px-2 py-1 rounded",children:"Avg cost per unit"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Low Stock Alerts"}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:B.lowStockItems}),i.jsx("div",{className:"mt-2 text-xs text-amber-600 font-bold bg-amber-50 inline-block px-2 py-1 rounded",children:"Need attention"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Out of Stock"}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:B.outOfStockItems}),i.jsx("div",{className:"mt-2 text-xs text-rose-600 font-bold bg-rose-50 inline-block px-2 py-1 rounded",children:"Critical items"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 break-inside-avoid",children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx(Wc,{size:20,className:"text-teal-600"})," ABC Analysis"]}),i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Product classification by value contribution"}),i.jsx("div",{className:"space-y-3",children:B.abcAnalysis.slice(0,8).map((F,X)=>i.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-lg border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${F.abcClass==="A"?"bg-green-100 text-green-700":F.abcClass==="B"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:F.abcClass}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-800 text-sm",children:F.name}),i.jsxs("p",{className:"text-xs text-slate-500",children:[F.quantity," units"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-bold text-slate-800",children:[(F.value/1e3).toFixed(0),"K TZS"]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[F.cumulativePercent.toFixed(1),"% cumulative"]})]})]},F.productId))})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 break-inside-avoid",children:[i.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[i.jsx(Pr,{size:20,className:"text-purple-600"})," Stock Turnover Analysis"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("p",{className:"text-2xl font-bold text-green-700",children:B.turnoverAnalysis.fastMoving}),i.jsx("p",{className:"text-xs text-green-600",children:"Fast Moving"}),i.jsx("p",{className:"text-xs text-slate-500",children:"6 turns/year"})]}),i.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:B.productAnalytics.length-B.turnoverAnalysis.fastMoving-B.turnoverAnalysis.slowMoving}),i.jsx("p",{className:"text-xs text-blue-600",children:"Normal"}),i.jsx("p",{className:"text-xs text-slate-500",children:"2-6 turns/year"})]}),i.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[i.jsx("p",{className:"text-2xl font-bold text-red-700",children:B.turnoverAnalysis.slowMoving}),i.jsx("p",{className:"text-xs text-red-600",children:"Slow Moving"}),i.jsx("p",{className:"text-xs text-slate-500",children:"2 turns/year"})]})]}),i.jsx("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Average Turnover Rate"}),i.jsxs("span",{className:"text-lg font-bold text-slate-800",children:[B.turnoverAnalysis.averageTurnover.toFixed(1)," turns/year"]})]})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 break-inside-avoid",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"Top Products by Inventory Value"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 font-semibold text-slate-600",children:"Product"}),i.jsx("th",{className:"px-4 py-3 font-semibold text-slate-600",children:"Category"}),i.jsx("th",{className:"px-4 py-3 font-semibold text-slate-600 text-center",children:"Stock"}),i.jsx("th",{className:"px-4 py-3 font-semibold text-slate-600 text-center",children:"Value"}),i.jsx("th",{className:"px-4 py-3 font-semibold text-slate-600 text-center",children:"Margin"}),i.jsx("th",{className:"px-4 py-3 font-semibold text-slate-600 text-center",children:"ABC Class"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:B.abcAnalysis.slice(0,10).map(F=>i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-4 py-3 font-medium text-slate-800",children:F.name}),i.jsx("td",{className:"px-4 py-3 text-slate-600",children:F.category}),i.jsx("td",{className:"px-4 py-3 text-center font-bold text-slate-700",children:F.quantity}),i.jsxs("td",{className:"px-4 py-3 text-center font-bold text-slate-700",children:[(F.value/1e3).toFixed(0),"K TZS"]}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsxs("span",{className:`px-2 py-1 rounded text-xs font-bold ${F.margin>50?"bg-green-100 text-green-700":F.margin>30?"bg-blue-100 text-blue-700":"bg-amber-100 text-amber-700"}`,children:[F.margin.toFixed(0),"%"]})}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${F.abcClass==="A"?"bg-green-100 text-green-700":F.abcClass==="B"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:F.abcClass})})]},F.productId))})]})})]})]}),o==="activity"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Active Users"}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:C.activeUsers})]}),i.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx(pr,{size:24,className:"text-green-600"})})]}),i.jsxs("div",{className:"mt-2 text-xs text-green-600 font-bold bg-green-50 inline-block px-2 py-1 rounded",children:["Live  ",P.toLocaleTimeString()]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Pending Approvals"}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:C.pendingApprovals})]}),i.jsx("div",{className:"h-12 w-12 bg-amber-100 rounded-full flex items-center justify-center",children:i.jsx(Bn,{size:24,className:"text-amber-600"})})]}),i.jsx("div",{className:"mt-2 text-xs text-amber-600 font-bold bg-amber-50 inline-block px-2 py-1 rounded",children:"Requires Attention"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"System Alerts"}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:C.systemAlerts})]}),i.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-full flex items-center justify-center",children:i.jsx(bh,{size:24,className:"text-red-600"})})]}),i.jsx("div",{className:"mt-2 text-xs text-red-600 font-bold bg-red-50 inline-block px-2 py-1 rounded",children:"Last 24h"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Recent Transactions"}),i.jsx("h3",{className:"text-3xl font-bold text-slate-800",children:C.recentTransactions})]}),i.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx(Pr,{size:24,className:"text-blue-600"})})]}),i.jsx("div",{className:"mt-2 text-xs text-blue-600 font-bold bg-blue-50 inline-block px-2 py-1 rounded",children:"Today"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h4",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[i.jsx(pr,{size:20,className:"text-teal-600"}),"Live Activity Feed"]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live Updates"]})]}),i.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Real-time system activity from the last 24 hours"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:Q.length===0?i.jsxs("div",{className:"p-8 text-center text-slate-400",children:[i.jsx(pr,{size:48,className:"mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No recent activity"})]}):i.jsx("div",{className:"divide-y divide-slate-100",children:Q.map((F,X)=>i.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsxs("div",{className:`p-2 rounded-lg flex-shrink-0 ${F.type==="create"?"bg-green-100 text-green-600":F.type==="update"?"bg-blue-100 text-blue-600":F.type==="delete"?"bg-red-100 text-red-600":F.type==="approve"?"bg-purple-100 text-purple-600":"bg-slate-100 text-slate-600"}`,children:[F.type==="create"&&i.jsx(na,{size:16}),F.type==="update"&&i.jsx(Pr,{size:16}),F.type==="delete"&&i.jsx(Jt,{size:16}),F.type==="approve"&&i.jsx(kt,{size:16}),F.type==="info"&&i.jsx(pr,{size:16})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("h5",{className:"font-medium text-slate-900 text-sm",children:F.title}),i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${F.severity==="CRITICAL"?"bg-red-100 text-red-700":F.severity==="WARNING"?"bg-amber-100 text-amber-700":"bg-blue-100 text-blue-700"}`,children:F.severity})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:F.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Sl,{size:12}),F.user]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Jd,{size:12}),F.branch]}),i.jsx("span",{children:new Date(F.timestamp).toLocaleString()})]})]})]})},F.id||X))})}),i.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-100",children:i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-slate-500",children:["Last updated: ",P.toLocaleTimeString()]}),i.jsxs("button",{onClick:()=>window.location.reload(),className:"text-teal-600 hover:text-teal-800 font-medium flex items-center gap-1",children:[i.jsx(pr,{size:14}),"Refresh"]})]})})]})]}),o==="audit"&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex gap-4 no-print",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search audit logs...",className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",value:u,onChange:F=>d(F.target.value)})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 bg-slate-50 px-3 py-2 rounded-lg border border-slate-200",children:[i.jsx(Sv,{size:16})," Last 30 Days"]})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500 border-b border-slate-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Timestamp"}),i.jsx("th",{className:"px-6 py-4",children:"User"}),i.jsx("th",{className:"px-6 py-4",children:"Action"}),i.jsx("th",{className:"px-6 py-4",children:"Details"}),i.jsx("th",{className:"px-6 py-4",children:"Branch"}),i.jsx("th",{className:"px-6 py-4",children:"Severity"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:ee.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-400 italic",children:"No logs found matching your criteria."})}):ee.map(F=>{var X;return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-6 py-4 text-slate-500 font-mono text-xs",children:new Date(F.timestamp).toLocaleString()}),i.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800",children:[F.userName,i.jsx("span",{className:"block text-xs text-slate-400 font-normal",children:F.userId})]}),i.jsx("td",{className:"px-6 py-4 font-bold text-slate-700 text-xs",children:F.action}),i.jsx("td",{className:"px-6 py-4 text-slate-600",children:F.details}),i.jsx("td",{className:"px-6 py-4 text-xs text-slate-500",children:((X=f.find(O=>O.id===F.branchId))==null?void 0:X.name)||F.branchId}),i.jsxs("td",{className:"px-6 py-4",children:[F.severity==="CRITICAL"&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-rose-100 text-rose-700 text-xs font-bold",children:[i.jsx(bh,{size:12})," CRITICAL"]}),F.severity==="WARNING"&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-amber-100 text-amber-700 text-xs font-bold",children:[i.jsx(Bn,{size:12})," WARNING"]}),F.severity==="INFO"&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-blue-100 text-blue-700 text-xs font-bold",children:[i.jsx(kt,{size:12})," INFO"]})]})]},F.id)})})]})})]})]})]})},zH=({currentBranchId:e,inventory:t,sales:n,expenses:r,invoices:o,onLogout:l})=>{const{showSuccess:u,showError:d}=Ei(),[f,p]=M.useState("general"),[g,m]=M.useState(!1),[v,w]=M.useState(!0),[_,x]=M.useState(""),[b,E]=M.useState(!1),[A,T]=M.useState("idle"),[P,N]=M.useState(!1),[C,I]=M.useState("idle"),[R,L]=M.useState([]),[W,q]=M.useState([]),[D,B]=M.useState({companyName:"PMS Pharmacy Ltd",tinNumber:"123-456-789",vrnNumber:"400-999-111",address:"Plot 45, Bagamoyo Road, Dar es Salaam",phone:"+255 700 123 456",email:"info@pms.co.tz",currency:"TZS",timezone:"Africa/Dar_es_Salaam",language:"English",logo:null}),[ee,Q]=M.useState({twoFactor:!0,sessionTimeout:"15",passwordExpiry:"90",enforceStrongPasswords:!0,adminPassword:"",confirmAdminPassword:""}),[ae,oe]=M.useState({lowStockEmail:!0,expiryAlertSms:!0,dailyReportSms:!1,systemUpdates:!0,emailRecipients:"admin@pms.co.tz, manager@pms.co.tz"}),[J,F]=M.useState({traPortalUrl:"http://localhost:8080/tra-api/v1",msdSyncEnabled:!0,smsGateway:"Twilio",nhifPortalId:"HOSP-001-TZ",apiKeyVisible:!1,apiKey:"sk_live_51Mk...90xZ"}),X=M.useRef(null),O=M.useRef(null);M.useEffect(()=>{let $=!0;return(async()=>{try{const[Se,Re]=await Promise.all([$e.getSettings(),Promise.resolve([])]);if(!$)return;L(Se||[]);const Y=Re||[{id:"1",device:"Chrome / Windows",ip:"192.168.1.10",location:"Dar es Salaam",active:!0,current:!0,lastActivity:new Date().toISOString()},{id:"2",device:"Mobile App / Android",ip:"105.22.11.43",location:"Dodoma",active:!0,current:!1,lastActivity:new Date(Date.now()-36e5).toISOString()}];q(Y),Se&&Se.length>0&&(B(le=>{var te,he,Te,Ee,Ue,je,ot,Be,wt;return{...le,companyName:((te=Se.find(st=>st.settingKey==="companyName"))==null?void 0:te.settingValue)||le.companyName,tinNumber:((he=Se.find(st=>st.settingKey==="tinNumber"))==null?void 0:he.settingValue)||le.tinNumber,vrnNumber:((Te=Se.find(st=>st.settingKey==="vrnNumber"))==null?void 0:Te.settingValue)||le.vrnNumber,address:((Ee=Se.find(st=>st.settingKey==="address"))==null?void 0:Ee.settingValue)||le.address,phone:((Ue=Se.find(st=>st.settingKey==="phone"))==null?void 0:Ue.settingValue)||le.phone,email:((je=Se.find(st=>st.settingKey==="email"))==null?void 0:je.settingValue)||le.email,currency:((ot=Se.find(st=>st.settingKey==="currency"))==null?void 0:ot.settingValue)||le.currency,timezone:((Be=Se.find(st=>st.settingKey==="timezone"))==null?void 0:Be.settingValue)||le.timezone,language:((wt=Se.find(st=>st.settingKey==="language"))==null?void 0:wt.settingValue)||le.language}}),Q(le=>{var te,he,Te,Ee;return{...le,twoFactor:((te=Se.find(Ue=>Ue.settingKey==="twoFactor"))==null?void 0:te.settingValue)==="true"||le.twoFactor,sessionTimeout:((he=Se.find(Ue=>Ue.settingKey==="sessionTimeout"))==null?void 0:he.settingValue)||le.sessionTimeout,passwordExpiry:((Te=Se.find(Ue=>Ue.settingKey==="passwordExpiry"))==null?void 0:Te.settingValue)||le.passwordExpiry,enforceStrongPasswords:((Ee=Se.find(Ue=>Ue.settingKey==="enforceStrongPasswords"))==null?void 0:Ee.settingValue)==="true"||le.enforceStrongPasswords}}),oe(le=>{var te,he,Te,Ee,Ue;return{...le,lowStockEmail:((te=Se.find(je=>je.settingKey==="lowStockEmail"))==null?void 0:te.settingValue)==="true"||le.lowStockEmail,expiryAlertSms:((he=Se.find(je=>je.settingKey==="expiryAlertSms"))==null?void 0:he.settingValue)==="true"||le.expiryAlertSms,dailyReportSms:((Te=Se.find(je=>je.settingKey==="dailyReportSms"))==null?void 0:Te.settingValue)==="true"||le.dailyReportSms,systemUpdates:((Ee=Se.find(je=>je.settingKey==="systemUpdates"))==null?void 0:Ee.settingValue)==="true"||le.systemUpdates,emailRecipients:((Ue=Se.find(je=>je.settingKey==="emailRecipients"))==null?void 0:Ue.settingValue)||le.emailRecipients}}),F(le=>{var te,he,Te,Ee,Ue;return{...le,traPortalUrl:((te=Se.find(je=>je.settingKey==="traPortalUrl"))==null?void 0:te.settingValue)||le.traPortalUrl,msdSyncEnabled:((he=Se.find(je=>je.settingKey==="msdSyncEnabled"))==null?void 0:he.settingValue)==="true"||le.msdSyncEnabled,smsGateway:((Te=Se.find(je=>je.settingKey==="smsGateway"))==null?void 0:Te.settingValue)||le.smsGateway,nhifPortalId:((Ee=Se.find(je=>je.settingKey==="nhifPortalId"))==null?void 0:Ee.settingValue)||le.nhifPortalId,apiKey:((Ue=Se.find(je=>je.settingKey==="apiKey"))==null?void 0:Ue.settingValue)||le.apiKey}}))}catch(Se){console.error("Failed to load settings:",Se),$&&d("Settings Error","Failed to load system settings. Using defaults.")}finally{$&&w(!1)}})(),()=>{$=!1}},[]);const H=async()=>{if(ee.adminPassword||ee.confirmAdminPassword){if(ee.adminPassword!==ee.confirmAdminPassword){d("Validation Error","Passwords do not match.");return}if(ee.adminPassword.length<8){d("Validation Error","Password must be at least 8 characters.");return}}m(!0);try{const Ae=[...Object.entries(D).filter(([Re,Y])=>Y!==null).map(([Re,Y])=>({category:"general",key:Re,value:String(Y)})),...Object.entries(ee).filter(([Re])=>Re!=="adminPassword"&&Re!=="confirmAdminPassword").map(([Re,Y])=>({category:"security",key:Re,value:String(Y)})),...Object.entries(ae).map(([Re,Y])=>({category:"notifications",key:Re,value:String(Y)})),...Object.entries(J).filter(([Re])=>Re!=="apiKeyVisible").map(([Re,Y])=>({category:"integrations",key:Re,value:String(Y)}))].map(async Re=>{const Y=R.find(le=>le.settingKey===Re.key&&le.category===Re.category);if(Y)try{return await $e.updateSetting(String(Y.id),Re.value)}catch(le){return console.warn(`Failed to update setting ${Re.key}:`,le),null}else try{return await $e.createSetting({id:Re.key,category:Re.category,settingKey:Re.key,settingValue:Re.value,dataType:"string",description:`${Re.category} ${Re.key} setting`})}catch(le){return console.warn(`Failed to create setting ${Re.key}:`,le),null}});await Promise.all(Ae);const Se=await $e.getSettings();L(Se||[]),Q(Re=>({...Re,adminPassword:"",confirmAdminPassword:""})),x(" Settings saved successfully!"),u("Settings Updated","All system settings have been saved."),setTimeout(()=>x(""),3e3)}catch($){console.error("Failed to save settings:",$),d("Save Failed","There was an error saving the settings. Please try again.")}finally{m(!1)}},fe=$=>{var Re;const Ae=(Re=$.target.files)==null?void 0:Re[0];if(!Ae)return;if(!Ae.type.startsWith("image/")){d("Invalid File","Please upload an image file.");return}if(Ae.size>2*1024*1024){d("File Too Large","Image must be less than 2MB.");return}const Se=new FileReader;Se.onloadend=()=>{B(Y=>({...Y,logo:Se.result}))},Se.onerror=()=>{d("Upload Error","Failed to read image file.")},Se.readAsDataURL(Ae)},G=async()=>{E(!0),T("idle");try{await new Promise($=>setTimeout($,2e3)),T("success")}catch($){console.error("TRA test failed:",$),T("error")}finally{E(!1)}},pe=async()=>{N(!0),I("idle");try{await new Promise($=>setTimeout($,1500)),I(J.smsGateway?"success":"error")}catch($){console.error("SMS test failed:",$),I("error")}finally{N(!1)}},me=async $=>{try{await new Promise(Ae=>setTimeout(Ae,500)),q(Ae=>Ae.filter(Se=>Se.id!==$)),u("Session Revoked","The session has been terminated.")}catch(Ae){console.error("Failed to revoke session:",Ae),d("Revoke Failed","Unable to revoke the session.")}},ne=()=>{try{const $={metadata:{version:"1.0.0",timestamp:new Date().toISOString(),exportedBy:"System Admin",dataType:"Full System Backup"},data:{inventory:t||{},sales:(n||[]).map(Y=>({...Y,totalAmount:Number(Y.totalAmount||0)||0})),expenses:(r||[]).map(Y=>({...Y,amount:Number(Y.amount||0)||0})),invoices:(o||[]).map(Y=>({...Y,totalAmount:Number(Y.totalAmount||0)||0}))}},Ae=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),Se=URL.createObjectURL(Ae),Re=document.createElement("a");Re.href=Se,Re.download=`PMS_Backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),URL.revokeObjectURL(Se),u("Backup Downloaded","Your system backup has been saved.")}catch($){console.error("Download failed:",$),d("Download Failed","Unable to create backup file.")}},ve=async $=>{var Re;const Ae=(Re=$.target.files)==null?void 0:Re[0];if(!(!Ae||!window.confirm("WARNING: This will overwrite current system data. This action cannot be undone. Are you sure?"))){try{const Y=await Ae.text(),le=JSON.parse(Y);if(!le.metadata||!le.data)throw new Error("Invalid backup file format.");console.log("Restore data:",le),u("Backup Restored","System data has been restored from backup.")}catch(Y){console.error("Restore failed:",Y),d("Restore Failed","Invalid backup file or restore error.")}$.target.value=""}},re=async()=>{if(!window.confirm('CRITICAL: This will completely wipe all system data and reset to factory defaults. This action is irreversible. Type "RESET" in the next prompt to proceed.'))return;if(window.prompt("Type RESET to confirm factory reset:")!=="RESET"){d("Cancelled","Factory reset was cancelled.");return}try{await new Promise(Se=>setTimeout(Se,1e3)),u("Factory Reset","System has been reset to factory defaults."),l&&setTimeout(()=>l(),2e3)}catch(Se){console.error("Factory reset failed:",Se),d("Reset Failed","Unable to perform factory reset.")}},ge=({checked:$,onChange:Ae})=>i.jsx("button",{onClick:()=>Ae(!$),className:`transition-colors duration-200 ${$?"text-teal-600":"text-slate-300"}`,type:"button",children:$?i.jsx(qR,{size:40}):i.jsx($R,{size:40})}),xe=({id:$,label:Ae,icon:Se})=>i.jsxs("button",{onClick:()=>p($),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${f===$?"bg-teal-50 text-teal-700 font-bold":"text-slate-600 hover:bg-slate-50"}`,type:"button",children:[i.jsx(Se,{size:20}),Ae]});return v?i.jsx("div",{className:"flex items-center justify-center h-96 bg-white rounded-2xl shadow-sm border border-slate-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx(bl,{className:"animate-spin mx-auto mb-4 text-teal-600",size:32}),i.jsx("p",{className:"text-slate-600",children:"Loading settings..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"System Configuration"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Manage global preferences, security policies, and integrations."})]}),i.jsxs("button",{onClick:H,disabled:g,className:"flex items-center gap-2 px-6 py-3 bg-teal-600 text-white rounded-xl hover:bg-teal-700 font-bold shadow-lg shadow-teal-600/20 transition-all disabled:opacity-70",type:"button",children:[g?i.jsx(IR,{className:"animate-spin",size:20}):i.jsx(Yd,{size:20}),g?"Saving...":"Save Changes"]})]}),_&&i.jsxs("div",{className:"bg-emerald-100 border border-emerald-200 text-emerald-700 px-4 py-3 rounded-xl flex items-center gap-2 animate-in fade-in slide-in-from-top-4",children:[i.jsx(kt,{size:20}),_]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-4 space-y-2 sticky top-6",children:[i.jsx(xe,{id:"general",label:"General Settings",icon:Jd}),i.jsx(xe,{id:"security",label:"Security & Access",icon:pi}),i.jsx(xe,{id:"notifications",label:"Notifications",icon:pR}),i.jsx(xe,{id:"integrations",label:"Integrations",icon:kR}),i.jsx(xe,{id:"backup",label:"Backup & Data",icon:xR})]})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 p-8 min-h-[500px]",children:[f==="general"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4 mb-6",children:"Company Profile"}),i.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[i.jsxs("div",{className:"w-24 h-24 bg-slate-100 rounded-2xl border-2 border-dashed border-slate-300 flex items-center justify-center overflow-hidden relative group cursor-pointer",onClick:()=>{var $;return($=X.current)==null?void 0:$.click()},role:"button",tabIndex:0,onKeyDown:$=>{var Ae;return $.key==="Enter"&&((Ae=X.current)==null?void 0:Ae.click())},children:[D.logo?i.jsx("img",{src:D.logo,alt:"Company Logo",className:"w-full h-full object-cover"}):i.jsx(Gc,{className:"text-slate-400 group-hover:text-slate-600"}),i.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("span",{className:"text-white text-xs font-bold",children:"Change"})}),i.jsx("input",{type:"file",ref:X,className:"hidden",accept:"image/*",onChange:fe})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-bold text-slate-700",children:"Company Logo"}),i.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Upload your pharmacy logo for invoices and reports. (Max 2MB)"}),i.jsx("button",{onClick:()=>{var $;return($=X.current)==null?void 0:$.click()},className:"text-teal-600 text-sm font-bold hover:underline",type:"button",children:"Click to upload"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Company Name"}),i.jsx("input",{type:"text",value:D.companyName,onChange:$=>B({...D,companyName:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Address"}),i.jsx("input",{type:"text",value:D.address,onChange:$=>B({...D,address:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:D.email,onChange:$=>B({...D,email:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",value:D.phone,onChange:$=>B({...D,phone:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4 mb-6",children:"Tax & Localization"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"TRA TIN Number"}),i.jsx("input",{type:"text",value:D.tinNumber,onChange:$=>B({...D,tinNumber:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none font-mono transition-all",placeholder:"123-456-789"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"VAT Reg Number (VRN)"}),i.jsx("input",{type:"text",value:D.vrnNumber,onChange:$=>B({...D,vrnNumber:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none font-mono transition-all",placeholder:"400-999-111"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"System Currency"}),i.jsxs("select",{value:D.currency,onChange:$=>B({...D,currency:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all",children:[i.jsx("option",{value:"TZS",children:"Tanzanian Shilling (TZS)"}),i.jsx("option",{value:"USD",children:"US Dollar (USD)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Language"}),i.jsxs("select",{value:D.language,onChange:$=>B({...D,language:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all",children:[i.jsx("option",{value:"English",children:"English"}),i.jsx("option",{value:"Swahili",children:"Swahili (Kiswahili)"})]})]})]})]})]}),f==="security"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4 mb-6",children:"Security Policies"}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-200 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-3 bg-white rounded-full text-teal-600 shadow-sm",children:i.jsx(pi,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-800",children:"Two-Factor Authentication (2FA)"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Require SMS/Email code for login"})]})]}),i.jsx(ge,{checked:ee.twoFactor,onChange:$=>Q({...ee,twoFactor:$})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Session Timeout"}),i.jsxs("select",{value:ee.sessionTimeout,onChange:$=>Q({...ee,sessionTimeout:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all",children:[i.jsx("option",{value:"15",children:"15 Minutes (Recommended)"}),i.jsx("option",{value:"30",children:"30 Minutes"}),i.jsx("option",{value:"60",children:"1 Hour"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password Expiry"}),i.jsxs("select",{value:ee.passwordExpiry,onChange:$=>Q({...ee,passwordExpiry:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all",children:[i.jsx("option",{value:"30",children:"Every 30 Days"}),i.jsx("option",{value:"90",children:"Every 90 Days"}),i.jsx("option",{value:"180",children:"Every 6 Months"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4 mb-6",children:"Active Sessions"}),i.jsx("div",{className:"space-y-3",children:W.length===0?i.jsx("p",{className:"text-slate-500 text-center py-6",children:"No active sessions."}):W.map($=>i.jsxs("div",{className:"flex items-center justify-between p-4 border border-slate-200 rounded-xl hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-2 rounded-full ${$.current?"bg-teal-100 text-teal-600":"bg-slate-100 text-slate-500"}`,children:i.jsx(OR,{size:20})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 text-sm flex items-center gap-2",children:[$.device,$.current&&i.jsx("span",{className:"text-xs bg-teal-600 text-white px-2 py-0.5 rounded",children:"Current"})]}),i.jsxs("p",{className:"text-xs text-slate-500",children:[$.ip,"  ",$.location]})]})]}),!$.current&&i.jsxs("button",{onClick:()=>me($.id),className:"text-rose-600 hover:bg-rose-50 p-2 rounded-lg text-xs font-bold flex items-center gap-1 transition-colors",type:"button",children:[i.jsx(Vc,{size:14})," Revoke"]})]},$.id))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4 mb-6",children:"Change Admin Password"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 bg-slate-50 p-6 rounded-xl border border-slate-200",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(M1,{className:"absolute left-3 top-3 text-slate-400",size:16}),i.jsx("input",{type:"password",className:"w-full pl-9 p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all",placeholder:"",value:ee.adminPassword,onChange:$=>Q({...ee,adminPassword:$.target.value})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(M1,{className:"absolute left-3 top-3 text-slate-400",size:16}),i.jsx("input",{type:"password",className:"w-full pl-9 p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all",placeholder:"",value:ee.confirmAdminPassword,onChange:$=>Q({...ee,confirmAdminPassword:$.target.value})})]})]})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Passwords must be at least 8 characters long."})]})]}),f==="notifications"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4 mb-6",children:"Alert Preferences"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-50",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-800",children:"Low Stock Alerts (Email)"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Receive emails when inventory hits minimum level"})]}),i.jsx(ge,{checked:ae.lowStockEmail,onChange:$=>oe({...ae,lowStockEmail:$})})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-50",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-800",children:"Expiry Warnings (SMS)"}),i.jsx("p",{className:"text-xs text-slate-500",children:"Receive SMS for batches expiring in <30 days"})]}),i.jsx(ge,{checked:ae.expiryAlertSms,onChange:$=>oe({...ae,expiryAlertSms:$})})]}),i.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-50",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-slate-800",children:"Daily Sales Report (SMS)"}),i.jsx("p",{className:"text-xs text-slate-500",children:"End-of-day financial summary to managers"})]}),i.jsx(ge,{checked:ae.dailyReportSms,onChange:$=>oe({...ae,dailyReportSms:$})})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Alert Recipient Emails"}),i.jsxs("div",{className:"relative",children:[i.jsx(_v,{className:"absolute left-3 top-3 text-slate-400",size:20}),i.jsx("input",{type:"text",value:ae.emailRecipients,onChange:$=>oe({...ae,emailRecipients:$.target.value}),className:"w-full pl-10 pr-3 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all",placeholder:"Enter emails separated by comma"})]}),i.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Multiple emails can be separated by commas."})]})]}),f==="integrations"&&i.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4 mb-6",children:"External Systems"}),i.jsxs("div",{className:"bg-slate-50 p-6 rounded-xl border border-slate-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wR,{className:"text-teal-600"}),i.jsx("h4",{className:"font-bold text-slate-900",children:"TRA VFD Integration"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[A==="success"&&i.jsxs("span",{className:"text-xs font-bold text-emerald-600 flex items-center gap-1",children:[i.jsx(kt,{size:12})," Connected"]}),A==="error"&&i.jsxs("span",{className:"text-xs font-bold text-rose-600 flex items-center gap-1",children:[i.jsx(Bn,{size:12})," Failed"]}),i.jsx("button",{onClick:G,disabled:b,className:"text-xs font-bold bg-white border border-slate-300 px-3 py-1.5 rounded-lg hover:bg-slate-100 disabled:opacity-50 transition-all",type:"button",children:b?"Testing...":"Test Connection"})]})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"API Endpoint"}),i.jsx("input",{type:"text",value:J.traPortalUrl,readOnly:!0,className:"w-full p-2 bg-white border border-slate-200 rounded text-slate-600 text-sm font-mono"})]})})]}),i.jsxs("div",{className:"border border-slate-200 rounded-xl p-6",children:[i.jsx("h4",{className:"font-bold text-slate-800 mb-4",children:"API Key Management"}),i.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Secret Key"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:J.apiKeyVisible?"text":"password",value:J.apiKey,readOnly:!0,className:"w-full p-3 border border-slate-300 rounded-lg text-sm font-mono bg-slate-50"}),i.jsx("button",{onClick:()=>F({...J,apiKeyVisible:!J.apiKeyVisible}),className:"absolute right-3 top-3 text-slate-400 hover:text-teal-600 transition-colors",type:"button",children:J.apiKeyVisible?i.jsx(UP,{size:16}):i.jsx(xl,{size:16})})]}),i.jsx("button",{className:"px-4 py-2 bg-slate-800 text-white rounded-lg font-bold text-xs hover:bg-slate-900 transition-colors",type:"button",children:"Regenerate"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"NHIF Portal ID"}),i.jsx("input",{type:"text",value:J.nhifPortalId,onChange:$=>F({...J,nhifPortalId:$.target.value}),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"SMS Gateway"}),C==="success"&&i.jsx("span",{className:"text-[10px] text-emerald-600 font-bold",children:"Verified"}),C==="error"&&i.jsx("span",{className:"text-[10px] text-rose-600 font-bold",children:"Failed"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:J.smsGateway,onChange:$=>F({...J,smsGateway:$.target.value}),className:"flex-1 p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-teal-500 outline-none transition-all",children:[i.jsx("option",{value:"Twilio",children:"Twilio"}),i.jsx("option",{value:"Infobip",children:"Infobip"}),i.jsx("option",{value:"Beem",children:"Beem Africa"})]}),i.jsx("button",{onClick:pe,disabled:P,className:"p-3 bg-slate-100 rounded-lg hover:bg-slate-200 text-slate-600 transition-colors",title:"Test SMS",type:"button",children:i.jsx(UR,{size:20,className:P?"animate-pulse":""})})]})]})]})]}),f==="backup"&&i.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[i.jsx("h3",{className:"text-xl font-bold text-slate-800 border-b border-slate-100 pb-4 mb-6",children:"Data Management"}),i.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100 flex items-start gap-4",children:[i.jsx(vR,{className:"text-blue-600 mt-1 shrink-0",size:24}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-blue-900",children:"Cloud Sync Active"}),i.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Your data is automatically synced to the cloud every 5 minutes. Last sync was successful at ",new Date().toLocaleTimeString(),"."]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"border border-slate-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(hi,{size:24,className:"text-slate-600"})}),i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Export Data"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6 min-h-[40px]",children:"Download a full JSON backup of inventory, sales, expenses, and invoices."}),i.jsxs("button",{onClick:ne,className:"w-full py-3 bg-slate-800 text-white rounded-xl hover:bg-slate-900 font-bold shadow-lg transition-all flex items-center justify-center gap-2",type:"button",children:[i.jsx(hi,{size:18})," Download Backup"]})]}),i.jsxs("div",{className:"border border-slate-200 rounded-xl p-6 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center mb-4",children:i.jsx(Gc,{size:24,className:"text-slate-600"})}),i.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:"Restore Data"}),i.jsx("p",{className:"text-sm text-slate-500 mb-6 min-h-[40px]",children:"Restore system state from a previously exported backup file."}),i.jsxs("button",{onClick:()=>{var $;return($=O.current)==null?void 0:$.click()},className:"w-full py-3 bg-white border border-slate-300 text-slate-700 rounded-xl hover:bg-slate-50 font-bold transition-all flex items-center justify-center gap-2",type:"button",children:[i.jsx(Gc,{size:18})," Upload File"]}),i.jsx("input",{type:"file",ref:O,className:"hidden",accept:".json",onChange:ve})]})]}),i.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100",children:[i.jsxs("h4",{className:"font-bold text-rose-600 mb-2 flex items-center gap-2",children:[i.jsx(Bn,{size:20})," Danger Zone"]}),i.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Irreversible actions. Please proceed with caution."}),i.jsx("button",{onClick:re,className:"px-6 py-3 bg-rose-50 border border-rose-200 text-rose-700 rounded-xl hover:bg-rose-100 font-bold transition-all text-sm",type:"button",children:"Factory Reset System"})]})]})]})})]})]})},VH=({releaseRequests:e=[],onApproveRelease:t,requisitions:n=[],onActionRequisition:r,disposalRequests:o=[],onApproveDisposal:l,expenses:u=[],onActionExpense:d,transfers:f=[],onApproveTransfer:p})=>{const{showSuccess:g,showError:m}=Ei(),[v,w]=M.useState("expenses"),[_,x]=M.useState(!0),[b,E]=M.useState([]),[A,T]=M.useState(null),[P,N]=M.useState([]),[C,I]=M.useState([]),[R,L]=M.useState([]),[W,q]=M.useState([]),[D,B]=M.useState([]);M.useEffect(()=>{let G=!0;return(async()=>{x(!0);try{const[me,ne,ve,re,ge,xe,$]=await Promise.all([$e.getBranches(),$e.getRequisitions(),$e.getReleaseRequests(),$e.getDisposalRequests(),$e.getExpenses(),$e.getTransfers(),Promise.resolve($e.getCurrentUser())]);if(!G)return;E(me||[]),N(ne||[]),I(ve||[]),L(re||[]),q((ge||[]).filter(Ae=>Ae.status==="Pending")),B(xe||[]),T($)}catch(me){console.error("Failed to load approval data:",me),m("Load Error","Failed to load approval data")}finally{G&&x(!1)}})(),()=>{G=!1}},[n,e,o,u,f]);const ee=W.filter(G=>G.status==="Pending"),Q=P.filter(G=>G.status==="PENDING"),ae=C.filter(G=>G.status==="PENDING"),oe=R.filter(G=>G.status==="PENDING"),J=D.filter(G=>G.status==="IN_TRANSIT"),F=async(G,pe)=>{try{if($e.updateExpense){const me=W.find(ne=>ne.id===G);me&&await $e.updateExpense(String(G),{...me,status:pe})}q(me=>me.filter(ne=>ne.id!==G)),g("Expense Updated",`Expense has been ${pe.toLowerCase()} successfully.`),d&&d(G,pe)}catch(me){console.error("Failed to update expense:",me),m("Update Failed","There was an error updating the expense. Please try again.")}},X=async(G,pe)=>{try{await $e.updateRequisitionStatus(G,pe,A==null?void 0:A.id),N(ne=>ne.filter(ve=>ve.id!==G)),g("Requisition Updated",`Requisition has been ${pe==="APPROVED"?"approved and shipped":"rejected"} successfully.`),r&&r(G,pe)}catch(me){console.error("Failed to update requisition:",me),m("Update Failed","There was an error updating the requisition. Please try again.")}},O=async G=>{try{I(pe=>pe.filter(me=>me.id!==G.id)),g("Release Request Approved",`Request ${G.id} approved. Stock is now visible in POS.`),t&&t(G)}catch(pe){console.error("Failed to approve release request:",pe),m("Approval Failed","There was an error approving the release request. Please try again.")}},H=async G=>{try{L(pe=>pe.filter(me=>me.id!==G.id)),g("Disposal Request Approved",`Request ${G.id} has been approved and stock permanently removed.`),l&&l(G)}catch(pe){console.error("Failed to approve disposal request:",pe),m("Approval Failed","There was an error approving the disposal request. Please try again.")}},fe=async G=>{try{B(pe=>pe.filter(me=>me.id!==G.id)),g("Transfer Approved",`Transfer ${G.id} has been approved and stock moved.`),p&&p(G)}catch(pe){console.error("Failed to approve transfer:",pe),m("Approval Failed","There was an error approving the transfer. Please try again.")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Approvals Hub"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Centralized authorization for branch operations."})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsxs("button",{onClick:()=>w("expenses"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${v==="expenses"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,type:"button",children:[i.jsx(Er,{size:16})," Expense",ee.length>0&&i.jsx("span",{className:"bg-rose-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:ee.length})]}),i.jsxs("button",{onClick:()=>w("stock"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${v==="stock"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,type:"button",children:[i.jsx(fi,{size:16})," Requisitions",Q.length>0&&i.jsx("span",{className:"bg-rose-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:Q.length})]}),i.jsxs("button",{onClick:()=>w("release"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${v==="release"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,type:"button",children:[i.jsx(D1,{size:16})," Release",ae.length>0&&i.jsx("span",{className:"bg-amber-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:ae.length})]}),i.jsxs("button",{onClick:()=>w("disposal"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${v==="disposal"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,type:"button",children:[i.jsx(ra,{size:16})," Disposals",oe.length>0&&i.jsx("span",{className:"bg-rose-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:oe.length})]}),i.jsxs("button",{onClick:()=>w("transfers"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${v==="transfers"?"bg-teal-600 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,type:"button",children:[i.jsx(ci,{size:16})," Transfers",J.length>0&&i.jsx("span",{className:"bg-blue-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-bold",children:J.length})]})]})]}),i.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:_?i.jsxs("div",{className:"flex items-center justify-center py-12 bg-white rounded-2xl shadow-sm border border-slate-100",children:[i.jsx(bl,{className:"animate-spin text-teal-600 mr-3",size:32}),i.jsx("span",{className:"text-slate-600",children:"Loading approval data..."})]}):v==="expenses"?i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[i.jsx(Er,{size:18,className:"text-teal-600"})," Pending Expenses"]}),i.jsxs("button",{className:"text-xs font-medium text-slate-500 flex items-center gap-1 hover:text-slate-700",type:"button",children:[i.jsx(BP,{size:12})," Filter"]})]}),ee.length===0?i.jsxs("div",{className:"p-12 text-center text-slate-400",children:[i.jsx(kt,{size:48,className:"mx-auto mb-4 opacity-20 text-teal-600"}),i.jsx("p",{children:"All expenses have been reviewed. Good job!"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500 border-b border-slate-100",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Request Date"}),i.jsx("th",{className:"px-6 py-4",children:"Branch"}),i.jsx("th",{className:"px-6 py-4",children:"Category"}),i.jsx("th",{className:"px-6 py-4",children:"Description"}),i.jsx("th",{className:"px-6 py-4 text-right",children:"Amount"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:ee.map(G=>{var pe;return i.jsxs("tr",{className:"hover:bg-slate-50",children:[i.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Sv,{size:14})," ",G.date]})}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-700",children:((pe=b.find(me=>me.id===G.branchId))==null?void 0:pe.name)||"Unknown"}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"px-2 py-1 rounded bg-slate-100 text-slate-600 text-xs font-bold",children:G.category})}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-800 font-medium",children:G.description}),i.jsxs("td",{className:"px-6 py-4 text-right font-bold text-slate-800",children:[typeof G.amount=="number"?G.amount.toLocaleString():G.amount," ","TZS"]}),i.jsxs("td",{className:"px-6 py-4 flex justify-center gap-2",children:[i.jsx("button",{onClick:()=>F(G.id,"Approved"),className:"p-2 bg-emerald-100 text-emerald-700 rounded-lg hover:bg-emerald-200 transition-colors",title:"Approve",type:"button",children:i.jsx(kt,{size:18})}),i.jsx("button",{onClick:()=>F(G.id,"Rejected"),className:"p-2 bg-rose-100 text-rose-700 rounded-lg hover:bg-rose-200 transition-colors",title:"Reject",type:"button",children:i.jsx(Fr,{size:18})})]})]},G.id)})})]})})]}):v==="stock"?i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[i.jsx(fi,{size:18,className:"text-teal-600"})," Pending Stock Requisitions"]})}),Q.length===0?i.jsxs("div",{className:"p-12 text-center text-slate-400",children:[i.jsx(kt,{size:48,className:"mx-auto mb-4 opacity-20 text-teal-600"}),i.jsx("p",{children:"No pending stock requests from branches."})]}):i.jsx("div",{className:"divide-y divide-slate-100",children:Q.map(G=>{var pe;return i.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4 flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-3 rounded-full ${G.priority==="URGENT"?"bg-rose-100 text-rose-600":"bg-blue-100 text-blue-600"}`,children:i.jsx(FP,{size:24})}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[((pe=b.find(me=>me.id===G.branchId))==null?void 0:pe.name)||"Unknown",G.priority==="URGENT"&&i.jsx("span",{className:"text-xs bg-rose-600 text-white px-2 py-0.5 rounded animate-pulse",children:"URGENT"})]}),i.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-2 mt-1",children:[i.jsx(Sv,{size:14})," ",G.requestDate,i.jsx("span",{className:"text-slate-300",children:"|"}),"Requested by"," ",i.jsx("span",{className:"font-medium text-slate-700",children:G.requestedBy})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>X(G.id,"REJECTED"),className:"px-4 py-2 border border-slate-200 text-slate-600 rounded-lg hover:bg-rose-50 hover:text-rose-600 hover:border-rose-200 font-medium text-sm transition-colors",type:"button",children:"Reject"}),i.jsxs("button",{onClick:()=>X(G.id,"APPROVED"),className:"px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 font-bold text-sm shadow-md flex items-center gap-2 transition-colors",type:"button",children:["Approve & Ship ",i.jsx(iu,{size:16})]})]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-xl border border-slate-200 p-4",children:[i.jsx("h5",{className:"text-xs font-bold text-slate-400 uppercase mb-3",children:"Requested Items"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:G.items.map((me,ne)=>i.jsxs("div",{className:"bg-white p-3 rounded-lg border border-slate-100 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-slate-700",children:me.productName}),i.jsxs("div",{className:"text-xs text-slate-400",children:["Current Stock: ",me.currentStock]})]}),i.jsxs("div",{className:"text-lg font-bold text-teal-600",children:[me.requestedQty," ",i.jsx("span",{className:"text-xs text-slate-400 font-normal",children:"units"})]})]},ne))})]})]},G.id)})})]}):v==="release"?i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[i.jsxs("h3",{className:"font-bold text-slate-800 flex items-center gap-2",children:[i.jsx(D1,{size:18,className:"text-amber-600"})," Pending Stock Release Requests"]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Authorize Quarantined Stock for Sale"})]}),ae.length===0?i.jsxs("div",{className:"p-12 text-center text-slate-400",children:[i.jsx(kt,{size:48,className:"mx-auto mb-4 opacity-20 text-teal-600"}),i.jsx("p",{children:"No release requests. All active stock is authorized."})]}):i.jsx("div",{className:"divide-y divide-slate-100",children:ae.map(G=>{var pe;return i.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4 flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:((pe=b.find(me=>me.id===G.branchId))==null?void 0:pe.name)||"Unknown"}),i.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Requested by ",G.requestedBy," on ",G.date]})]}),i.jsxs("button",{onClick:()=>O(G),className:"px-6 py-2 bg-teal-600 text-white font-bold rounded-lg hover:bg-teal-700 shadow-md flex items-center gap-2 transition-colors",type:"button",children:[i.jsx(kt,{size:16})," Approve Release"]})]}),i.jsx("div",{className:"bg-amber-50 rounded-xl border border-amber-100 p-4 overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-amber-900 border-b border-amber-200",children:[i.jsx("th",{className:"pb-2 font-bold",children:"Product Name"}),i.jsx("th",{className:"pb-2 font-bold",children:"Batch Number"}),i.jsx("th",{className:"pb-2 text-right font-bold",children:"Qty to Release"})]})}),i.jsx("tbody",{children:G.items.map((me,ne)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 text-amber-900 font-medium",children:me.productName}),i.jsx("td",{className:"py-2 text-amber-800 font-mono",children:me.batchNumber}),i.jsx("td",{className:"py-2 text-right font-bold text-amber-900",children:me.quantity})]},ne))})]})})]},G.id)})})]}):v==="transfers"?i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-blue-50",children:[i.jsxs("h3",{className:"font-bold text-blue-800 flex items-center gap-2",children:[i.jsx(ci,{size:18})," Pending Stock Transfers"]}),i.jsx("p",{className:"text-xs text-blue-600",children:"Authorize Inter-Branch Stock Movement"})]}),J.length===0?i.jsxs("div",{className:"p-12 text-center text-slate-400",children:[i.jsx(kt,{size:48,className:"mx-auto mb-4 opacity-20 text-blue-600"}),i.jsx("p",{children:"No transfer requests pending."})]}):i.jsx("div",{className:"divide-y divide-slate-100",children:J.map(G=>{var pe,me;return i.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4 flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[((pe=b.find(ne=>ne.id===G.sourceBranchId))==null?void 0:pe.name)||"Unknown","  ",((me=b.find(ne=>ne.id===G.targetBranchId))==null?void 0:me.name)||"Unknown"]}),i.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Transfer ID: ",G.id,"  Sent on ",G.dateSent]}),G.notes&&i.jsxs("p",{className:"text-sm text-slate-600 mt-2 italic",children:["Notes: ",G.notes]})]}),i.jsxs("button",{onClick:()=>fe(G),className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 shadow-md flex items-center gap-2 transition-colors",type:"button",children:[i.jsx(kt,{size:16})," Approve Transfer"]})]}),i.jsx("div",{className:"bg-blue-50 rounded-xl border border-blue-100 p-4 overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-blue-900 border-b border-blue-200",children:[i.jsx("th",{className:"pb-2 font-bold",children:"Product Name"}),i.jsx("th",{className:"pb-2 font-bold",children:"Batch Number"}),i.jsx("th",{className:"pb-2 font-bold",children:"Expiry Date"}),i.jsx("th",{className:"pb-2 text-right font-bold",children:"Qty"})]})}),i.jsx("tbody",{children:((G==null?void 0:G.items)||[]).map((ne,ve)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 text-blue-900 font-medium",children:(ne==null?void 0:ne.productName)||"Unknown"}),i.jsx("td",{className:"py-2 text-blue-800 font-mono",children:(ne==null?void 0:ne.batchNumber)||"N/A"}),i.jsx("td",{className:"py-2 text-blue-700",children:(ne==null?void 0:ne.expiryDate)||"N/A"}),i.jsx("td",{className:"py-2 text-right font-bold text-blue-900",children:(ne==null?void 0:ne.quantity)||0})]},ve))})]})})]},G.id)})})]}):i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center bg-rose-50",children:[i.jsxs("h3",{className:"font-bold text-rose-800 flex items-center gap-2",children:[i.jsx(ra,{size:18})," Pending Stock Disposal Requests"]}),i.jsx("p",{className:"text-xs text-rose-600",children:"Authorize Permanent Removal of Stock"})]}),oe.length===0?i.jsxs("div",{className:"p-12 text-center text-slate-400",children:[i.jsx(kt,{size:48,className:"mx-auto mb-4 opacity-20 text-rose-600"}),i.jsx("p",{children:"No disposal requests pending."})]}):i.jsx("div",{className:"divide-y divide-slate-100",children:oe.map(G=>{var pe;return i.jsxs("div",{className:"p-6 hover:bg-slate-50 transition-colors",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4 flex-wrap gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:((pe=b.find(me=>me.id===G.branchId))==null?void 0:pe.name)||"Unknown"}),i.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Requested by ",G.requestedBy," on ",G.date]})]}),i.jsxs("button",{onClick:()=>H(G),className:"px-6 py-2 bg-rose-600 text-white font-bold rounded-lg hover:bg-rose-700 shadow-md flex items-center gap-2 transition-colors",type:"button",children:[i.jsx(kt,{size:16})," Authorize Destruction"]})]}),i.jsx("div",{className:"bg-rose-50 rounded-xl border border-rose-100 p-4 overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"text-rose-900 border-b border-rose-200",children:[i.jsx("th",{className:"pb-2 font-bold",children:"Product Name"}),i.jsx("th",{className:"pb-2 font-bold",children:"Batch Number"}),i.jsx("th",{className:"pb-2 font-bold",children:"Reason"}),i.jsx("th",{className:"pb-2 text-right font-bold",children:"Qty"})]})}),i.jsx("tbody",{children:G.items.map((me,ne)=>i.jsxs("tr",{children:[i.jsx("td",{className:"py-2 text-rose-900 font-medium",children:me.productName}),i.jsx("td",{className:"py-2 text-rose-800 font-mono",children:me.batchNumber}),i.jsx("td",{className:"py-2 text-rose-700",children:me.reason}),i.jsx("td",{className:"py-2 text-right font-bold text-rose-900",children:me.quantity})]},ne))})]})})]},G.id)})})]})})]})},GH=({currentBranchId:e,invoices:t=[],expenses:n=[],onRestore:r,onAutoArchive:o})=>{const[l,u]=M.useState([]),[d,f]=M.useState("invoices"),[p,g]=M.useState(""),[m,v]=M.useState(3),[w,_]=M.useState(!1);M.useEffect(()=>{let T=!0;return(async()=>{try{const P=await $e.getBranches();T&&u(P||[])}catch(P){console.error("Failed to load branches",P)}})(),()=>{T=!1}},[]);const x=e==="HEAD_OFFICE",b=(t||[]).filter(T=>{var I,R;const P=T.archived===!0,N=x?!0:T.branchId===e,C=(((I=T.customerName)==null?void 0:I.toLowerCase())||"").includes(p.toLowerCase())||(((R=T.id)==null?void 0:R.toLowerCase())||"").includes(p.toLowerCase());return P&&N&&C}),E=(n||[]).filter(T=>{var I,R;const P=T.archived===!0,N=x?!0:T.branchId===e,C=(((I=T.description)==null?void 0:I.toLowerCase())||"").includes(p.toLowerCase())||(((R=T.category)==null?void 0:R.toLowerCase())||"").includes(p.toLowerCase());return P&&N&&C}),A=async()=>{_(!0);try{await o(m)}catch(T){console.error("Error running auto-archive:",T)}finally{_(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Archive & History"}),i.jsx("p",{className:"text-slate-500 mt-1",children:"Manage and restore old financial records."})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-slate-100 p-2 rounded-xl",children:[i.jsx("span",{className:"text-xs font-bold text-slate-500 pl-2",children:"Auto-Archive:"}),i.jsxs("select",{className:"text-sm bg-white border border-slate-200 rounded-lg py-1 px-2 focus:outline-none focus:ring-2 focus:ring-teal-500",value:m,onChange:T=>v(parseInt(T.target.value)),disabled:w,children:[i.jsx("option",{value:3,children:"Older than 3 Months"}),i.jsx("option",{value:6,children:"Older than 6 Months"}),i.jsx("option",{value:12,children:"Older than 1 Year"})]}),i.jsxs("button",{onClick:A,disabled:w,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 text-white rounded-lg hover:bg-slate-900 font-bold text-xs shadow-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(ta,{size:14})," ",w?"Running...":"Run Now"]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[i.jsxs("div",{className:"flex gap-1 bg-slate-100 p-1 rounded-xl w-fit",children:[i.jsxs("button",{onClick:()=>f("invoices"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${d==="invoices"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[i.jsx(vi,{size:16})," Invoices",b.length>0&&i.jsx("span",{className:"bg-slate-200 text-slate-600 text-[10px] px-1.5 py-0.5 rounded-full",children:b.length})]}),i.jsxs("button",{onClick:()=>f("expenses"),className:`px-4 py-2 rounded-lg font-bold text-sm transition-all flex items-center gap-2 ${d==="expenses"?"bg-white text-teal-700 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:[i.jsx(Er,{size:16})," Expenses",E.length>0&&i.jsx("span",{className:"bg-slate-200 text-slate-600 text-[10px] px-1.5 py-0.5 rounded-full",children:E.length})]})]}),i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),i.jsx("input",{type:"text",placeholder:"Search archive...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-teal-500",value:p,onChange:T=>g(T.target.value)})]})]}),i.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[d==="invoices"&&i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:b.length===0?i.jsxs("div",{className:"p-12 text-center text-slate-400",children:[i.jsx(ta,{size:48,className:"mx-auto mb-4 opacity-20"}),i.jsx("p",{className:"font-medium",children:"No archived invoices found."})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Invoice ID"}),i.jsx("th",{className:"px-6 py-4",children:"Date"}),i.jsx("th",{className:"px-6 py-4",children:"Customer"}),i.jsx("th",{className:"px-6 py-4",children:"Amount"}),i.jsx("th",{className:"px-6 py-4",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(T=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 font-mono text-sm text-slate-600",children:T.id}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:T.dateIssued?new Date(T.dateIssued).toLocaleDateString():"N/A"}),i.jsx("td",{className:"px-6 py-4 font-medium text-slate-800",children:T.customerName||"Unknown"}),i.jsxs("td",{className:"px-6 py-4 font-bold text-slate-700",children:[typeof T.totalAmount=="number"?T.totalAmount.toLocaleString():"0"," TZS"]}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-slate-100 text-slate-600 text-xs font-bold",children:[i.jsx(kt,{size:12})," Archived"]})}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsxs("button",{onClick:()=>{window.confirm(`Restore invoice ${T.id}?`)&&r("invoice",T.id)},className:"text-teal-600 hover:text-teal-800 hover:bg-teal-50 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors flex items-center justify-center gap-1 mx-auto",children:[i.jsx(O1,{size:14})," Restore"]})})]},T.id))})]})})}),d==="expenses"&&i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:E.length===0?i.jsxs("div",{className:"p-12 text-center text-slate-400",children:[i.jsx(ta,{size:48,className:"mx-auto mb-4 opacity-20"}),i.jsx("p",{className:"font-medium",children:"No archived expenses found."})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{className:"bg-slate-50 text-xs uppercase font-semibold text-slate-500",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4",children:"Date"}),i.jsx("th",{className:"px-6 py-4",children:"Category"}),i.jsx("th",{className:"px-6 py-4",children:"Description"}),i.jsx("th",{className:"px-6 py-4",children:"Amount"}),i.jsx("th",{className:"px-6 py-4",children:"Branch"}),i.jsx("th",{className:"px-6 py-4 text-center",children:"Action"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:E.map(T=>{var P;return i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:T.date?new Date(T.date).toLocaleDateString():"N/A"}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-700",children:T.category||"N/A"}),i.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:T.description||"N/A"}),i.jsxs("td",{className:"px-6 py-4 font-bold text-slate-700",children:[typeof T.amount=="number"?T.amount.toLocaleString():"0"," TZS"]}),i.jsx("td",{className:"px-6 py-4 text-xs text-slate-500",children:((P=l.find(N=>N.id===T.branchId))==null?void 0:P.name)||"Unknown"}),i.jsx("td",{className:"px-6 py-4 text-center",children:i.jsxs("button",{onClick:()=>{window.confirm(`Restore expense ${T.id}?`)&&r("expense",T.id)},className:"text-teal-600 hover:text-teal-800 hover:bg-teal-50 px-3 py-1.5 rounded-lg text-xs font-bold transition-colors flex items-center justify-center gap-1 mx-auto",children:[i.jsx(O1,{size:14})," Restore"]})})]},T.id)})})]})})})]})]})},HH=()=>{const{showSuccess:e,showError:t,showWarning:n,showInfo:r}=Ei(),[o,l]=M.useState(null),[u,d]=M.useState("dashboard"),[f,p]=M.useState("HEAD_OFFICE"),[g,m]=M.useState(!1),[v,w]=M.useState([]),[_,x]=M.useState({}),[b,E]=M.useState([]),[A,T]=M.useState([]),[P,N]=M.useState([]),[C,I]=M.useState([]),[R,L]=M.useState([]),[W,q]=M.useState([]),[D,B]=M.useState([]),[ee,Q]=M.useState([]);M.useEffect(()=>{(async()=>{try{const le=localStorage.getItem("user"),te=localStorage.getItem("authToken");if(le&&te)try{await $e.getProducts();const he=JSON.parse(le);l(he),p(he.branchId||"HEAD_OFFICE"),ae()}catch(he){console.error("Token validation failed:",he),localStorage.removeItem("user"),localStorage.removeItem("authToken")}}catch(le){console.error("Failed to restore session:",le),localStorage.removeItem("user"),localStorage.removeItem("authToken")}})()},[]);const ae=async()=>{m(!0);try{const Y=await $e.getBranches();q(Y);const le=await oe(Y),[te,he,Te,Ee,Ue,je,ot]=await Promise.all([$e.getProducts(),$e.getStaff(),$e.getTransfers(),$e.getInvoices(),$e.getExpenses(),$e.getDisposalRequests(),$e.getSettings()]);w(te),B(he),E(Te),N(Ee),I(Ue),L(je),Q(ot),x(le)}catch(Y){console.error("Failed to load data:",Y),t("Data Load Error","Could not load system data from database")}finally{m(!1)}},oe=async Y=>{const le={};for(const te of Y)try{const he=await $e.getBranchInventory(te.id);le[te.id]=he}catch(he){console.error(`Failed to load inventory for branch ${te.id}:`,he),le[te.id]=[]}return le};M.useEffect(()=>{if(Object.keys(_).length===0||v.length===0)return;(()=>{const le=new Date().toISOString().split("T")[0];let te=!1;const he={..._},Te=[];Object.keys(he).forEach(Ee=>{he[Ee]=he[Ee].map(Ue=>{let je=!1;const ot=Ue.batches.map(Be=>{if(Be.expiryDate<le&&Be.status==="ACTIVE"){te=!0,je=!0;const wt=v.find(st=>st.id===Ue.productId);if(wt){const st={id:`DISPOSAL-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,branchId:Ee,requestedBy:"SYSTEM",date:le,status:"PENDING",items:[{productId:Ue.productId,productName:wt.name,batchNumber:Be.batchNumber,quantity:Be.quantity,reason:"Expired Stock"}]};Te.push(st)}return{...Be,status:"EXPIRED"}}return Be});return je?{...Ue,batches:ot}:Ue})}),te&&x(he),Te.length>0&&(L(Ee=>[...Ee,...Te]),n("Expired Stock Alert",`${Te.length} batch(es) have expired and are pending disposal approval.`))})()},[_,v]);const J=async(Y,le)=>{l(Y),localStorage.setItem("user",JSON.stringify(Y)),le&&localStorage.setItem("authToken",le),Y.role===ut.SUPER_ADMIN?p("HEAD_OFFICE"):p(Y.branchId),await ae(),Y.role===ut.CASHIER?d("pos"):Y.role===ut.PHARMACIST?d("clinical"):Y.role===ut.ACCOUNTANT?d("finance"):d("dashboard")},F=()=>{l(null),d("dashboard"),w([]),x({}),E([]),T([]),N([]),I([]),L([]),q([]),B([]),Q([]),localStorage.removeItem("user"),localStorage.removeItem("authToken")},X=async Y=>{w(le=>[...le,Y]);try{await $e.createProduct(Y),e("Product Added",`${Y.name} has been added successfully.`)}catch(le){throw console.error("Failed to add product:",le),w(te=>te.filter(he=>he.id!==Y.id)),t("Failed to Save Product","Product was not saved to database. Please try again."),le}},O=async Y=>{const le=v;w(te=>te.map(he=>he.id===Y.id?Y:he));try{await $e.updateProduct(Y.id,{name:Y.name,genericName:Y.genericName,category:Y.category,costPrice:Y.costPrice,price:Y.price,unit:Y.unit,minStockLevel:Y.minStockLevel,requiresPrescription:Y.requiresPrescription}),e("Product Updated",`${Y.name} has been updated successfully.`)}catch(te){throw console.error("Failed to update product:",te),w(le),t("Failed to Update Product","Product changes were not saved to database. Please try again."),te}},H=async Y=>{const le=_;x(te=>{const he=[...te[Y.branchId]||[]],Te=he.findIndex(Ue=>Ue.productId===Y.productId),Ee={batchNumber:Y.batchNumber,expiryDate:Y.expiryDate,quantity:Y.quantity,status:"ACTIVE"};return Te>=0?(he[Te].batches.push(Ee),he[Te].quantity+=Y.quantity):he.push({productId:Y.productId,quantity:Y.quantity,batches:[Ee]}),{...te,[Y.branchId]:he}});try{await $e.addStock(Y),e("Stock Added",`${Y.quantity} units added to inventory.`)}catch(te){throw console.error("Failed to add stock:",te),x(le),te}},fe=async Y=>{try{await $e.createInvoice(Y),N(le=>[Y,...le])}catch(le){throw console.error("Failed to create invoice:",le),le}},G=async Y=>{E(le=>[Y,...le]);try{await $e.createTransfer(Y)}catch(le){throw console.error("Failed to create transfer:",le),E(te=>te.filter(he=>he.id!==Y.id)),le}},pe=async Y=>{var he,Te;const le=P.find(Ee=>Ee.id===Y.id);if((le==null?void 0:le.status)==="PAID"){console.warn("Invoice already paid, skipping duplicate processing",Y.id);return}const te=(he=Y.payments[Y.payments.length-1])==null?void 0:he.method;if(N(Ee=>Ee.map(Ue=>Ue.id===Y.id?{...Y,paymentMethod:te}:Ue)),Y.status==="PAID"&&Y.items&&Y.items.length>0){const Ee=Y.branchId;x(ot=>{var wt;const Be=[...ot[Ee]||[]];return(wt=Y.items)==null||wt.forEach(st=>{const Yt=Be.findIndex(ce=>ce.productId===st.id);if(Yt!==-1){Be[Yt].quantity=Math.max(0,Be[Yt].quantity-st.quantity);let ce=st.quantity;const Ge=Be[Yt].batches.map(Ye=>{if(ce<=0||Ye.status!=="ACTIVE")return Ye;if(Ye.quantity>=ce){const At=Ye.quantity-ce;return ce=0,{...Ye,quantity:At}}else return ce-=Ye.quantity,{...Ye,quantity:0}}).filter(Ye=>Ye.quantity>0);Be[Yt].batches=Ge}}),{...ot,[Ee]:Be}});const Ue=Y.items||[],je={id:`SALE-${Y.id}`,date:new Date().toISOString(),branchId:Y.branchId,items:Ue,totalAmount:Y.totalAmount,totalCost:Ue.reduce((ot,Be)=>ot+Be.costPrice*Be.quantity,0),profit:Y.totalAmount-Ue.reduce((ot,Be)=>ot+Be.costPrice*Be.quantity,0),paymentMethod:((Te=Y.payments[Y.payments.length-1])==null?void 0:Te.method)||Yi.CASH,customerName:Y.customerName,status:"COMPLETED"};try{await $e.createSale(je),T(ot=>[je,...ot])}catch(ot){console.error("Failed to record sale/payment:",ot),t("Warning","Sale recorded locally but may not be synced to backend. Please check inventory manually.")}}try{const Ee=await $e.getInvoices();N(Ee)}catch(Ee){console.error("Failed to refresh invoice data:",Ee)}},me=Y=>{I(le=>[Y,...le]),$e.createExpense(Y)},ne=async(Y,le)=>{const te=C;I(he=>he.map(Te=>Te.id===Y?{...Te,status:le}:Te));try{await $e.updateExpense(String(Y),{status:le}),e("Expense Updated",`Expense has been ${le.toLowerCase()} successfully.`)}catch(he){console.error("Failed to update expense:",he),I(te),t("Update Failed","There was an error updating the expense. Please try again.")}},ve=async(Y,le)=>{const te=R;L(he=>he.map(Te=>Te.id===Y?{...Te,status:le}:Te));try{if(await $e.approveDisposalRequest(Y),e("Disposal Request Updated",`Disposal request has been ${le.toLowerCase()} successfully.`),le==="APPROVED"){const he=R.find(Te=>Te.id===Y);he&&x(Te=>{const Ee={...Te};return he.items.forEach(Ue=>{Ee[he.branchId]&&(Ee[he.branchId]=Ee[he.branchId].map(je=>{if(je.productId===Ue.productId){const ot=je.batches.filter(Be=>Be.batchNumber!==Ue.batchNumber);return{...je,batches:ot,quantity:ot.reduce((Be,wt)=>Be+wt.quantity,0)}}return je}).filter(je=>je.quantity>0))}),Ee})}}catch(he){console.error("Failed to update disposal request:",he),L(te),t("Update Failed","There was an error updating the disposal request. Please try again.")}},re=async Y=>{B(le=>[Y,...le]);try{await $e.createStaff(Y),e("Staff Added",`${Y.name} has been added successfully.`)}catch(le){throw console.error("Failed to add staff:",le),B(te=>te.filter(he=>he.id!==Y.id)),t("Failed to Add Staff","Staff member was not saved to database. Please try again."),le}},ge=async Y=>{q(le=>[...le,Y]);try{await $e.request("/branches",{method:"POST",body:JSON.stringify(Y)})}catch(le){throw console.error("Failed to add branch:",le),q(te=>te.filter(he=>he.id!==Y.id)),le}},xe=async Y=>{const le=D;B(te=>te.map(he=>he.id===Y.id?Y:he));try{await $e.updateStaff(Y.id,{name:Y.name,role:Y.role,branchId:Y.branchId,email:Y.email,phone:Y.phone,status:Y.status,password:Y.password});const te=await $e.getBranches();q(te),e("Staff Updated",`${Y.name}'s information has been saved successfully.`)}catch(te){throw console.error("Failed to update staff:",te),B(le),t("Update Failed","There was an error saving the staff changes. Please try again."),te}},$=(Y,le)=>{if(Y==="invoice"){const te=P.find(he=>he.id===le);if(te){const he=!te.archived;N(Te=>Te.map(Ee=>Ee.id===le?{...Ee,archived:he}:Ee)),$e.request(`/${Y}/${le}/archive`,{method:"PATCH",body:JSON.stringify({archived:he})})}}else{const te=C.find(he=>he.id===le);if(te){const he=!te.archived;I(Te=>Te.map(Ee=>Ee.id===le?{...Ee,archived:he}:Ee)),$e.request(`/${Y}/${le}/archive`,{method:"PATCH",body:JSON.stringify({archived:he})})}}},Ae=Y=>{const le=new Date;le.setMonth(le.getMonth()-Y);const te=le.toISOString().split("T")[0];let he=0;N(Te=>Te.map(Ee=>Ee.status==="PAID"&&Ee.dateIssued<te&&!Ee.archived?(he++,$e.request(`/invoice/${Ee.id}/archive`,{method:"PATCH",body:JSON.stringify({archived:!0})}),{...Ee,archived:!0}):Ee)),I(Te=>Te.map(Ee=>["Approved","Rejected"].includes(Ee.status)&&Ee.date<te&&!Ee.archived?(he++,$e.request(`/expense/${Ee.id}/archive`,{method:"PATCH",body:JSON.stringify({archived:!0})}),{...Ee,archived:!0}):Ee)),e("Auto-Archive Complete",`${he} items have been moved to archive.`)};if(!o)return i.jsx(JR,{onLogin:J});if(g)return i.jsxs("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white flex-col",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mb-4"}),i.jsx("p",{children:"Loading PMS Data..."})]});const Se=W.find(Y=>Y.id===o.branchId);if(o.role!==ut.SUPER_ADMIN&&(Se==null?void 0:Se.status)==="INACTIVE")return i.jsx("div",{className:"h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:i.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-md text-center border border-slate-200",children:[i.jsx("div",{className:"w-16 h-16 bg-rose-100 text-rose-600 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(wl,{size:32})}),i.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Access Restricted"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-rose-600 bg-rose-50 p-3 rounded-lg mb-4",children:[i.jsx(Bn,{size:18}),i.jsx("span",{className:"font-bold",children:"Branch Inactive"})]}),i.jsxs("p",{className:"text-slate-500 mb-8",children:["The branch ",i.jsx("strong",{children:Se.name})," has been deactivated."]}),i.jsx("button",{onClick:F,className:"w-full py-3 bg-slate-800 text-white rounded-xl font-bold hover:bg-slate-900 transition-colors",children:"Return to Login"})]})});const Re=()=>{switch(u){case"dashboard":return i.jsx(RE,{currentBranchId:f,inventory:_,sales:A,expenses:C,onViewInventory:()=>d("inventory")});case"approvals":return i.jsx(VH,{releaseRequests:[],onApproveRelease:()=>{},requisitions:[],onActionRequisition:()=>{},disposalRequests:R,onApproveDisposal:ve,expenses:C,onActionExpense:ne,transfers:b,onApproveTransfer:()=>{}});case"pos":return i.jsx(MH,{currentBranchId:f,inventory:_,onCreateInvoice:fe,products:v});case"inventory":return i.jsx(RH,{currentBranchId:f,inventory:_,setInventory:x,transfers:b,setTransfers:E,sales:A,currentUser:o,products:v,setProducts:w,branches:W,onAddStock:H,onAddProduct:X,onUpdateProduct:O,onCreateTransfer:G});case"finance":return i.jsx($H,{currentBranchId:f,invoices:P.filter(Y=>!Y.archived),expenses:C.filter(Y=>!Y.archived),sales:A,onProcessPayment:pe,onCreateExpense:me,onArchiveItem:(Y,le)=>$(Y,le),branches:W,settings:ee});case"staff":return i.jsx(FH,{currentBranchId:f,branches:W,staffList:D,onAddStaff:re,onUpdateStaff:xe});case"branches":return i.jsx(qH,{branches:W,onUpdateBranches:q,onAddBranch:ge,staff:D,currentUser:o});case"clinical":return i.jsx(UH,{currentBranchId:f});case"reports":return i.jsx(BH,{currentBranchId:f,inventory:_,sales:A,expenses:C});case"archive":return i.jsx(GH,{currentBranchId:f,invoices:P,expenses:C,onRestore:(Y,le)=>$(Y,le),onAutoArchive:Ae});case"settings":return i.jsx(zH,{currentBranchId:f,inventory:_,sales:A,expenses:C,invoices:P});default:return i.jsx(RE,{currentBranchId:f,inventory:_,sales:A,expenses:C,onViewInventory:()=>d("inventory")})}};return i.jsxs(BR,{activeTab:u,setActiveTab:d,currentBranchId:f,setCurrentBranchId:p,currentUser:o,onLogout:F,branches:W,children:[Re(),i.jsx(kH,{})]})},WH=()=>i.jsx(jH,{children:i.jsx(HH,{})}),vk=document.getElementById("root");if(!vk)throw new Error("Could not find root element to mount to");const KH=aR.createRoot(vk);KH.render(i.jsx(z.StrictMode,{children:i.jsx(WH,{})}));
